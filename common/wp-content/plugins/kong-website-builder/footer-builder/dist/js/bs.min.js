!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){"use strict";t(1),t(327),t(328),t(343)},function(e,exports,t){(function(e){"use strict";function n(e,t,n){e[t]||Object[o](e,t,{writable:!0,configurable:!0,value:n})}if(t(2),t(323),t(324),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var o="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(exports,function(){return this}())},function(e,exports,t){t(3),t(51),t(52),t(53),t(54),t(56),t(59),t(60),t(61),t(62),t(63),t(64),t(65),t(66),t(67),t(69),t(71),t(73),t(75),t(78),t(79),t(80),t(84),t(86),t(88),t(91),t(92),t(93),t(94),t(96),t(97),t(98),t(99),t(100),t(101),t(102),t(104),t(105),t(106),t(108),t(109),t(110),t(112),t(114),t(115),t(116),t(117),t(118),t(119),t(120),t(121),t(122),t(123),t(124),t(125),t(126),t(131),t(132),t(136),t(137),t(138),t(139),t(141),t(142),t(143),t(144),t(145),t(146),t(147),t(148),t(149),t(150),t(151),t(152),t(153),t(154),t(155),t(157),t(158),t(160),t(161),t(167),t(168),t(170),t(171),t(172),t(176),t(177),t(178),t(179),t(180),t(182),t(183),t(184),t(185),t(188),t(190),t(191),t(192),t(194),t(196),t(198),t(199),t(200),t(202),t(203),t(204),t(205),t(215),t(219),t(220),t(222),t(223),t(227),t(228),t(230),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(250),t(251),t(252),t(253),t(254),t(256),t(257),t(258),t(261),t(262),t(263),t(264),t(265),t(266),t(267),t(268),t(270),t(271),t(273),t(274),t(275),t(276),t(279),t(280),t(282),t(283),t(284),t(285),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(298),t(299),t(300),t(301),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),e.exports=t(9)},function(e,exports,t){"use strict";var n=t(4),o=t(5),i=t(6),r=t(8),a=t(18),s=t(22).KEY,l=t(7),c=t(23),d=t(24),u=t(19),p=t(25),g=t(26),f=t(27),_=t(29),m=t(44),v=t(12),h=t(13),b=t(32),k=t(16),y=t(17),w=t(45),x=t(48),S=t(50),C=t(11),P=t(30),E=S.f,M=C.f,N=x.f,O=n.Symbol,I=n.JSON,L=I&&I.stringify,D=p("_hidden"),A=p("toPrimitive"),T={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),K=c("op-symbols"),R=Object.prototype,B="function"==typeof O,W=n.QObject,G=!W||!W.prototype||!W.prototype.findChild,z=i&&l(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=E(R,t);o&&delete R[t],M(e,t,n),o&&e!==R&&M(R,t,o)}:M,V=function(e){var t=j[e]=w(O.prototype);return t._k=e,t},H=B&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},U=function(e,t,n){return e===R&&U(K,t,n),v(e),t=k(t,!0),v(n),o(j,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=w(n,{enumerable:y(0,!1)})):(o(e,D)||M(e,D,y(1,{})),e[D][t]=!0),z(e,t,n)):M(e,t,n)},q=function(e,t){v(e);for(var n,o=_(t=b(t)),i=0,r=o.length;r>i;)U(e,n=o[i++],t[n]);return e},J=function(e,t){return void 0===t?w(e):q(w(e),t)},Y=function(e){var t=T.call(this,e=k(e,!0));return!(this===R&&o(j,e)&&!o(K,e))&&(!(t||!o(this,e)||!o(j,e)||o(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=b(e),t=k(t,!0),e!==R||!o(j,t)||o(K,t)){var n=E(e,t);return!n||!o(j,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=N(b(e)),i=[],r=0;n.length>r;)o(j,t=n[r++])||t==D||t==s||i.push(t);return i},Z=function(e){for(var t,n=e===R,i=N(n?K:b(e)),r=[],a=0;i.length>a;)!o(j,t=i[a++])||n&&!o(R,t)||r.push(j[t]);return r};B||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(n){this===R&&t.call(K,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),z(this,e,y(1,n))};return i&&G&&z(R,e,{configurable:!0,set:t}),V(e)},a(O.prototype,"toString",function(){return this._k}),S.f=Q,C.f=U,t(49).f=x.f=X,t(43).f=Y,t(42).f=Z,i&&!t(28)&&a(R,"propertyIsEnumerable",Y,!0),g.f=function(e){return V(p(e))}),r(r.G+r.W+r.F*!B,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=P(p.store),oe=0;ne.length>oe;)f(ne[oe++]);r(r.S+r.F*!B,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=O(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),r(r.S+r.F*!B,"Object",{create:J,defineProperty:U,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),I&&r(r.S+r.F*(!B||l(function(){var e=O();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t=o[1],(h(t)||void 0!==e)&&!H(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!H(t))return t}),o[1]=t,L.apply(I,o)}}),O.prototype[A]||t(10)(O.prototype,A,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,exports){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,exports){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,exports,t){e.exports=!t(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,exports){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,exports,t){var n=t(4),o=t(9),i=t(10),r=t(18),a=t(20),s=function(e,t,l){var c,d,u,p,g=e&s.F,f=e&s.G,_=e&s.S,m=e&s.P,v=e&s.B,h=f?n:_?n[t]||(n[t]={}):(n[t]||{}).prototype,exports=f?o:o[t]||(o[t]={}),b=exports.prototype||(exports.prototype={});f&&(l=t);for(c in l)d=!g&&h&&void 0!==h[c],u=(d?h:l)[c],p=v&&d?a(u,n):m&&"function"==typeof u?a(Function.call,u):u,h&&r(h,c,u,e&s.U),exports[c]!=u&&i(exports,c,p),m&&b[c]!=u&&(b[c]=u)};n.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,exports){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)},function(e,exports,t){var n=t(11),o=t(17);e.exports=t(6)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,n){return e[t]=n,e}},function(e,exports,t){var n=t(12),o=t(14),i=t(16),r=Object.defineProperty;exports.f=t(6)?Object.defineProperty:function(e,t,a){if(n(e),t=i(t,!0),n(a),o)try{return r(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},function(e,exports,t){var n=t(13);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,exports){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,exports,t){e.exports=!t(6)&&!t(7)(function(){return 7!=Object.defineProperty(t(15)("div"),"a",{get:function(){return 7}}).a})},function(e,exports,t){var n=t(13),o=t(4).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,exports,t){var n=t(13);e.exports=function(e,t){if(!n(e))return e;var o,i;if(t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;if("function"==typeof(o=e.valueOf)&&!n(i=o.call(e)))return i;if(!t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,exports){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,exports,t){var n=t(4),o=t(10),i=t(5),r=t(19)("src"),a=Function.toString,s=(""+a).split("toString");t(9).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,a,l){var c="function"==typeof a;c&&(i(a,"name")||o(a,"name",t)),e[t]!==a&&(c&&(i(a,r)||o(a,r,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=a:l?e[t]?e[t]=a:o(e,t,a):(delete e[t],o(e,t,a)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||a.call(this)})},function(e,exports){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e,exports,t){var n=t(21);e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,exports){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,exports,t){var n=t(19)("meta"),o=t(13),i=t(5),r=t(11).f,a=0,s=Object.isExtensible||function(){return!0},l=!t(7)(function(){return s(Object.preventExtensions({}))}),c=function(e){r(e,n,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[n].i},u=function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return l&&g.NEED&&s(e)&&!i(e,n)&&c(e),e},g=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:u,onFreeze:p}},function(e,exports,t){var n=t(4),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,exports,t){var n=t(11).f,o=t(5),i=t(25)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,exports,t){var n=t(23)("wks"),o=t(19),i=t(4).Symbol,r="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=r&&i[e]||(r?i:o)("Symbol."+e))}).store=n},function(e,exports,t){exports.f=t(25)},function(e,exports,t){var n=t(4),o=t(9),i=t(28),r=t(26),a=t(11).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:r.f(e)})}},function(e,exports){e.exports=!1},function(e,exports,t){var n=t(30),o=t(42),i=t(43);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,exports,t){var n=t(31),o=t(41);e.exports=Object.keys||function(e){return n(e,o)}},function(e,exports,t){var n=t(5),o=t(32),i=t(36)(!1),r=t(40)("IE_PROTO");e.exports=function(e,t){var a,s=o(e),l=0,c=[];for(a in s)a!=r&&n(s,a)&&c.push(a);for(;t.length>l;)n(s,a=t[l++])&&(~i(c,a)||c.push(a));return c}},function(e,exports,t){var n=t(33),o=t(35);e.exports=function(e){return n(o(e))}},function(e,exports,t){var n=t(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,exports){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,exports){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,exports,t){var n=t(32),o=t(37),i=t(39);e.exports=function(e){return function(t,r,a){var s,l=n(t),c=o(l.length),d=i(a,c);if(e&&r!=r){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===r)return e||d||0;return!e&&-1}}},function(e,exports,t){var n=t(38),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,exports){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,exports,t){var n=t(38),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},function(e,exports,t){var n=t(23)("keys"),o=t(19);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,exports){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,exports){exports.f=Object.getOwnPropertySymbols},function(e,exports){exports.f={}.propertyIsEnumerable},function(e,exports,t){var n=t(34);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,exports,t){var n=t(12),o=t(46),i=t(41),r=t(40)("IE_PROTO"),a=function(){},s=function(){var e,n=t(15)("iframe"),o=i.length;for(n.style.display="none",t(47).appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;o--;)delete s.prototype[i[o]];return s()};e.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=n(e),i=new a,a.prototype=null,i[r]=e):i=s(),void 0===t?i:o(i,t)}},function(e,exports,t){var n=t(11),o=t(12),i=t(30);e.exports=t(6)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},function(e,exports,t){var n=t(4).document;e.exports=n&&n.documentElement},function(e,exports,t){var n=t(32),o=t(49).f,i={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return r.slice()}};e.exports.f=function(e){return r&&"[object Window]"==i.call(e)?a(e):o(n(e))}},function(e,exports,t){var n=t(31),o=t(41).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,exports,t){var n=t(43),o=t(17),i=t(32),r=t(16),a=t(5),s=t(14),l=Object.getOwnPropertyDescriptor;exports.f=t(6)?l:function(e,t){if(e=i(e),t=r(t,!0),s)try{return l(e,t)}catch(e){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},function(e,exports,t){var n=t(8);n(n.S,"Object",{create:t(45)})},function(e,exports,t){var n=t(8);n(n.S+n.F*!t(6),"Object",{defineProperty:t(11).f})},function(e,exports,t){var n=t(8);n(n.S+n.F*!t(6),"Object",{defineProperties:t(46)})},function(e,exports,t){var n=t(32),o=t(50).f;t(55)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},function(e,exports,t){var n=t(8),o=t(9),i=t(7);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},function(e,exports,t){var n=t(57),o=t(58);t(55)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,exports,t){var n=t(35);e.exports=function(e){return Object(n(e))}},function(e,exports,t){var n=t(5),o=t(57),i=t(40)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,exports,t){var n=t(57),o=t(30);t(55)("keys",function(){return function(e){return o(n(e))}})},function(e,exports,t){t(55)("getOwnPropertyNames",function(){return t(48).f})},function(e,exports,t){var n=t(13),o=t(22).onFreeze;t(55)("freeze",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},function(e,exports,t){var n=t(13),o=t(22).onFreeze;t(55)("seal",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},function(e,exports,t){var n=t(13),o=t(22).onFreeze;t(55)("preventExtensions",function(e){return function(t){return e&&n(t)?e(o(t)):t}})},function(e,exports,t){var n=t(13);t(55)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,exports,t){var n=t(13);t(55)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,exports,t){var n=t(13);t(55)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,exports,t){var n=t(8);n(n.S+n.F,"Object",{assign:t(68)})},function(e,exports,t){"use strict";var n=t(30),o=t(42),i=t(43),r=t(57),a=t(33),s=Object.assign;e.exports=!s||t(7)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=o})?function(e,t){for(var s=r(e),l=arguments.length,c=1,d=o.f,u=i.f;l>c;)for(var p,g=a(arguments[c++]),f=d?n(g).concat(d(g)):n(g),_=f.length,m=0;_>m;)u.call(g,p=f[m++])&&(s[p]=g[p]);return s}:s},function(e,exports,t){var n=t(8);n(n.S,"Object",{is:t(70)})},function(e,exports){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,exports,t){var n=t(8);n(n.S,"Object",{setPrototypeOf:t(72).set})},function(e,exports,t){var n=t(13),o=t(12),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,o){try{o=t(20)(Function.call,t(50).f(Object.prototype,"__proto__").set,2),o(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:i}},function(e,exports,t){"use strict";var n=t(74),o={};o[t(25)("toStringTag")]="z",o+""!="[object z]"&&t(18)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,exports,t){var n=t(34),o=t(25)("toStringTag"),i="Arguments"==n(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,a,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=r(t=Object(e),o))?a:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,exports,t){var n=t(8);n(n.P,"Function",{bind:t(76)})},function(e,exports,t){"use strict";var n=t(21),o=t(13),i=t(77),r=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var o=[],i=0;i<t;i++)o[i]="a["+i+"]";a[t]=Function("F,a","return new F("+o.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=n(this),a=r.call(arguments,1),l=function(){var n=a.concat(r.call(arguments));return this instanceof l?s(t,n.length,n):i(t,n,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},function(e,exports){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,exports,t){var n=t(11).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||t(6)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,exports,t){"use strict";var n=t(13),o=t(58),i=t(25)("hasInstance"),r=Function.prototype;i in r||t(11).f(r,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,exports,t){var n=t(8),o=t(81);n(n.G+n.F*(parseInt!=o),{parseInt:o})},function(e,exports,t){var n=t(4).parseInt,o=t(82).trim,i=t(83),r=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var i=o(String(e),3);return n(i,t>>>0||(r.test(i)?16:10))}:n},function(e,exports,t){var n=t(8),o=t(35),i=t(7),r=t(83),a="["+r+"]",s="​",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=function(e,t,o){var a={},l=i(function(){return!!r[e]()||s[e]()!=s}),c=a[e]=l?t(u):r[e];o&&(a[o]=c),n(n.P+n.F*l,"String",a)},u=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,exports){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,exports,t){var n=t(8),o=t(85);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},function(e,exports,t){var n=t(4).parseFloat,o=t(82).trim;e.exports=1/n(t(83)+"-0")!=-1/0?function(e){var t=o(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},function(e,exports,t){"use strict";var n=t(4),o=t(5),i=t(34),r=t(87),a=t(16),s=t(7),l=t(49).f,c=t(50).f,d=t(11).f,u=t(82).trim,p=n.Number,g=p,f=p.prototype,_="Number"==i(t(45)(f)),m="trim"in String.prototype,v=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():u(t,3);var n,o,i,r=t.charCodeAt(0);if(43===r||45===r){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+t}for(var s,l=t.slice(2),c=0,d=l.length;c<d;c++)if((s=l.charCodeAt(c))<48||s>i)return NaN;return parseInt(l,o)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(_?s(function(){f.valueOf.call(n)}):"Number"!=i(n))?r(new g(v(t)),n,p):v(t)};for(var h,b=t(6)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;b.length>k;k++)o(g,h=b[k])&&!o(p,h)&&d(p,h,c(g,h));p.prototype=f,f.constructor=p,t(18)(n,"Number",p)}},function(e,exports,t){var n=t(13),o=t(72).set;e.exports=function(e,t,i){var r,a=t.constructor;return a!==i&&"function"==typeof a&&(r=a.prototype)!==i.prototype&&n(r)&&o&&o(e,r),e}},function(e,exports,t){"use strict";var n=t(8),o=t(38),i=t(89),r=t(90),a=1..toFixed,s=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,o=t;++n<6;)o+=e*l[n],l[n]=o%1e7,o=s(o/1e7)},u=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=s(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+r.call("0",7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)},f=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(7)(function(){a.call({})})),"Number",{toFixed:function(e){var t,n,a,s,l=i(this,c),_=o(e),m="",v="0";if(_<0||_>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=f(l*g(2,69,1))-69,n=t<0?l*g(2,-t,1):l/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),a=_;a>=7;)d(1e7,0),a-=7;for(d(g(10,a,1),0),a=t-1;a>=23;)u(1<<23),a-=23;u(1<<a),d(1,1),u(2),v=p()}else d(0,n),d(1<<-t,0),v=p()+r.call("0",_);return _>0?(s=v.length,v=m+(s<=_?"0."+r.call("0",_-s)+v:v.slice(0,s-_)+"."+v.slice(s-_))):v=m+v,v}})},function(e,exports,t){var n=t(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,exports,t){"use strict";var n=t(38),o=t(35);e.exports=function(e){var t=String(o(this)),i="",r=n(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(i+=t);return i}},function(e,exports,t){"use strict";var n=t(8),o=t(7),i=t(89),r=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==r.call(1,void 0)})||!o(function(){r.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?r.call(t):r.call(t,e)}})},function(e,exports,t){var n=t(8);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,exports,t){var n=t(8),o=t(4).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,exports,t){var n=t(8);n(n.S,"Number",{isInteger:t(95)})},function(e,exports,t){var n=t(13),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,exports,t){var n=t(8);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,exports,t){var n=t(8),o=t(95),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,exports,t){var n=t(8);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,exports,t){var n=t(8);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,exports,t){var n=t(8),o=t(85);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,exports,t){var n=t(8),o=t(81);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,exports,t){var n=t(8),o=t(103),i=Math.sqrt,r=Math.acosh;n(n.S+n.F*!(r&&710==Math.floor(r(Number.MAX_VALUE))&&r(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,exports){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,exports,t){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=t(8),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:n})},function(e,exports,t){var n=t(8),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,exports,t){var n=t(8),o=t(107);n(n.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,exports){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,exports,t){var n=t(8);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,exports,t){var n=t(8),o=Math.exp;n(n.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,exports,t){var n=t(8),o=t(111);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,exports){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},function(e,exports,t){var n=t(8);n(n.S,"Math",{fround:t(113)})},function(e,exports,t){var n=t(107),o=Math.pow,i=o(2,-52),r=o(2,-23),a=o(2,127)*(2-r),s=o(2,-126),l=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t,o,c=Math.abs(e),d=n(e);return c<s?d*l(c/s/r)*s*r:(t=(1+r/i)*c,o=t-(t-c),o>a||o!=o?d*(1/0):d*o)}},function(e,exports,t){var n=t(8),o=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var n,i,r=0,a=0,s=arguments.length,l=0;a<s;)n=o(arguments[a++]),l<n?(i=l/n,r=r*i*i+1,l=n):n>0?(i=n/l,r+=i*i):r+=n;return l===1/0?1/0:l*Math.sqrt(r)}})},function(e,exports,t){var n=t(8),o=Math.imul;n(n.S+n.F*t(7)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,o=+t,i=65535&n,r=65535&o;return 0|i*r+((65535&n>>>16)*r+i*(65535&o>>>16)<<16>>>0)}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{log1p:t(103)})},function(e,exports,t){var n=t(8);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{sign:t(107)})},function(e,exports,t){var n=t(8),o=t(111),i=Math.exp;n(n.S+n.F*t(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,exports,t){var n=t(8),o=t(111),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,exports,t){var n=t(8),o=t(39),i=String.fromCharCode,r=String.fromCodePoint;n(n.S+n.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,exports,t){var n=t(8),o=t(32),i=t(37);n(n.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,exports,t){"use strict";t(82)("trim",function(e){return function(){return e(this,3)}})},function(e,exports,t){"use strict";var n=t(127)(!0);t(128)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})})},function(e,exports,t){var n=t(38),o=t(35);e.exports=function(e){return function(t,i){var r,a,s=String(o(t)),l=n(i),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l),r<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):r:e?s.slice(l,l+2):a-56320+(r-55296<<10)+65536)}}},function(e,exports,t){"use strict";var n=t(28),o=t(8),i=t(18),r=t(10),a=t(5),s=t(129),l=t(130),c=t(24),d=t(58),u=t(25)("iterator"),p=!([].keys&&"next"in[].keys()),g=function(){return this};e.exports=function(e,t,f,_,m,v,h){l(f,t,_);var b,k,y,w=function(e){if(!p&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new f(this,e)}}return function(){return new f(this,e)}},x=t+" Iterator",S="values"==m,C=!1,P=e.prototype,E=P[u]||P["@@iterator"]||m&&P[m],M=!p&&E||w(m),N=m?S?w("entries"):M:void 0,O="Array"==t?P.entries||E:E;if(O&&(y=d(O.call(new e)))!==Object.prototype&&y.next&&(c(y,x,!0),n||a(y,u)||r(y,u,g)),S&&E&&"values"!==E.name&&(C=!0,M=function(){return E.call(this)}),n&&!h||!p&&!C&&P[u]||r(P,u,M),s[t]=M,s[x]=g,m)if(b={values:S?M:w("values"),keys:v?M:w("keys"),entries:N},h)for(k in b)k in P||i(P,k,b[k]);else o(o.P+o.F*(p||C),t,b);return b}},function(e,exports){e.exports={}},function(e,exports,t){"use strict";var n=t(45),o=t(17),i=t(24),r={};t(10)(r,t(25)("iterator"),function(){return this}),e.exports=function(e,t,a){e.prototype=n(r,{next:o(1,a)}),i(e,t+" Iterator")}},function(e,exports,t){"use strict";var n=t(8),o=t(127)(!1);n(n.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,exports,t){"use strict";var n=t(8),o=t(37),i=t(133),r="".endsWith;n(n.P+n.F*t(135)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,a=o(t.length),s=void 0===n?a:Math.min(o(n),a),l=String(e);return r?r.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,exports,t){var n=t(134),o=t(35);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(e))}},function(e,exports,t){var n=t(13),o=t(34),i=t(25)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,exports,t){var n=t(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,exports,t){"use strict";var n=t(8),o=t(133);n(n.P+n.F*t(135)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,exports,t){var n=t(8);n(n.P,"String",{repeat:t(90)})},function(e,exports,t){"use strict";var n=t(8),o=t(37),i=t(133),r="".startsWith;n(n.P+n.F*t(135)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return r?r.call(t,a,n):t.slice(n,n+a.length)===a}})},function(e,exports,t){"use strict";t(140)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,exports,t){var n=t(8),o=t(7),i=t(35),r=/"/g,a=function(e,t,n,o){var a=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(a),n(n.P+n.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},function(e,exports,t){"use strict";t(140)("big",function(e){return function(){return e(this,"big","","")}})},function(e,exports,t){"use strict";t(140)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,exports,t){"use strict";t(140)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,exports,t){"use strict";t(140)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,exports,t){"use strict";t(140)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,exports,t){"use strict";t(140)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,exports,t){"use strict";t(140)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,exports,t){"use strict";t(140)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,exports,t){"use strict";t(140)("small",function(e){return function(){return e(this,"small","","")}})},function(e,exports,t){"use strict";t(140)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,exports,t){"use strict";t(140)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,exports,t){"use strict";t(140)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,exports,t){var n=t(8);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,exports,t){"use strict";var n=t(8),o=t(57),i=t(16);n(n.P+n.F*t(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,exports,t){var n=t(8),o=t(156);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,exports,t){"use strict";var n=t(7),o=Date.prototype.getTime,i=Date.prototype.toISOString,r=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+(n>99?n:"0"+r(n))+"Z"}:i},function(e,exports,t){var n=Date.prototype,o=n.toString,i=n.getTime;new Date(NaN)+""!="Invalid Date"&&t(18)(n,"toString",function(){var e=i.call(this);return e===e?o.call(this):"Invalid Date"})},function(e,exports,t){var n=t(25)("toPrimitive"),o=Date.prototype;n in o||t(10)(o,n,t(159))},function(e,exports,t){"use strict";var n=t(12),o=t(16);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),"number"!=e)}},function(e,exports,t){var n=t(8);n(n.S,"Array",{isArray:t(44)})},function(e,exports,t){"use strict";var n=t(20),o=t(8),i=t(57),r=t(162),a=t(163),s=t(37),l=t(164),c=t(165);o(o.S+o.F*!t(166)(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,d,u,p=i(e),g="function"==typeof this?this:Array,f=arguments.length,_=f>1?arguments[1]:void 0,m=void 0!==_,v=0,h=c(p);if(m&&(_=n(_,f>2?arguments[2]:void 0,2)),void 0==h||g==Array&&a(h))for(t=s(p.length),o=new g(t);t>v;v++)l(o,v,m?_(p[v],v):p[v]);else for(u=h.call(p),o=new g;!(d=u.next()).done;v++)l(o,v,m?r(u,_,[d.value,v],!0):d.value);return o.length=v,o}})},function(e,exports,t){var n=t(12);e.exports=function(e,t,o,i){try{return i?t(n(o)[0],o[1]):t(o)}catch(t){var r=e.return;throw void 0!==r&&n(r.call(e)),t}}},function(e,exports,t){var n=t(129),o=t(25)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,exports,t){"use strict";var n=t(11),o=t(17);e.exports=function(e,t,i){t in e?n.f(e,t,o(0,i)):e[t]=i}},function(e,exports,t){var n=t(74),o=t(25)("iterator"),i=t(129);e.exports=t(9).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,exports,t){var n=t(25)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},e(r)}catch(e){}return i}},function(e,exports,t){"use strict";var n=t(8),o=t(164);n(n.S+n.F*t(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,exports,t){"use strict";var n=t(8),o=t(32),i=[].join;n(n.P+n.F*(t(33)!=Object||!t(169)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,exports,t){"use strict";var n=t(7);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,exports,t){"use strict";var n=t(8),o=t(47),i=t(34),r=t(39),a=t(37),s=[].slice;n(n.P+n.F*t(7)(function(){o&&s.call(o)}),"Array",{slice:function(e,t){var n=a(this.length),o=i(this);if(t=void 0===t?n:t,"Array"==o)return s.call(this,e,t);for(var l=r(e,n),c=r(t,n),d=a(c-l),u=new Array(d),p=0;p<d;p++)u[p]="String"==o?this.charAt(l+p):this[l+p];return u}})},function(e,exports,t){"use strict";var n=t(8),o=t(21),i=t(57),r=t(7),a=[].sort,s=[1,2,3];n(n.P+n.F*(r(function(){s.sort(void 0)})||!r(function(){s.sort(null)})||!t(169)(a)),"Array",{sort:function(e){return void 0===e?a.call(i(this)):a.call(i(this),o(e))}})},function(e,exports,t){"use strict";var n=t(8),o=t(173)(0),i=t(169)([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,exports,t){var n=t(20),o=t(33),i=t(57),r=t(37),a=t(174);e.exports=function(e,t){var s=1==e,l=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,g=t||a;return function(t,a,f){for(var _,m,v=i(t),h=o(v),b=n(a,f,3),k=r(h.length),y=0,w=s?g(t,k):l?g(t,0):void 0;k>y;y++)if((p||y in h)&&(_=h[y],m=b(_,y,v),e))if(s)w[y]=m;else if(m)switch(e){case 3:return!0;case 5:return _;case 6:return y;case 2:w.push(_)}else if(d)return!1;return u?-1:c||d?d:w}}},function(e,exports,t){var n=t(175);e.exports=function(e,t){return new(n(e))(t)}},function(e,exports,t){var n=t(13),o=t(44),i=t(25)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,exports,t){"use strict";var n=t(8),o=t(173)(1);n(n.P+n.F*!t(169)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,exports,t){"use strict";var n=t(8),o=t(173)(2);n(n.P+n.F*!t(169)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,exports,t){"use strict";var n=t(8),o=t(173)(3);n(n.P+n.F*!t(169)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,exports,t){"use strict";var n=t(8),o=t(173)(4);n(n.P+n.F*!t(169)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,exports,t){"use strict";var n=t(8),o=t(181);n(n.P+n.F*!t(169)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,exports,t){var n=t(21),o=t(57),i=t(33),r=t(37);e.exports=function(e,t,a,s,l){n(t);var c=o(e),d=i(c),u=r(c.length),p=l?u-1:0,g=l?-1:1;if(a<2)for(;;){if(p in d){s=d[p],p+=g;break}if(p+=g,l?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:u>p;p+=g)p in d&&(s=t(s,d[p],p,c));return s}},function(e,exports,t){"use strict";var n=t(8),o=t(181);n(n.P+n.F*!t(169)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,exports,t){"use strict";var n=t(8),o=t(36)(!1),i=[].indexOf,r=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(r||!t(169)(i)),"Array",{indexOf:function(e){return r?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,exports,t){"use strict";var n=t(8),o=t(32),i=t(38),r=t(37),a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(s||!t(169)(a)),"Array",{lastIndexOf:function(e){if(s)return a.apply(this,arguments)||0;var t=o(this),n=r(t.length),l=n-1;for(arguments.length>1&&(l=Math.min(l,i(arguments[1]))),l<0&&(l=n+l);l>=0;l--)if(l in t&&t[l]===e)return l||0;return-1}})},function(e,exports,t){var n=t(8);n(n.P,"Array",{copyWithin:t(186)}),t(187)("copyWithin")},function(e,exports,t){"use strict";var n=t(57),o=t(39),i=t(37);e.exports=[].copyWithin||function(e,t){var r=n(this),a=i(r.length),s=o(e,a),l=o(t,a),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?a:o(c,a))-l,a-s),u=1;for(l<s&&s<l+d&&(u=-1,l+=d-1,s+=d-1);d-- >0;)l in r?r[s]=r[l]:delete r[s],s+=u,l+=u;return r}},function(e,exports,t){var n=t(25)("unscopables"),o=Array.prototype;void 0==o[n]&&t(10)(o,n,{}),e.exports=function(e){o[n][e]=!0}},function(e,exports,t){var n=t(8);n(n.P,"Array",{fill:t(189)}),t(187)("fill")},function(e,exports,t){"use strict";var n=t(57),o=t(39),i=t(37);e.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),l=a>2?arguments[2]:void 0,c=void 0===l?r:o(l,r);c>s;)t[s++]=e;return t}},function(e,exports,t){"use strict";var n=t(8),o=t(173)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)("find")},function(e,exports,t){"use strict";var n=t(8),o=t(173)(6),i="findIndex",r=!0;i in[]&&Array(1)[i](function(){r=!1}),n(n.P+n.F*r,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)(i)},function(e,exports,t){t(193)("Array")},function(e,exports,t){"use strict";var n=t(4),o=t(11),i=t(6),r=t(25)("species");e.exports=function(e){var t=n[e];i&&t&&!t[r]&&o.f(t,r,{configurable:!0,get:function(){return this}})}},function(e,exports,t){"use strict";var n=t(187),o=t(195),i=t(129),r=t(32);e.exports=t(128)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,exports){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,exports,t){var n=t(4),o=t(87),i=t(11).f,r=t(49).f,a=t(134),s=t(197),l=n.RegExp,c=l,d=l.prototype,u=/a/g,p=/a/g,g=new l(u)!==u;if(t(6)&&(!g||t(7)(function(){return p[t(25)("match")]=!1,l(u)!=u||l(p)==p||"/a/i"!=l(u,"i")}))){l=function(e,t){var n=this instanceof l,i=a(e),r=void 0===t;return!n&&i&&e.constructor===l&&r?e:o(g?new c(i&&!r?e.source:e,t):c((i=e instanceof l)?e.source:e,i&&r?s.call(e):t),n?this:d,l)};for(var f=r(c),_=0;f.length>_;)!function(e){e in l||i(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(f[_++]);d.constructor=l,l.prototype=d,t(18)(n,"RegExp",l)}t(193)("RegExp")},function(e,exports,t){"use strict";var n=t(12);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,exports,t){"use strict";t(199);var n=t(12),o=t(197),i=t(6),r=/./.toString,a=function(e){t(18)(RegExp.prototype,"toString",e,!0)};t(7)(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?a(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=r.name&&a(function(){return r.call(this)})},function(e,exports,t){t(6)&&"g"!=/./g.flags&&t(11).f(RegExp.prototype,"flags",{configurable:!0,get:t(197)})},function(e,exports,t){t(201)("match",1,function(e,t,n){return[function(n){"use strict";var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o):new RegExp(n)[t](String(o))},n]})},function(e,exports,t){"use strict";var n=t(10),o=t(18),i=t(7),r=t(35),a=t(25);e.exports=function(e,t,s){var l=a(e),c=s(r,l,""[e]),d=c[0],u=c[1];i(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,d),n(RegExp.prototype,l,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)}))}},function(e,exports,t){t(201)("replace",2,function(e,t,n){return[function(o,i){"use strict";var r=e(this),a=void 0==o?void 0:o[t];return void 0!==a?a.call(o,r,i):n.call(String(r),o,i)},n]})},function(e,exports,t){t(201)("search",1,function(e,t,n){return[function(n){"use strict";var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o):new RegExp(n)[t](String(o))},n]})},function(e,exports,t){t(201)("split",2,function(e,n,o){"use strict";var i=t(134),r=o,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];o=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return r.call(n,e,t);var o,c,d,u,p,g=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,m=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(l||(o=new RegExp("^"+v.source+"$(?!\\s)",f));(c=v.exec(n))&&!((d=c.index+c[0][s])>_&&(g.push(n.slice(_,c.index)),!l&&c[s]>1&&c[0].replace(o,function(){for(p=1;p<arguments[s]-2;p++)void 0===arguments[p]&&(c[p]=void 0)}),c[s]>1&&c.index<n[s]&&a.apply(g,c.slice(1)),u=c[0][s],_=d,g[s]>=m));)v.lastIndex===c.index&&v.lastIndex++;return _===n[s]?!u&&v.test("")||g.push(""):g.push(n.slice(_)),g[s]>m?g.slice(0,m):g}}else"0".split(void 0,0)[s]&&(o=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(t,i){var r=e(this),a=void 0==t?void 0:t[n];return void 0!==a?a.call(t,r,i):o.call(String(r),t,i)},o]})},function(e,exports,t){"use strict";var n,o,i,r,a=t(28),s=t(4),l=t(20),c=t(74),d=t(8),u=t(13),p=t(21),g=t(206),f=t(207),_=t(208),m=t(209).set,v=t(210)(),h=t(211),b=t(212),k=t(213),y=s.TypeError,w=s.process,x=s.Promise,S="process"==c(w),C=function(){},P=o=h.f,E=!!function(){try{var e=x.resolve(1),n=(e.constructor={})[t(25)("species")]=function(e){e(C,C)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof n}catch(e){}}(),M=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var o=e._v,i=1==e._s,r=0;n.length>r;)!function(t){var n,r,a=i?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(i||(2==e._h&&L(e),e._h=1),!0===a?n=o:(c&&c.enter(),n=a(o),c&&c.exit()),n===t.promise?l(y("Promise-chain cycle")):(r=M(n))?r.call(n,s,l):s(n)):l(o)}catch(e){l(e)}}(n[r++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){m.call(s,function(){var t,n,o,i=e._v,r=I(e);if(r&&(t=b(function(){S?w.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(o=s.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=S||I(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},I=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){m.call(s,function(){var t;S?w.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=M(e))?v(function(){var o={_w:n,_d:!1};try{t.call(e,l(A,o,1),l(D,o,1))}catch(e){D.call(o,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};E||(x=function(e){g(this,x,"Promise","_h"),p(e),n.call(this);try{e(l(A,this,1),l(D,this,1))}catch(e){D.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=t(214)(x.prototype,{then:function(e,t){var n=P(_(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=l(A,e,1),this.reject=l(D,e,1)},h.f=P=function(e){return e===x||e===r?new i(e):o(e)}),d(d.G+d.W+d.F*!E,{Promise:x}),t(24)(x,"Promise"),t(193)("Promise"),r=t(9).Promise,d(d.S+d.F*!E,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!E),"Promise",{resolve:function(e){return k(a&&this===r?x:this,e)}}),d(d.S+d.F*!(E&&t(166)(function(e){x.all(e).catch(C)})),"Promise",{all:function(e){var t=this,n=P(t),o=n.resolve,i=n.reject,r=b(function(){var n=[],r=0,a=1;f(e,!1,function(e){var s=r++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||o(n))},i)}),--a||o(n)});return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=P(t),o=n.reject,i=b(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}})},function(e,exports){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,exports,t){var n=t(20),o=t(162),i=t(163),r=t(12),a=t(37),s=t(165),l={},c={},exports=e.exports=function(e,t,d,u,p){var g,f,_,m,v=p?function(){return e}:s(e),h=n(d,u,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(g=a(e.length);g>b;b++)if((m=t?h(r(f=e[b])[0],f[1]):h(e[b]))===l||m===c)return m}else for(_=v.call(e);!(f=_.next()).done;)if((m=o(_,h,f.value,t))===l||m===c)return m};exports.BREAK=l,exports.RETURN=c},function(e,exports,t){var n=t(12),o=t(21),i=t(25)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},function(e,exports,t){var n,o,i,r=t(20),a=t(77),s=t(47),l=t(15),c=t(4),d=c.process,u=c.setImmediate,p=c.clearImmediate,g=c.MessageChannel,f=c.Dispatch,_=0,m={},v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},h=function(e){v.call(e.data)};u&&p||(u=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return m[++_]=function(){a("function"==typeof e?e:Function(e),t)},n(_),_},p=function(e){delete m[e]},"process"==t(34)(d)?n=function(e){d.nextTick(r(v,e,1))}:f&&f.now?n=function(e){f.now(r(v,e,1))}:g?(o=new g,i=o.port2,o.port1.onmessage=h,n=r(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",h,!1)):n="onreadystatechange"in l("script")?function(e){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),v.call(e)}}:function(e){setTimeout(r(v,e,1),0)}),e.exports={set:u,clear:p}},function(e,exports,t){var n=t(4),o=t(209).set,i=n.MutationObserver||n.WebKitMutationObserver,r=n.process,a=n.Promise,s="process"==t(34)(r);e.exports=function(){var e,t,l,c=function(){var n,o;for(s&&(n=r.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?l():t=void 0,n}}t=void 0,n&&n.enter()};if(s)l=function(){r.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var d=a.resolve();l=function(){d.then(c)}}else l=function(){o.call(n,c)};else{var u=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),l=function(){p.data=u=!u}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,l()),t=o}}},function(e,exports,t){"use strict";function n(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o}),this.resolve=o(t),this.reject=o(n)}var o=t(21);e.exports.f=function(e){return new n(e)}},function(e,exports){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,exports,t){var n=t(12),o=t(13),i=t(211);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,exports,t){var n=t(18);e.exports=function(e,t,o){for(var i in t)n(e,i,t[i],o);return e}},function(e,exports,t){"use strict";var n=t(216),o=t(217);e.exports=t(218)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,exports,t){"use strict";var n=t(11).f,o=t(45),i=t(214),r=t(20),a=t(206),s=t(207),l=t(128),c=t(195),d=t(193),u=t(6),p=t(22).fastKey,g=t(217),f=u?"_s":"size",_=function(e,t){var n,o=p(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,l,c){var d=e(function(e,n){a(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=n&&s(n,l,e[c],e)});return i(d.prototype,{clear:function(){for(var e=g(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=g(this,t),o=_(n,e);if(o){var i=o.n,r=o.p;delete n._i[o.i],o.r=!0,r&&(r.n=i),i&&(i.p=r),n._f==o&&(n._f=i),n._l==o&&(n._l=r),n[f]--}return!!o},forEach:function(e){g(this,t);for(var n,o=r(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!_(g(this,t),e)}}),u&&n(d.prototype,"size",{get:function(){return g(this,t)[f]}}),d},def:function(e,t,n){var o,i,r=_(e,t);return r?r.v=n:(e._l=r={i:i=p(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=r),o&&(o.n=r),e[f]++,"F"!==i&&(e._i[i]=r)),e},getEntry:_,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=g(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,exports,t){var n=t(13);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,exports,t){"use strict";var n=t(4),o=t(8),i=t(18),r=t(214),a=t(22),s=t(207),l=t(206),c=t(13),d=t(7),u=t(166),p=t(24),g=t(87);e.exports=function(e,t,f,_,m,v){var h=n[e],b=h,k=m?"set":"add",y=b&&b.prototype,w={},x=function(e){var t=y[e];i(y,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||y.forEach&&!d(function(){(new b).entries().next()}))){var S=new b,C=S[k](v?{}:-0,1)!=S,P=d(function(){S.has(1)}),E=u(function(e){new b(e)}),M=!v&&d(function(){for(var e=new b,t=5;t--;)e[k](t,t);return!e.has(-0)});E||(b=t(function(t,n){l(t,b,e);var o=g(new h,t,b);return void 0!=n&&s(n,m,o[k],o),o}),b.prototype=y,y.constructor=b),(P||M)&&(x("delete"),x("has"),m&&x("get")),(M||C)&&x(k),v&&y.clear&&delete y.clear}else b=_.getConstructor(t,e,m,k),r(b.prototype,f),a.NEED=!0;return p(b,e),w[e]=b,o(o.G+o.W+o.F*(b!=h),w),v||_.setStrong(b,e,m),b}},function(e,exports,t){"use strict";var n=t(216),o=t(217);e.exports=t(218)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},function(e,exports,t){"use strict";var n,o=t(173)(0),i=t(18),r=t(22),a=t(68),s=t(221),l=t(13),c=t(7),d=t(217),u=r.getWeak,p=Object.isExtensible,g=s.ufstore,f={},_=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(l(e)){var t=u(e);return!0===t?g(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(d(this,"WeakMap"),e,t)}},v=e.exports=t(218)("WeakMap",_,m,s,!0,!0);c(function(){return 7!=(new v).set((Object.freeze||Object)(f),7).get(f)})&&(n=s.getConstructor(_,"WeakMap"),a(n.prototype,m),r.NEED=!0,o(["delete","has","get","set"],function(e){var t=v.prototype,o=t[e];i(t,e,function(t,i){if(l(t)&&!p(t)){this._f||(this._f=new n);var r=this._f[e](t,i);return"set"==e?this:r}return o.call(this,t,i)})}))},function(e,exports,t){"use strict";var n=t(214),o=t(22).getWeak,i=t(12),r=t(13),a=t(206),s=t(207),l=t(173),c=t(5),d=t(217),u=l(5),p=l(6),g=0,f=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},m=function(e,t){return u(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,l){var u=e(function(e,n){a(e,u,t,"_i"),e._t=t,e._i=g++,e._l=void 0,void 0!=n&&s(n,i,e[l],e)});return n(u.prototype,{delete:function(e){if(!r(e))return!1;var n=o(e);return!0===n?f(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!r(e))return!1;var n=o(e);return!0===n?f(d(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var r=o(i(t),!0);return!0===r?f(e).set(t,n):r[e._i]=n,e},ufstore:f}},function(e,exports,t){"use strict";var n=t(221),o=t(217);t(218)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,exports,t){"use strict";var n=t(8),o=t(224),i=t(225),r=t(12),a=t(39),s=t(37),l=t(13),c=t(4).ArrayBuffer,d=t(208),u=i.ArrayBuffer,p=i.DataView,g=o.ABV&&c.isView,f=u.prototype.slice,_=o.VIEW;n(n.G+n.W+n.F*(c!==u),{ArrayBuffer:u}),n(n.S+n.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return g&&g(e)||l(e)&&_ in e}}),n(n.P+n.U+n.F*t(7)(function(){return!new u(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(r(this),e);for(var n=r(this).byteLength,o=a(e,n),i=a(void 0===t?n:t,n),l=new(d(this,u))(s(i-o)),c=new p(this),g=new p(l),_=0;o<i;)g.setUint8(_++,c.getUint8(o++));return l}}),t(193)("ArrayBuffer")},function(e,exports,t){for(var n,o=t(4),i=t(10),r=t(19),a=r("typed_array"),s=r("view"),l=!(!o.ArrayBuffer||!o.DataView),c=l,d=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=o[u[d++]])?(i(n.prototype,a,!0),i(n.prototype,s,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:s}},function(e,exports,t){"use strict";function n(e,t,n){var o,i,r,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,d=23===t?j(2,-24)-j(2,-77):0,u=0,p=e<0||0===e&&1/e<0?1:0;for(e=F(e),e!=e||e===A?(i=e!=e?1:0,o=l):(o=K(R(e)/B),e*(r=j(2,-o))<1&&(o--,r*=2),e+=o+c>=1?d/r:d*j(2,1-c),e*r>=2&&(o++,r/=2),o+c>=l?(i=0,o=l):o+c>=1?(i=(e*r-1)*j(2,t),o+=c):(i=e*j(2,c-1)*j(2,t),o=0));t>=8;a[u++]=255&i,i/=256,t-=8);for(o=o<<t|i,s+=t;s>0;a[u++]=255&o,o/=256,s-=8);return a[--u]|=128*p,a}function o(e,t,n){var o,i=8*n-t-1,r=(1<<i)-1,a=r>>1,s=i-7,l=n-1,c=e[l--],d=127&c;for(c>>=7;s>0;d=256*d+e[l],l--,s-=8);for(o=d&(1<<-s)-1,d>>=-s,s+=t;s>0;o=256*o+e[l],l--,s-=8);if(0===d)d=1-a;else{if(d===r)return o?NaN:c?-A:A;o+=j(2,t),d-=a}return(c?-1:1)*o*j(2,d-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function r(e){return[255&e]}function a(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return n(e,52,8)}function c(e){return n(e,23,4)}function d(e,t,n){C(e[M],t,{get:function(){return this[n]}})}function u(e,t,n,o){var i=+n,r=x(i);if(r+t>e[G])throw D(N);var a=e[W]._b,s=r+e[z],l=a.slice(s,s+t);return o?l:l.reverse()}function p(e,t,n,o,i,r){var a=+n,s=x(a);if(s+t>e[G])throw D(N);for(var l=e[W]._b,c=s+e[z],d=o(+i),u=0;u<t;u++)l[c+u]=d[r?u:t-u-1]}var g=t(4),f=t(6),_=t(28),m=t(224),v=t(10),h=t(214),b=t(7),k=t(206),y=t(38),w=t(37),x=t(226),S=t(49).f,C=t(11).f,P=t(189),E=t(24),M="prototype",N="Wrong index!",O=g.ArrayBuffer,I=g.DataView,L=g.Math,D=g.RangeError,A=g.Infinity,T=O,F=L.abs,j=L.pow,K=L.floor,R=L.log,B=L.LN2,W=f?"_b":"buffer",G=f?"_l":"byteLength",z=f?"_o":"byteOffset";if(m.ABV){if(!b(function(){O(1)})||!b(function(){new O(-1)})||b(function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name})){O=function(e){return k(this,O),new T(x(e))};for(var V,H=O[M]=T[M],U=S(T),q=0;U.length>q;)(V=U[q++])in O||v(O,V,T[V]);_||(H.constructor=O)}var J=new I(new O(2)),Y=I[M].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||h(I[M],{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else O=function(e){k(this,O,"ArrayBuffer");var t=x(e);this._b=P.call(new Array(t),0),this[G]=t},I=function(e,t,n){k(this,I,"DataView"),k(e,O,"DataView");var o=e[G],i=y(t);if(i<0||i>o)throw D("Wrong offset!");if(n=void 0===n?o-i:w(n),i+n>o)throw D("Wrong length!");this[W]=e,this[z]=i,this[G]=n},f&&(d(O,"byteLength","_l"),d(I,"buffer","_b"),d(I,"byteLength","_l"),d(I,"byteOffset","_o")),h(I[M],{getInt8:function(e){return u(this,1,e)[0]<<24>>24},getUint8:function(e){return u(this,1,e)[0]},getInt16:function(e){var t=u(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=u(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(u(this,4,e,arguments[1]))},getUint32:function(e){return i(u(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return o(u(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return o(u(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,r,t)},setUint8:function(e,t){p(this,1,e,r,t)},setInt16:function(e,t){p(this,2,e,a,t,arguments[2])},setUint16:function(e,t){p(this,2,e,a,t,arguments[2])},setInt32:function(e,t){p(this,4,e,s,t,arguments[2])},setUint32:function(e,t){p(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});E(O,"ArrayBuffer"),E(I,"DataView"),v(I[M],m.VIEW,!0),exports.ArrayBuffer=O,exports.DataView=I},function(e,exports,t){var n=t(38),o=t(37);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=o(t);if(t!==i)throw RangeError("Wrong length!");return i}},function(e,exports,t){var n=t(8);n(n.G+n.W+n.F*!t(224).ABV,{DataView:t(225).DataView})},function(e,exports,t){t(229)("Int8",1,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){"use strict";if(t(6)){var n=t(28),o=t(4),i=t(7),r=t(8),a=t(224),s=t(225),l=t(20),c=t(206),d=t(17),u=t(10),p=t(214),g=t(38),f=t(37),_=t(226),m=t(39),v=t(16),h=t(5),b=t(74),k=t(13),y=t(57),w=t(163),x=t(45),S=t(58),C=t(49).f,P=t(165),E=t(19),M=t(25),N=t(173),O=t(36),I=t(208),L=t(194),D=t(129),A=t(166),T=t(193),F=t(189),j=t(186),K=t(11),R=t(50),B=K.f,W=R.f,G=o.RangeError,z=o.TypeError,V=o.Uint8Array,H=Array.prototype,U=s.ArrayBuffer,q=s.DataView,J=N(0),Y=N(2),Q=N(3),X=N(4),Z=N(5),ee=N(6),te=O(!0),ne=O(!1),oe=L.values,ie=L.keys,re=L.entries,ae=H.lastIndexOf,se=H.reduce,le=H.reduceRight,ce=H.join,de=H.sort,ue=H.slice,pe=H.toString,ge=H.toLocaleString,fe=M("iterator"),_e=M("toStringTag"),me=E("typed_constructor"),ve=E("def_constructor"),he=a.CONSTR,be=a.TYPED,ke=a.VIEW,ye=N(1,function(e,t){return Ce(I(e,e[ve]),t)}),we=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),$e=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),xe=function(e,t){var n=g(e);if(n<0||n%t)throw G("Wrong offset!");return n},Se=function(e){if(k(e)&&be in e)return e;throw z(e+" is not a typed array!")},Ce=function(e,t){if(!(k(e)&&me in e))throw z("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Ee(I(e,e[ve]),t)},Ee=function(e,t){for(var n=0,o=t.length,i=Ce(e,o);o>n;)i[n]=t[n++];return i},Me=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,o,i,r,a,s=y(e),c=arguments.length,d=c>1?arguments[1]:void 0,u=void 0!==d,p=P(s);if(void 0!=p&&!w(p)){for(a=p.call(s),o=[],t=0;!(r=a.next()).done;t++)o.push(r.value);s=o}for(u&&c>2&&(d=l(d,arguments[2],2)),t=0,n=f(s.length),i=Ce(this,n);n>t;t++)i[t]=u?d(s[t],t):s[t];return i},Oe=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!V&&i(function(){ge.call(new V(1))}),Le=function(){return ge.apply(Ie?ue.call(Se(this)):Se(this),arguments)},De={copyWithin:function(e,t){return j.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Se(this),arguments)},filter:function(e){return Pe(this,Y(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return ye(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Se(this),arguments)},reduceRight:function(e){return le.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,n=Se(t).length,o=Math.floor(n/2),i=0;i<o;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return Q(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Se(this),e)},subarray:function(e,t){var n=Se(this),o=n.length,i=m(e,o);return new(I(n,n[ve]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,f((void 0===t?o:m(t,o))-i))}},Ae=function(e,t){return Pe(this,ue.call(Se(this),e,t))},Te=function(e){Se(this);var t=xe(arguments[1],1),n=this.length,o=y(e),i=f(o.length),r=0;if(i+t>n)throw G("Wrong length!");for(;r<i;)this[t+r]=o[r++]},Fe={entries:function(){return re.call(Se(this))},keys:function(){return ie.call(Se(this))},values:function(){return oe.call(Se(this))}},je=function(e,t){return k(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ke=function(e,t){return je(e,t=v(t,!0))?d(2,e[t]):W(e,t)},Re=function(e,t,n){return!(je(e,t=v(t,!0))&&k(n)&&h(n,"value"))||h(n,"get")||h(n,"set")||n.configurable||h(n,"writable")&&!n.writable||h(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};he||(R.f=Ke,K.f=Re),r(r.S+r.F*!he,"Object",{getOwnPropertyDescriptor:Ke,defineProperty:Re}),i(function(){pe.call({})})&&(pe=ge=function(){return ce.call(this)});var Be=p({},De);p(Be,Fe),u(Be,fe,Fe.values),p(Be,{slice:Ae,set:Te,constructor:function(){},toString:pe,toLocaleString:Le}),Me(Be,"buffer","b"),Me(Be,"byteOffset","o"),Me(Be,"byteLength","l"),Me(Be,"length","e"),B(Be,_e,{get:function(){return this[be]}}),e.exports=function(e,t,s,l){l=!!l;var d=e+(l?"Clamped":"")+"Array",p="get"+e,g="set"+e,m=o[d],v=m||{},h=m&&S(m),y=!m||!a.ABV,w={},P=m&&m.prototype,E=function(e,n){var o=e._d;return o.v[p](n*t+o.o,we)},M=function(e,n,o){var i=e._d;l&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),i.v[g](n*t+i.o,o,we)},N=function(e,t){B(e,t,{get:function(){return E(this,t)},set:function(e){return M(this,t,e)},enumerable:!0})};y?(m=s(function(e,n,o,i){c(e,m,d,"_d");var r,a,s,l,p=0,g=0;if(k(n)){if(!(n instanceof U||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return be in n?Ee(m,n):Ne.call(m,n);r=n,g=xe(o,t);var v=n.byteLength;if(void 0===i){if(v%t)throw G("Wrong length!");if((a=v-g)<0)throw G("Wrong length!")}else if((a=f(i)*t)+g>v)throw G("Wrong length!");s=a/t}else s=_(n),a=s*t,r=new U(a);for(u(e,"_d",{b:r,o:g,l:a,e:s,v:new q(r)});p<s;)N(e,p++)}),P=m.prototype=x(Be),u(P,"constructor",m)):i(function(){m(1)})&&i(function(){new m(-1)})&&A(function(e){new m,new m(null),new m(1.5),new m(e)},!0)||(m=s(function(e,n,o,i){c(e,m,d);var r;return k(n)?n instanceof U||"ArrayBuffer"==(r=b(n))||"SharedArrayBuffer"==r?void 0!==i?new v(n,xe(o,t),i):void 0!==o?new v(n,xe(o,t)):new v(n):be in n?Ee(m,n):Ne.call(m,n):new v(_(n))}),J(h!==Function.prototype?C(v).concat(C(h)):C(v),function(e){e in m||u(m,e,v[e])}),m.prototype=P,n||(P.constructor=m));var O=P[fe],I=!!O&&("values"==O.name||void 0==O.name),L=Fe.values;u(m,me,!0),u(P,be,d),u(P,ke,!0),u(P,ve,m),(l?new m(1)[_e]==d:_e in P)||B(P,_e,{get:function(){return d}}),w[d]=m,r(r.G+r.W+r.F*(m!=v),w),r(r.S,d,{BYTES_PER_ELEMENT:t}),r(r.S+r.F*i(function(){v.of.call(m,1)}),d,{from:Ne,of:Oe}),"BYTES_PER_ELEMENT"in P||u(P,"BYTES_PER_ELEMENT",t),r(r.P,d,De),T(d),r(r.P+r.F*$e,d,{set:Te}),r(r.P+r.F*!I,d,Fe),n||P.toString==pe||(P.toString=pe),r(r.P+r.F*i(function(){new m(1).slice()}),d,{slice:Ae}),r(r.P+r.F*(i(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!i(function(){P.toLocaleString.call([1,2])})),d,{toLocaleString:Le}),D[d]=I?O:L,n||I||u(P,fe,L)}}else e.exports=function(){}},function(e,exports,t){t(229)("Uint8",1,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Uint8",1,function(e){return function(t,n,o){return e(this,t,n,o)}},!0)},function(e,exports,t){t(229)("Int16",2,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Uint16",2,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Int32",4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Uint32",4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Float32",4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){t(229)("Float64",8,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,exports,t){var n=t(8),o=t(21),i=t(12),r=(t(4).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!t(7)(function(){r(function(){})}),"Reflect",{apply:function(e,t,n){var s=o(e),l=i(n);return r?r(s,t,l):a.call(s,t,l)}})},function(e,exports,t){var n=t(8),o=t(45),i=t(21),r=t(12),a=t(13),s=t(7),l=t(76),c=(t(4).Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),u=!s(function(){c(function(){})});n(n.S+n.F*(d||u),"Reflect",{construct:function(e,t){i(e),r(t);var n=arguments.length<3?e:i(arguments[2]);if(u&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var s=[null];return s.push.apply(s,t),new(l.apply(e,s))}var p=n.prototype,g=o(a(p)?p:Object.prototype),f=Function.apply.call(e,g,t);return a(f)?f:g}})},function(e,exports,t){var n=t(11),o=t(8),i=t(12),r=t(16);o(o.S+o.F*t(7)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,o){i(e),t=r(t,!0),i(o);try{return n.f(e,t,o),!0}catch(e){return!1}}})},function(e,exports,t){var n=t(8),o=t(50).f,i=t(12);n(n.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,exports,t){"use strict";var n=t(8),o=t(12),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};t(130)(i,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,exports,t){function n(e,t){var a,c,d=arguments.length<3?e:arguments[2];return l(e)===d?e[t]:(a=o.f(e,t))?r(a,"value")?a.value:void 0!==a.get?a.get.call(d):void 0:s(c=i(e))?n(c,t,d):void 0}var o=t(50),i=t(58),r=t(5),a=t(8),s=t(13),l=t(12);a(a.S,"Reflect",{get:n})},function(e,exports,t){var n=t(50),o=t(8),i=t(12);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},function(e,exports,t){var n=t(8),o=t(58),i=t(12);n(n.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,exports,t){var n=t(8);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,exports,t){var n=t(8),o=t(12),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,exports,t){var n=t(8);n(n.S,"Reflect",{ownKeys:t(249)})},function(e,exports,t){var n=t(49),o=t(42),i=t(12),r=t(4).Reflect;e.exports=r&&r.ownKeys||function(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,exports,t){var n=t(8),o=t(12),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,exports,t){function n(e,t,s){var u,p,g=arguments.length<4?e:arguments[3],f=i.f(c(e),t);if(!f){if(d(p=r(e)))return n(p,t,s,g);f=l(0)}return a(f,"value")?!(!1===f.writable||!d(g))&&(u=i.f(g,t)||l(0),u.value=s,o.f(g,t,u),!0):void 0!==f.set&&(f.set.call(g,s),!0)}var o=t(11),i=t(50),r=t(58),a=t(5),s=t(8),l=t(17),c=t(12),d=t(13);s(s.S,"Reflect",{set:n})},function(e,exports,t){var n=t(8),o=t(72);o&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,exports,t){"use strict";var n=t(8),o=t(36)(!0);n(n.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),t(187)("includes")},function(e,exports,t){"use strict";var n=t(8),o=t(255),i=t(57),r=t(37),a=t(21),s=t(174);n(n.P,"Array",{flatMap:function(e){var t,n,l=i(this);return a(e),t=r(l.length),n=s(l,0),o(n,l,l,t,0,1,e,arguments[1]),n}}),t(187)("flatMap")},function(e,exports,t){"use strict";function n(e,t,l,c,d,u,p,g){for(var f,_,m=d,v=0,h=!!p&&a(p,g,3);v<c;){if(v in l){if(f=h?h(l[v],v,t):l[v],_=!1,i(f)&&(_=f[s],_=void 0!==_?!!_:o(f)),_&&u>0)m=n(e,t,f,r(f.length),m,u-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=f}m++}v++}return m}var o=t(44),i=t(13),r=t(37),a=t(20),s=t(25)("isConcatSpreadable");e.exports=n},function(e,exports,t){"use strict";var n=t(8),o=t(255),i=t(57),r=t(37),a=t(38),s=t(174);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),n=r(t.length),l=s(t,0);return o(l,t,t,n,0,void 0===e?1:a(e)),l}}),t(187)("flatten")},function(e,exports,t){"use strict";var n=t(8),o=t(127)(!0);n(n.P,"String",{at:function(e){return o(this,e)}})},function(e,exports,t){"use strict";var n=t(8),o=t(259),i=t(260);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,exports,t){var n=t(37),o=t(90),i=t(35);e.exports=function(e,t,r,a){var s=String(i(e)),l=s.length,c=void 0===r?" ":String(r),d=n(t);if(d<=l||""==c)return s;var u=d-l,p=o.call(c,Math.ceil(u/c.length));return p.length>u&&(p=p.slice(0,u)),a?p+s:s+p}},function(e,exports,t){var n=t(4),o=n.navigator;e.exports=o&&o.userAgent||""},function(e,exports,t){"use strict";var n=t(8),o=t(259),i=t(260);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,exports,t){"use strict";t(82)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,exports,t){"use strict";t(82)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,exports,t){"use strict";var n=t(8),o=t(35),i=t(37),r=t(134),a=t(197),s=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};t(130)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(o(this),!r(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in s?String(e.flags):a.call(e),c=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return c.lastIndex=i(e.lastIndex),new l(c,t)}})},function(e,exports,t){t(27)("asyncIterator")},function(e,exports,t){t(27)("observable")},function(e,exports,t){var n=t(8),o=t(249),i=t(32),r=t(50),a=t(164);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,s=i(e),l=r.f,c=o(s),d={},u=0;c.length>u;)void 0!==(n=l(s,t=c[u++]))&&a(d,t,n);return d}})},function(e,exports,t){var n=t(8),o=t(269)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,exports,t){var n=t(30),o=t(32),i=t(43).f;e.exports=function(e){return function(t){for(var r,a=o(t),s=n(a),l=s.length,c=0,d=[];l>c;)i.call(a,r=s[c++])&&d.push(e?[r,a[r]]:a[r]);return d}}},function(e,exports,t){var n=t(8),o=t(269)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},function(e,exports,t){"use strict";var n=t(8),o=t(57),i=t(21),r=t(11);t(6)&&n(n.P+t(272),"Object",{__defineGetter__:function(e,t){r.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,exports,t){"use strict";e.exports=t(28)||!t(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t(4)[e]})},function(e,exports,t){"use strict";var n=t(8),o=t(57),i=t(21),r=t(11);t(6)&&n(n.P+t(272),"Object",{__defineSetter__:function(e,t){r.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,exports,t){"use strict";var n=t(8),o=t(57),i=t(16),r=t(58),a=t(50).f;t(6)&&n(n.P+t(272),"Object",{__lookupGetter__:function(e){var t,n=o(this),s=i(e,!0);do{if(t=a(n,s))return t.get}while(n=r(n))}})},function(e,exports,t){"use strict";var n=t(8),o=t(57),i=t(16),r=t(58),a=t(50).f;t(6)&&n(n.P+t(272),"Object",{__lookupSetter__:function(e){var t,n=o(this),s=i(e,!0);do{if(t=a(n,s))return t.set}while(n=r(n))}})},function(e,exports,t){var n=t(8);n(n.P+n.R,"Map",{toJSON:t(277)("Map")})},function(e,exports,t){var n=t(74),o=t(278);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,exports,t){var n=t(207);e.exports=function(e,t){var o=[];return n(e,!1,o.push,o,t),o}},function(e,exports,t){var n=t(8);n(n.P+n.R,"Set",{toJSON:t(277)("Set")})},function(e,exports,t){t(281)("Map")},function(e,exports,t){"use strict";var n=t(8);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,exports,t){t(281)("Set")},function(e,exports,t){t(281)("WeakMap")},function(e,exports,t){t(281)("WeakSet")},function(e,exports,t){t(286)("Map")},function(e,exports,t){"use strict";var n=t(8),o=t(21),i=t(20),r=t(207);e.exports=function(e){n(n.S,e,{from:function(e){var t,n,a,s,l=arguments[1];return o(this),t=void 0!==l,t&&o(l),void 0==e?new this:(n=[],t?(a=0,s=i(l,arguments[2],2),r(e,!1,function(e){n.push(s(e,a++))})):r(e,!1,n.push,n),new this(n))}})}},function(e,exports,t){t(286)("Set")},function(e,exports,t){t(286)("WeakMap")},function(e,exports,t){t(286)("WeakSet")},function(e,exports,t){var n=t(8);n(n.G,{global:t(4)})},function(e,exports,t){var n=t(8);n(n.S,"System",{global:t(4)})},function(e,exports,t){var n=t(8),o=t(34);n(n.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,exports,t){var n=t(8),o=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*o}})},function(e,exports,t){var n=t(8),o=t(297),i=t(113);n(n.S,"Math",{fscale:function(e,t,n,r,a){return i(o(e,t,n,r,a))}})},function(e,exports){e.exports=Math.scale||function(e,t,n,o,i){return 0===arguments.length||e!=e||t!=t||n!=n||o!=o||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-o)/(n-t)+o}},function(e,exports,t){var n=t(8);n(n.S,"Math",{iaddh:function(e,t,n,o){var i=e>>>0,r=t>>>0,a=n>>>0;return r+(o>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{isubh:function(e,t,n,o){var i=e>>>0,r=t>>>0,a=n>>>0;return r-(o>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{imulh:function(e,t){var n=+e,o=+t,i=65535&n,r=65535&o,a=n>>16,s=o>>16,l=(a*r>>>0)+(i*r>>>16);return a*s+(l>>16)+((i*s>>>0)+(65535&l)>>16)}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,exports,t){var n=t(8),o=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*o}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{scale:t(297)})},function(e,exports,t){var n=t(8);n(n.S,"Math",{umulh:function(e,t){var n=+e,o=+t,i=65535&n,r=65535&o,a=n>>>16,s=o>>>16,l=(a*r>>>0)+(i*r>>>16);return a*s+(l>>>16)+((i*s>>>0)+(65535&l)>>>16)}})},function(e,exports,t){var n=t(8);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,exports,t){"use strict";var n=t(8),o=t(9),i=t(4),r=t(208),a=t(213);n(n.P+n.R,"Promise",{finally:function(e){var t=r(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,exports,t){"use strict";var n=t(8),o=t(211),i=t(212);n(n.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,exports,t){var n=t(309),o=t(12),i=n.key,r=n.set;n.exp({defineMetadata:function(e,t,n,a){r(e,t,o(n),i(a))}})},function(e,exports,t){var n=t(215),o=t(8),i=t(23)("metadata"),r=i.store||(i.store=new(t(220))),a=function(e,t,o){var i=r.get(e);if(!i){if(!o)return;r.set(e,i=new n)}var a=i.get(t);if(!a){if(!o)return;i.set(t,a=new n)}return a},s=function(e,t,n){var o=a(t,n,!1);return void 0!==o&&o.has(e)},l=function(e,t,n){var o=a(t,n,!1);return void 0===o?void 0:o.get(e)},c=function(e,t,n,o){a(n,o,!0).set(e,t)},d=function(e,t){var n=a(e,t,!1),o=[];return n&&n.forEach(function(e,t){o.push(t)}),o},u=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){o(o.S,"Reflect",e)};e.exports={store:r,map:a,has:s,get:l,set:c,keys:d,key:u,exp:p}},function(e,exports,t){var n=t(309),o=t(12),i=n.key,r=n.map,a=n.store;n.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),s=r(o(t),n,!1);if(void 0===s||!s.delete(e))return!1;if(s.size)return!0;var l=a.get(t);return l.delete(n),!!l.size||a.delete(t)}})},function(e,exports,t){var n=t(309),o=t(12),i=t(58),r=n.has,a=n.get,s=n.key,l=function(e,t,n){if(r(e,t,n))return a(e,t,n);var o=i(t);return null!==o?l(e,o,n):void 0};n.exp({getMetadata:function(e,t){return l(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,exports,t){var n=t(219),o=t(278),i=t(309),r=t(12),a=t(58),s=i.keys,l=i.key,c=function(e,t){var i=s(e,t),r=a(e);if(null===r)return i;var l=c(r,t);return l.length?i.length?o(new n(i.concat(l))):l:i};i.exp({getMetadataKeys:function(e){return c(r(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,exports,t){var n=t(309),o=t(12),i=n.get,r=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:r(arguments[2]))}})},function(e,exports,t){var n=t(309),o=t(12),i=n.keys,r=n.key;n.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:r(arguments[1]))}})},function(e,exports,t){var n=t(309),o=t(12),i=t(58),r=n.has,a=n.key,s=function(e,t,n){if(r(e,t,n))return!0;var o=i(t);return null!==o&&s(e,o,n)};n.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,exports,t){var n=t(309),o=t(12),i=n.has,r=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:r(arguments[2]))}})},function(e,exports,t){var n=t(309),o=t(12),i=t(21),r=n.key,a=n.set;n.exp({metadata:function(e,t){return function(n,s){a(e,t,(void 0!==s?o:i)(n),r(s))}}})},function(e,exports,t){var n=t(8),o=t(210)(),i=t(4).process,r="process"==t(34)(i);n(n.G,{asap:function(e){var t=r&&i.domain;o(t?t.bind(e):e)}})},function(e,exports,t){"use strict";var n=t(8),o=t(4),i=t(9),r=t(210)(),a=t(25)("observable"),s=t(21),l=t(12),c=t(206),d=t(214),u=t(10),p=t(207),g=p.RETURN,f=function(e){return null==e?void 0:s(e)},_=function(e){var t=e._c;t&&(e._c=void 0,t())},m=function(e){return void 0===e._o},v=function(e){m(e)||(e._o=void 0,_(e))},h=function(e,t){l(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),o=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){o.unsubscribe()}:s(n),this._c=n)}catch(t){return void e.error(t)}m(this)&&_(this)};h.prototype=d({},{unsubscribe:function(){v(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function(e){var t=this._s;if(!m(t)){var n=t._o;try{var o=f(n.next);if(o)return o.call(n,e)}catch(e){try{v(t)}finally{throw e}}}},error:function(e){var t=this._s;if(m(t))throw e;var n=t._o;t._o=void 0;try{var o=f(n.error);if(!o)throw e;e=o.call(n,e)}catch(e){try{_(t)}finally{throw e}}return _(t),e},complete:function(e){var t=this._s;if(!m(t)){var n=t._o;t._o=void 0;try{var o=f(n.complete);e=o?o.call(n,e):void 0}catch(e){try{_(t)}finally{throw e}}return _(t),e}}});var k=function(e){c(this,k,"Observable","_f")._f=s(e)};d(k.prototype,{subscribe:function(e){return new h(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||o.Promise)(function(n,o){s(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:n})})}}),d(k,{from:function(e){var t="function"==typeof this?this:k,n=f(l(e)[a]);if(n){var o=l(n.call(e));return o.constructor===t?o:new t(function(e){return o.subscribe(e)})}return new t(function(t){var n=!1;return r(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return g})===g)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:k)(function(e){var t=!1;return r(function(){if(!t){for(var o=0;o<n.length;++o)if(e.next(n[o]),t)return;e.complete()}}),function(){t=!0}})}}),u(k.prototype,a,function(){return this}),n(n.G,{Observable:k}),t(193)("Observable")},function(e,exports,t){var n=t(4),o=t(8),i=t(260),r=[].slice,a=/MSIE .\./.test(i),s=function(e){return function(t,n){var o=arguments.length>2,i=!!o&&r.call(arguments,2);return e(o?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};o(o.G+o.B+o.F*a,{setTimeout:s(n.setTimeout),setInterval:s(n.setInterval)})},function(e,exports,t){var n=t(8),o=t(209);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,exports,t){for(var n=t(194),o=t(30),i=t(18),r=t(4),a=t(10),s=t(129),l=t(25),c=l("iterator"),d=l("toStringTag"),u=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(p),f=0;f<g.length;f++){var _,m=g[f],v=p[m],h=r[m],b=h&&h.prototype;if(b&&(b[c]||a(b,c,u),b[d]||a(b,d,m),s[m]=u,v))for(_ in n)b[_]||i(b,_,n[_],!0)}},function(e,exports){(function(t){!function(t){"use strict";function n(e,t,n,o){var r=t&&t.prototype instanceof i?t:i,a=Object.create(r.prototype),s=new g(o||[]);return a._invoke=c(e,n,s),a}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function r(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,i,r,a){var s=o(e[t],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&h.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,r,a)},function(e){n("throw",e,r,a)}):Promise.resolve(c).then(function(e){l.value=e,r(l)},a)}a(s.arg)}function i(e,t){function o(){return new Promise(function(o,i){n(e,t,o,i)})}return r=r?r.then(o,o):o()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var r;this._invoke=i}function c(e,t,n){var i=C;return function(r,a){if(i===E)throw new Error("Generator is already running");if(i===M){if("throw"===r)throw a;return _()}for(n.method=r,n.arg=a;;){var s=n.delegate;if(s){var l=d(s,n);if(l){if(l===N)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===C)throw i=M,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=E;var c=o(e,t,n);if("normal"===c.type){if(i=n.done?M:P,c.arg===N)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=M,n.method="throw",n.arg=c.arg)}}}function d(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,d(e,t),"throw"===t.method))return N;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var i=o(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,N;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,N):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function f(e){if(e){var t=e[k];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(h.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:m,done:!0}}var m,v=Object.prototype,h=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},k=b.iterator||"@@iterator",y=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",x="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(x&&(e.exports=S));S=t.regeneratorRuntime=x?e.exports:{},S.wrap=n;var C="suspendedStart",P="suspendedYield",E="executing",M="completed",N={},O={};O[k]=function(){return this};var I=Object.getPrototypeOf,L=I&&I(I(f([])));L&&L!==v&&h.call(L,k)&&(O=L);var D=a.prototype=i.prototype=Object.create(O);r.prototype=D.constructor=a,a.constructor=r,a[w]=r.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(D),e},S.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[y]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,o,i){var r=new l(n(e,t,o,i));return S.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(D),D[w]="Generator",D[k]=function(){return this},D.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},S.values=f,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return r.type="throw",r.arg=e,n.next=t,o&&(n.method="next",n.arg=m),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],r=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=h.call(i,"catchLoc"),s=h.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&h.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,N):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),N},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),N}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),N}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(exports,function(){return this}())},function(e,exports,t){t(325),e.exports=t(9).RegExp.escape},function(e,exports,t){var n=t(8),o=t(326)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return o(e)}})},function(e,exports){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(){var e=function(){function e(){t(this,e),this.widgets=[],this.indexes=[],this.default_values={},this.configs={}}return n(e,[{key:"build_widgets",value:function(e){var t=!0,n=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;this.widgets.push(a),this.append_style_template(a),this.init_data(a)}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}}},{key:"is_empty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"append_style_template",value:function(e){var t={style_obj:{style:{},responsive:{},directives:{}},condition_obj:{}};this.travel_node_get_style(e,t.style_obj,t.condition_obj);var n=this.generate_style_template(t);e.visual_view=e.visual_view+n}},{key:"generate_style_template",value:function(e){var t="";return this.is_empty(e.style_obj)||(t+=this.generate_style_tag(e.style_obj)),this.is_empty(e.condition_obj)||(t+=this.generate_condition_style(e.condition_obj)),t.replace(/@attrs/g,"$ctrl.edited.attrs").replace(/@id/g,".{{::$ctrl.getID()}}")}},{key:"generate_style_tag",value:function(e){var t="";for(var n in e.style){t+=n+"{";for(var o in e.style[n])t+=this.upperToDashLower(o)+":"+e.style[n][o]+";";t+="}"}if(t&&(t='<style type="text/css">'+t+"</style>"),!this.is_empty(e.responsive))for(var i in e.responsive)for(var r in e.responsive[i])for(var a in e.responsive[i][r])t+='\n                                <style type="text/css" ng-if="'+r+".hasOwnProperty('tablet')\">\n                                    @media screen and (max-width: 768px){\n                                        "+i+"{ "+this.upperToDashLower(a)+" : {{ "+this.replaceModel(e.responsive[i][r][a],r+".tablet")+" }} }\n                                    }\n                                </style>",t+='\n                                <style type="text/css" ng-if="'+r+".hasOwnProperty('mobile')\">\n                                    @media screen and (max-width: 512px){\n                                        "+i+"{ "+this.upperToDashLower(a)+": {{ "+this.replaceModel(e.responsive[i][r][a],r+".mobile")+" }} }\n                                    }\n                                </style>";return this.is_empty(e.directives)||(t+=this.generate_directive_tag(e.directives)),t}},{key:"generate_directive_tag",value:function(e){var t="";for(var n in e)e[n].forEach(function(e){if(t+="<"+e.tag+' directive-model="'+n+'" ',e.hasOwnProperty("attrs"))for(var o in e.attrs)t+=" "+o+'="'+e.attrs[o]+'"';t+="></"+e.tag+">"});return t}},{key:"generate_condition_style",value:function(e){var t="";for(var n in e){var o=this.generate_style_template(e[n]);o&&(-1!=n.indexOf("@model")?t+=o:(t+="\n<div ng-if='"+n.replace(/\'/g,'"')+"'>",t+=this.minify_condition_str(o),t+="</div>"))}return t&&(t=this.minify_condition_str(t)),t}},{key:"minify_condition_str",value:function(e){return e.lastIndexOf("</style></div>")==e.length-14?e.replace(/<div (ng-if=[^>]+)><style type="text\/css">([^>]+)<\/style><\/div>/g,'<style type="text/css" $1>$2</style>'):e}},{key:"replaceModel",value:function(e,t){var n="";return e.split(/({{[^{}]*}})/g).forEach(function(e){e&&(/{{/.test(e)?n+="+ "+e.replace("{{","").replace("}}","")+" +":n+="'"+e+"'")}),"+"==n.charAt(0)&&(n=n.substr(1)),"+"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),n.replace(/@model/g,t)}},{key:"upperToDashLower",value:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}},{key:"travel_node_get_style",value:function(e,t,n){var o=this;if(e.hasOwnProperty("if")||e.hasOwnProperty("show")){var i=e.hasOwnProperty("if")?e.if:e.show;n.hasOwnProperty(i)?n[i]=this.get_condition_style(e,n[i]):n[i]=this.get_condition_style(e)}else Array.isArray(e.content)?e.content.forEach(function(e){o.travel_node_get_style(e,t,n)}):this.get_style_item(e,t)}},{key:"get_condition_style",value:function(e,t){var n=this,o=t||{style_obj:{style:{},responsive:{},directives:{}},condition_obj:{}};return e.hasOwnProperty("content")&&Array.isArray(e.content)?e.content.forEach(function(e){n.travel_node_get_style(e,o.style_obj,o.condition_obj)}):this.get_style_item(e,o.style_obj),o}},{key:"get_style_item",value:function(e,t){if(e.hasOwnProperty("bind_to"))if(e.hasOwnProperty("styles"))for(var n in e.styles){t.style.hasOwnProperty(n)||(t.style[n]={});for(var o in e.styles[n])t.style[n][o]=e.styles[n][o].replace(/@model/g,e.bind_to)}else if(e.hasOwnProperty("responsive_styles"))for(var n in e.responsive_styles){t.style.hasOwnProperty(n)||(t.style[n]={}),t.responsive.hasOwnProperty(n)||(t.responsive[n]={}),t.responsive[n].hasOwnProperty(e.bind_to)||(t.responsive[n][e.bind_to]={});for(var o in e.responsive_styles[n])t.style[n][o]=e.responsive_styles[n][o].replace(/@model/g,e.bind_to+".desktop"),t.responsive[n][e.bind_to][o]=e.responsive_styles[n][o]}else e.hasOwnProperty("directives")&&(t.directives[e.bind_to]=e.directives)}},{key:"get_visual_views",value:function(){var e={};return this.widgets.forEach(function(t){t.hasOwnProperty("visual_view")&&(e[t.tag]=t.visual_view)}),e}},{key:"get_visual_view_by_tag",value:function(e){var t=!0,n=!1,o=void 0;try{for(var i,r=this.widgets[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;if(a.tag==e)return a.visual_view}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}return""}},{key:"get_widget_model_list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],n=[],o=this.widgets.filter(function(e){return!e.hasOwnProperty("core")});e&&(o=o.filter(function(t){return t.hasOwnProperty(e)}));var i=!0,r=!1,a=void 0;try{for(var s,l=o[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;isNaN(c.priority)?t.push(c):n.push(c)}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}n.sort(function(e,t){return e.priority-t.priority});var d=!0,u=!1,p=void 0;try{for(var g,f=t[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){for(var _=g.value,m=!1,v=0;v<n.length;v++)if(_.priority==n[v].tag){n.splice(v+1,0,_),m=!0;break}m||n.push(_)}}catch(e){u=!0,p=e}finally{try{!d&&f.return&&f.return()}finally{if(u)throw p}}var h=[],b=!0,k=!1,y=void 0;try{for(var w,x=n[Symbol.iterator]();!(b=(w=x.next()).done);b=!0){var S=w.value,C=this.get_model(S);S.hasOwnProperty("native")?C.native=S.native:C.native=!1,S.hasOwnProperty("nested")?C.nested=S.nested:C.nested=!1,S.hasOwnProperty("keywords")?C.keywords=S.keywords:S.hasOwnProperty("name")&&(C.keywords=[S.name]),S.hasOwnProperty("filter")?C.filter=S.filter:C.filter=["other"],S.hasOwnProperty("icon_url")&&(C.icon_url=S.icon_url),h.push(C)}}catch(e){k=!0,y=e}finally{try{!b&&x.return&&x.return()}finally{if(k)throw y}}return h}},{key:"get_raw_widget_list",value:function(){return this.widgets}},{key:"get_editor_view",value:function(e){if(e.hasOwnProperty("content")){var t="",n=!0,o=!1,i=void 0;try{for(var r,a=e.content[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;t+=this.generate_editor_view(s)}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}}return t}},{key:"generate_editor_view",value:function(e){var t="",n=e.hasOwnProperty("tag")?e.tag:"div",o="";if(e.hasOwnProperty("if")?o=' ng-if="'+e.if.replace(/@/g,"$ctrl.edited.").replace(/\.model/g,"").replace(/"/g,"'")+'"':e.hasOwnProperty("show")&&(o=' ng-if="'+e.show.replace(/@/g,"$ctrl.edited.").replace(/\.model/g,"").replace(/"/g,"'")+'"'),e.hasOwnProperty("bind_to")){t+="<"+n+o,-1!==e.bind_to.indexOf("@attrs.")?t+=' model="'+e.bind_to.replace("@attrs","$ctrl.edited.attrs")+'"':-1!==e.bind_to.indexOf("@content")?t+=' model="'+e.bind_to.replace("@content","$ctrl.edited.content")+'"':-1!=e.bind_to.indexOf("@model")&&(t+=' model="'+e.bind_to.replace("@model","$ctrl.edited")+'"');for(var i in e.attrs)t+="config"==i?' config="$ctrl.config.'+e.bind_to.split(".")[1]+'"':" "+i+'="'+e.attrs[i]+'"';t+="></"+n+">"}else{t+="<"+n+o;for(var r in e.attrs)t+=" "+r+'="'+e.attrs[r]+'"';if(t+=">",Array.isArray(e.content)){var a=!0,s=!1,l=void 0;try{for(var c,d=e.content[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;t+=this.generate_editor_view(u)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}}else"string"==typeof e.content&&(t+=e.content);t+="</"+n+">"}return t}},{key:"get_editor_view_by_tag",value:function(e){var t=!0,n=!1,o=void 0;try{for(var i,r=this.widgets[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;if(a.tag===e)return this.get_editor_view(a)}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}return null}},{key:"travel_node",value:function(e,t){var n=this;Array.isArray(e.content)?e.content.forEach(function(e){n.travel_node(e,t)}):t(e)}},{key:"get_model",value:function(e){var t={};return t.tag=e.tag,t.name=e.name,t.attrs={},e.hasOwnProperty("core")&&e.core&&(t.core=!0),this.travel_node(e,function(e){if(e.hasOwnProperty("bind_to")&&e.hasOwnProperty("default_value"))if(/^@attrs\..+/g.test(e.bind_to)){var n=e.bind_to.substr(7);t.attrs[n]=e.default_value}else/^@content$/g.test(e.bind_to)&&(t.content=e.default_value)}),e.hasOwnProperty("child")&&(t.content=[]),e.hasOwnProperty("core")&&e.core&&(t.content=[]),t}},{key:"get_model_by_tag",value:function(e){if(this.indexes.hasOwnProperty(e))return this.indexes[e];var t=!0,n=!1,o=void 0;try{for(var i,r=this.widgets[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;if(a.tag===e)return this.indexes[e]=this.get_model(a),this.indexes[e]}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}return null}},{key:"get_child_model_list",value:function(){var e=this,t={};return this.widgets.forEach(function(n){n.hasOwnProperty("child")&&(t[n.tag]=e.get_model(n.child))}),t}},{key:"get_shortcode_templates",value:function(){var e=this,t={};return this.widgets.forEach(function(n){var o=e.get_shortcode_template(n);if(t[n.tag]=o,n.hasOwnProperty("child")){var i=e.get_shortcode_template(n.child);t[n.child.tag]=i}}),t}},{key:"get_shortcode_template",value:function(e){var t={};return t.native=e.hasOwnProperty("native")&&!0===e.native,t.attrs=[],this.travel_node(e,function(e){(!e.hasOwnProperty("styles")&&!e.hasOwnProperty("directives")&&!e.hasOwnProperty("responsive_styles")||e.hasOwnProperty("generate")&&("both"==e.generate||"only_shortcode"==e.generate))&&e.hasOwnProperty("bind_to")&&/^@attrs\..+/g.test(e.bind_to)&&t.attrs.push(e.bind_to.substr(7))}),t}},{key:"travel_node_get_template",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[].concat(o),r="";e.hasOwnProperty("if")?r=e.if:e.hasOwnProperty("show")&&(r=e.show),r=r.replace(/\s/g,"").split("&&");var a=!0,s=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;-1!==u.indexOf("@attrs.")&&i.push(u)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}e.hasOwnProperty("content")?e.content.forEach(function(e){n.travel_node_get_template(e,t,i)}):t(e,i)}},{key:"get_style_templates",value:function(){var e=this,t={},n=function(t){var n={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("styles")&&(!e.hasOwnProperty("generate")||"only_shortcode"!==e.generate)&&/^@attrs\..+/g.test(e.bind_to)){var o=e.bind_to.substr(7),i={};i.styles={},e.hasOwnProperty("force")&&e.force||!t.length||(i.condition=t.join(" && ").replace(/@attrs/g,"attrs")),e.hasOwnProperty("when")&&(i.when=e.when.replace(/@model/g,"attrs."+o).replace(/@attrs/g,"attrs"));for(var r in e.styles){var a=e.styles[r],s=Object.assign({},a);for(var l in s)s[l]=s[l].replace(/@model/g,"attrs."+o);i.styles[r]=s}n.hasOwnProperty(o)||(n[o]=[]),n[o].push(i)}}),n};return this.widgets.forEach(function(e){t[e.tag]=n(e),e.hasOwnProperty("child")&&(t[e.child.tag]=n(e.child))}),t}},{key:"get_responsive_style_templates",value:function(){var e=this,t={},n=function(t){var n={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("responsive_styles")&&(!e.hasOwnProperty("generate")||"only_shortcode"!==e.generate)&&/^@attrs\..+/g.test(e.bind_to)){var o=e.bind_to.substr(7),i={};i.styles={},e.hasOwnProperty("force")&&e.force||!t.length||(i.condition=t.join(" && ").replace(/@attrs/g,"attrs")),e.hasOwnProperty("when")&&(i.when=e.when.replace(/@model/g,"attrs."+o).replace(/@attrs/g,"attrs"));for(var r in e.responsive_styles){var a=e.responsive_styles[r],s=Object.assign({},a);for(var l in s)s[l]=s[l].replace(/@model/g,"attrs."+o+".@device");i.styles[r]=s}n.hasOwnProperty(o)||(n[o]=[]),n[o].push(i)}}),n};return this.widgets.forEach(function(e){t[e.tag]=n(e),e.hasOwnProperty("child")&&(t[e.child.tag]=n(e.child))}),t}},{key:"get_directive_templates",value:function(){var e=this,t={},n=function(t){var n={};return e.travel_node_get_template(t,function(e,t){if(e.hasOwnProperty("directives")&&/^@attrs\..+/g.test(e.bind_to)){var o=e.bind_to.substr(7);n[o]={},t.length&&(n[o].condition=t.join(" && ").replace(/@attrs/g,"attrs")),n[o].directives=[],Array.isArray(e.directives)&&(n[o].directives=n[o].directives.concat(e.directives))}}),n};return this.widgets.forEach(function(e){var o=n(e);if(o&&(t[e.tag]=o),e.hasOwnProperty("child")){var i=n(e.child);i&&(t[e.child.tag]=i)}}),t}},{key:"init_data",value:function(e){var t=this,n=function(e){var n={};return t.travel_node(e,function(e){if(/^@attrs\..+/g.test(e.bind_to)&&e.hasOwnProperty("default_value")){var t=e.bind_to.substr(7);n[t]=e.default_value}}),n},o=n(e);if(o&&(t.default_values[e.tag]=o),e.hasOwnProperty("child")){var i=n(e.child);i&&(t.default_values[e.child.tag]=i)}var r=function(e){var n={};return t.travel_node(e,function(e){e.hasOwnProperty("attrs")&&e.attrs.hasOwnProperty("config")&&(n[e.bind_to.split(".")[1]]=e.attrs.config)}),n};t.configs[e.tag]=r(e),e.hasOwnProperty("child")&&(t.configs[e.child.tag]=r(e.child))}},{key:"get_config",value:function(e){return this.configs.hasOwnProperty(e)?this.configs[e]:{}}}]),e}();window.kong_widget_manager=new e}()},function(e,exports,t){"use strict";t(329),t(330),t(335),t(336),t(337),t(338),t(339),t(340),t(341),t(342)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app",["dndLists","kongService","kongHotKeys","ngSanitize","colorpicker.module","ui.tinymce","ui.ace","kongPopup","kongOutputGenerator"]);t.__config=window.kong_fb,window.kong_widget_manager.build_widgets(JSON.parse(t.__config.widgets)),t.controller("kong_builder_app_controller",function(){}),t.component("kongFooterBuilder",{controller:["$KongService",function(e){if(this.service=e,!Modernizr.flexbox||!Modernizr.flexwrap){var t=document.querySelector(".kong-bs__preloader");t.className=t.className+" kong-bs__preloader--hide"}}],template:function(){return Modernizr.flexbox&&Modernizr.flexwrap?"<div class=\"kong-bs\"  ng-class=\"{'kong-bs--collapsed':$ctrl.service.sidebar_collapse,'kong-bs--editable':$ctrl.service.editableMode}\"><kong-bs-sidebar></kong-bs-sidebar><kong-bs-preview></kong-bs-preview><kong-bs-right-click-action></kong-bs-right-click-action></div><kong-bs-library></kong-bs-library><kong-help-panel></kong-help-panel>":'<div class="kong-bs__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for better experience.</p></div>'}}),t.config(["$provide","$httpProvider",function(e,n){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,n){return{request:function(n){return n.headers["X-WP-Nonce"]=t.__config.nonce,n||e.when(n)},responseError:function(t){return void 0!==t.data&&"rest_cookie_invalid_nonce"==t.data.code&&n.$emit("expired_session"),e.reject(t)}}}]),n.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(t.__config.enable_debug)}])}(window.angular)},function(e,exports,t){"use strict";t(331),t(332),t(333),t(334),function(e){var t=e.module("kong.builder.app");t.component("kongBsSidebar",{controller:function(){},template:'<div class="kong-bs__sidebar"><sidebar-header></sidebar-header><sidebar-body></sidebar-body><sidebar-footer></sidebar-footer></div><custom-code-panel></custom-code-panel><trash-area></trash-area><apply-button ng-if="'+t.__config.set_footer+'"></apply-button><editor-mode></editor-mode>'}),t.component("trashArea",{controller:["$KongService","$rootScope",function(e,t){this.service=e,this.dropCallback=function(t,n,o,i){return e.moveNodeToTrash(e.getNodeFromLink(o.link)),!0}}],template:'<div class="kong-bs__trashArea"dnd-drop="$ctrl.dropCallback(event,index,item,type)"dnd-list="[]" ng-class="{\'kong-bs__trashArea--show\':$ctrl.service.showTrash}"><span class="kong-bs__trashArea__icon"><i class="lmr lmr-trash3"></i></span></div>'}),t.component("applyButton",{controller:["$scope","$http","$timeout","$KongPopup",function(e,n,o,i){var r=this;this.state="ready",this.apply=function(e){e.preventDefault(),this.state="loading",n({method:"POST",url:t.__config.api+"/set-footer",data:{data:JSON.stringify(t.__config.set_footer_data),footer_id:t.__config.footer_id}}).then(function(e){e.data&&(r.state="saved",o(function(){r.state="disabled"},2e3))},function(){r.state="ready",i.showFsPopup({title:"Try it Later",message:"Error! Cannot apply this Footer."})})},this.message=t.__config.message}],template:'<div class="kong-bs__apply"><button class="kong-bs__apply__btn" ng-class="\'kong-bs__apply__btn--\'+$ctrl.state" ng-click="$ctrl.apply($event)"><span>Apply Footer</span><span><i class="kong-bs__apply__preloader"></i><small>Applying</small></span><span><i class="fa fa-check"></i> Applied</span></button><div class="kong-bs__apply__message"><p ng-bind-html="::$ctrl.message|trustashtml"></p></div></div>'}),t.component("sidebarBody",{controller:["$KongService","$timeout",function(e,t){this.service=e,this.tabs={map:"site-map",widgets:"icons2",editor:"pencil3",footer:"cog"}}],template:'<div class="kong-bs__main"><div class="kong-bs__main__nav"><div class="kong-bs__main__nav__item"kong-bs-tab-handler="{{::name}}"ng-class="{\'kong-bs__main__nav__item--active\':$ctrl.service.tab == name}"ng-repeat="(name, icon) in ::$ctrl.tabs"ng-click="$ctrl.service.switchTab(name)"><span class="kong-bs__main__nav__icon lmr lmr-{{::icon}}"></span><small class="kong-bs__main__nav__name" ng-bind="::name"></small></div></div><div class="kong-bs__main__body" ng-switch on="$ctrl.service.tab"><map-panel ng-if="$ctrl.service.tab === \'map\'"></map-panel><widget-panel ng-show="$ctrl.service.tab === \'widgets\'"></widget-panel><edit-panel ng-show="$ctrl.service.tab === \'editor\'" model="$ctrl.service.edited"></edit-panel><setting-panel ng-if="$ctrl.service.tab === \'footer\'"></setting-panel><child-panel ng-if="$ctrl.service.showChild"></child-panel></div></div>'}),t.component("sidebarHeader",{controller:["$KongService","$rootScope","$scope","$http","$timeout","$KongHotKeys","$KongPopup","$KongOutputGenerator",function(e,n,o,i,r,a,s,l){var c=this;c.service=e,this.state="disabled",this.showMenu=!1;var d=void 0;c.getState=function(){if("disabled"==c.state&&void 0!==d){c.service.getDataForComparingToSave()!==d&&(c.state="ready",t.__config.enable_debug||(window.onbeforeunload=function(e){var t="Are you sure to quit without Saving?";return e.returnValue=t,t}))}return c.state},n.$on("onDataLoaded",function(e,t){t?c.state="ready":(c.state="disabled",d=c.service.getDataForComparingToSave()),c.service.resetLink(c.service),o.$apply()}),n.$on("expired_session",function(){window.onbeforeunload=void 0,s.showFsPopup({title:"Session Expired",message:"Your Session expired. Please log in to continue use the app.",onClose:function(){"disabled"!=c.state&&"undefined"!=typeof Storage&&(sessionStorage.kong_fb_data=JSON.stringify({model:c.service.content,custom_css:c.service.custom_css})),document.location.replace(t.__config.login_url)},buttons:[{text:"Login"}]})}),n.$on("promptSave",function(){c.save()}),c.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if("ready"==c.state){var n=c.service.getDataForComparingToSave();c.state="saving",c.contentSave=c.service.getContentForSave();var o=l.generate_save_data(c.contentSave);i({method:"POST",url:kong_fb.api+"/footers/"+t.__config.footer_id,data:{model:JSON.stringify(c.contentSave),shortcodes:o.shortcodes,styles:JSON.stringify(o.styles),custom_css:c.service.custom_css}}).then(function(o){r(function(){c.state="saved",r(function(){c.state="disabled",d=n,t.__config.enable_debug||(window.onbeforeunload=void 0),t.__config.enable_debug&&(window.onbeforeunload=void 0),"function"==typeof e&&e()},500)})},function(e){c.state="ready",c.redirect_link&&(c.redirect_link=""),s.showFsPopup({title:"Try it Later",message:"Error! Cannot save Data."})})}},this.openCustomCodePanel=function(){o.$emit("openCustomCodePanel")},this.redirect_link=void 0,this.redirect=function(e,t){e.metaKey||e.ctrlKey||"ready"!=this.state||(e.preventDefault(),this.redirect_link=t)},this.closeMenu=function(){a.escKeyPressManager.execute()},this.openMenu=function(){this.redirect_link||(this.showMenu=!0,a.escKeyPressManager.add(function(){return c.redirect_link&&(c.redirect_link=void 0),c.showMenu=!1,!0}))},this.saveThenRedirect=function(){this.showMenu=!1,this.save(function(){c.redirectAnyway()})},this.redirectAnyway=function(e){c.redirect_link.newTab?window.open(c.redirect_link.link,"_blank"):window.location.href=c.redirect_link.link,c.redirect_link=void 0,c.showMenu=!1},this.links=t.__config.redirect_links,this.openHelpPanel=function(){this.closeMenu(),r(function(){n.$emit("openHelpPanel")},450)}}],template:'<div class="kong-bs__header"><button class="kong-bs__header__links" ng-class="{\'kong-bs__header__links--active\':$ctrl.showMenu}" ng-click="$ctrl.openMenu();"><span class="lmr lmr-plus"></span></button><button class="kong-bs__header__customCode" ng-click="$ctrl.openCustomCodePanel()"><i class="lmr lmr-code"></i></button><button class="kong-bs__header__undoBtn" ng-disabled="!$ctrl.service.commandManager.canUndo();" ng-click="$ctrl.service.commandManager.undo();"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><button class="kong-bs__header__redoBtn" ng-disabled="!$ctrl.service.commandManager.canRedo();" ng-click="$ctrl.service.commandManager.redo();"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><div class="kong-bs__header__save"><button class="kong-bs__header__save__btn kong-ui__btn kong-ui__btn--primary kong-bs__header__save__btn--{{$ctrl.getState()}}" ng-click="$ctrl.save()"><span>Saved</span><span>Save</span><span></span><span><i class="fa fa-check" aria-hidden="true"></i></span></button></div></div><div class="kong-bs__header__menu" ng-class="{\'kong-bs__header__menu--show\':$ctrl.showMenu}"><div class="kong-bs__header__menu__restrict" ng-class="{\'kong-bs__header__menu__restrict--show\':$ctrl.redirect_link}"><div class="kong-bs__header__menu__restrict__wrap"><p>Changes have been detected in data. Consider to save the data before redirecting.</p><div><button class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.saveThenRedirect()">Save & Redirect</button></div><div><a class="kong-bs__header__menu__restrict__continue" ng-click="$ctrl.redirectAnyway()">No, Redirect without saving</a></div></div></div><div class="kong-bs__header__menu__item" ng-repeat="link in ::$ctrl.links"><a href="{{::link.link}}" target="{{::(link.newTab?\'_blank\':\'_self\')}}" ng-click="$ctrl.redirect($event,link)" ng-bind="::link.text"></a></div><div class="kong-bs__header__menu__item"><a ng-click="$ctrl.openHelpPanel()">Help</a></div></div><div class="kong-bs__header__menu__backdrop" ng-click="$ctrl.closeMenu()"></div>'}),t.component("sidebarFooter",{controller:["$KongService","$rootScope","$KongHotKeys",function(t,n,o){var i=this;this.devices=["mobile","tablet","tablet-l","desktop"],this.service=t,t.previewDevice=this.devices[3],this.changeDevice=function(e){e<0||e>3||t.previewDevice!==this.devices[e]&&(t.previewDevice=this.devices[e])},this.toggleCollapse=function(){t.sidebar_collapse?o.escKeyPressManager.execute():(t.sidebar_collapse=!0,t.deactivateDraggable(),t.visualShow&&e.element(t.getIframeDoc().body).removeClass("kong-dnd--hlFooter"),o.escKeyPressManager.add(function(){return t.sidebar_collapse=!1,t.reactivateDraggable(),t.visualShow&&e.element(t.getIframeDoc().body).addClass("kong-dnd--hlFooter"),!0}))},this.toggleVisualShow=function(){t.visualShow?(t.visualShow=!1,t.deactivateDraggable(),e.element(t.getIframeDoc().body).removeClass("kong-dnd--hlFooter")):(t.visualShow=!0,t.reactivateDraggable(),e.element(t.getIframeDoc().body).addClass("kong-dnd--hlFooter"))},n.$on("toggleVisual",function(){i.toggleVisualShow()}),n.$on("toggleCollapse",function(){i.toggleCollapse()})}],template:'<div class="kong-bs__footer"><div class="kong-bs__footer__collapse" ng-click="$ctrl.toggleCollapse()"><i class="lmr lmr-chevron-left-circle"></i></div><div class="kong-bs__footer__map" ng-click="$ctrl.toggleVisualShow()">Visual <span class="kong-bs__footer__map__toggle" ng-class="{\'kong-bs__footer__map__toggle--active\':$ctrl.service.visualShow}"></span><div class="kong-bs__footer__map__visual"></div></div><div class="kong-bs__footer__responsive"><a ng-repeat="device in ::$ctrl.devices" class="kong-bs__footer__responsive__device"ng-class="{\'kong-bs__footer__responsive__device--current\': $ctrl.service.previewDevice == device}"ng-click="$ctrl.changeDevice($index)"><i class="lmr lmr-{{::device}}"></i></a></div></div>'}),t.component("menuPanel",{controller:["$KongService","$timeout","$scope","$rootScope","$KongHotKeys",function(e,t,n,o,i){this.service=e,this.sections={map:"site-map",widgets:"icons2",editor:"pencil3",nav:"cog"},this.menu=e.currentMenu}],template:'<div class="kong-bs__main" ng-class="{\'kong-bs__main--show\': $ctrl.service.currentMenu, \'kong-bs__main--hide\':$ctrl.hide}"><div class="kong-bs__main__header"></div><div class="kong-bs__main__nav"><div class="kong-bs__main__nav__item"ng-class="{\'kong-bs__main__nav__item--active\':$ctrl.service.tab == name}"ng-repeat="(name, icon) in ::$ctrl.sections"ng-click="$ctrl.service.switchTab(name)"><span class="kong-bs__main__nav__icon lmr lmr-{{icon}}"></span><small class="kong-bs__main__nav__name" ng-bind="name"></small></div></div><div class="kong-bs__main__body" ng-switch on="$ctrl.service.tab"><map-panel ng-switch-when="map"></map-panel><widget-panel ng-switch-when="widgets"></widget-panel><editor-panel ng-switch-when="editor"></editor-panel><setting-panel ng-switch-when="nav"></setting-panel><child-panel ng-if="$ctrl.service.showChild"></child-panel></div></div>'}),t.component("childPanel",{controller:["$KongService","$timeout","$rootScope","$KongHotKeys",function(e,t,n,o){this.service=e,this.child=e.child;var i=this;this.showoff=!1,this.back=function(){o.escKeyPressManager.execute()},o.escKeyPressManager.add(function(){return i.showoff=!0,t(function(){e.showChild=!1},650),!0}),n.$on("removeChildParent",function(){o.escKeyPressManager.execute()})}],template:'<div class="kong-bs__editor kong-bs__childEditor" ng-class="{\'kong-bs__childEditor--hide\':$ctrl.showoff}"><div class="kong-bs__editor__header kong-bs__editor__header--child"><button class="kong-bs__childEditor__backBtn" ng-click="$ctrl.back()"><i class="lmr lmr-chevron-left"></i></button><h3 class="kong-bs__editor__header__name" ng-bind="::$ctrl.service.child.name"></h3></div><div class="kong-bs__editor__body  kong-bs__editor__body--child kong-bs__editor__body--wrap kong-bs__editor__body--noPaddingTop" kong-expand-watcher="$ctrl.service.icons_expand"><child-editor-compiler model="$ctrl.service.child"></child-editor-compiler></div></div><div class="kong-bs__childEditor__backdrop"></div>'}),t.component("customCodePanel",{controller:["$KongService","$KongHotKeys","$rootScope",function(e,t,n){var o=this,i=this;this.service=e,this.mode="css",this.show=!1,this.expand=!1;var r=void 0;this.options={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"css",onLoad:function(e){r=e}},this.close=function(){t.escKeyPressManager.execute()},this.open=function(){i.show||(i.show=!0,e.lockVisualShow=!0,t.pause(),e.deactivateDraggable(),l(!0),t.escKeyPressManager.add(function(){return i.show=!1,i.expand=!1,e.lockVisualShow=!1,t.resume(),e.reactivateDraggable(),r.blur(),!0}))};var a,s=function(e){e.focus();var t=e.getSession().getValue().split("\n").length;e.gotoLine(t),e.navigateLineEnd()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(a),a=setTimeout(function(){r.resize(),r.renderer.updateFull(),e&&s(r)},300)};this.expandBox=function(){o.expand=!o.expand,l()},n.$on("openCustomCodePanel",i.open)}],template:'<div class="kong-bs__codeEditor" ng-class="{\'kong-bs__codeEditor--show\':$ctrl.show, \'kong-bs__codeEditor--expanded\':$ctrl.expand}"><div class="kong-bs__codeEditor__header"><button class="kong-bs__codeEditor__header__closeBtn" ng-click="$ctrl.close()"><span class="lmr-arrow-left"></span></button><div class="kong-bs__codeEditor__header__tab">Custom CSS</div><button class="kong-bs__codeEditor__header__expandBtn" ng-click="$ctrl.expandBox();"><span class="lmr lmr-{{$ctrl.expand? \'contract\':\'expand\'}}"></span></button></div><div class="kong-bs__codeEditor__body"><div ui-ace="$ctrl.options" ng-model="$ctrl.service.custom_css" ng-model-options="{debounce: 500}"></div></div></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.component("mapPanel",{controller:["$KongService",function(e){this.service=e,this.getLevel=function(){var t=e.getLevel(e.mapped);return"grid"==e.mapped.tag?t=7:t>6&&(t=6),t}}],template:'<div class="kong-bs__editor kong-bs__mapController" ng-switch on="$ctrl.getLevel()"><map-section ng-switch-when="2" class="kong-bs__mapPanel"></map-section><map-row ng-switch-when="3" class="kong-bs__mapPanel"></map-row><map-column ng-switch-when="4" class="kong-bs__mapPanel"></map-column><map-item ng-switch-when="5" class="kong-bs__mapPanel"></map-item><map-nested-item ng-switch-when="6" class="kong-bs__mapPanel"></map-nested-item><map-grid-item ng-switch-when="7" class="kong-bs__mapPanel"></map-grid-item></div>'}),t.component("mapSection",{controller:["$KongService",function(e){this.service=e;var t=JSON.stringify(window.kong_widget_manager.get_model_by_tag("section"));this.isEmpty=function(){return 0===e.mapped.content.length},this.disableDragging=function(){return e.mapped.content.length<2},this.addSection=function(){e.addNode(this.service.mapped,JSON.parse(t)),setTimeout(function(){e.scrollToElement(e.mapped.content[e.content.length-1])},100)},this.removeAll=function(){this.service.removeAllChildNodes(this.service)},this.getButton=function(){return"Add Section"},this.select=function(t){e.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-bs__editor__header"><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name">Layout</h3><p class="kong-bs__editor__header__desc">Your layout with all sections</p></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__list__empty" ng-click="$ctrl.addSection()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="kong-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'section\']"><div class="kong-bs__list__item"kong-visual-hover="section"ng-repeat="section in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-draggable="section"dnd-type="\'section\'"dnd-disable-if="$ctrl.disableDragging()"dnd-effect-allowed="move"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="::section.name"></h3><p class="kong-bs__list__item__desc" ng-bind="::(section.name != \'Section\'?\'Section\':\'Unnamed\')"></p></div><div class="kong-bs__list__item__clickArea" ng-click="$ctrl.select(section)"></div><box-action current="section"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addSection()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapRow",{controller:["$KongService",function(e){this.service=e,this.template=[[],["1-1"],["1-2","1-2"],["1-3","1-3","1-3"],["1-3","2-3"],["2-3","1-3"],["1-4","1-4","1-4","1-4"],["1-4","3-4"],["1-4","1-2","1-4"],["3-4","1-4"],["1-5","1-5","1-5","1-5","1-5"],["2-5","3-5"]];var t=JSON.stringify(window.kong_widget_manager.get_model_by_tag("row")),n=JSON.stringify(window.kong_widget_manager.get_model_by_tag("column"));this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getColumnLayout=function(e){for(var t="",n=0;n<e.content.length;n++)t+=e.content[n].attrs.width+(n===e.content.length-1?"":" + ");return t?t.split("-").join("/"):"Empty"},this.removeAll=function(){this.service.removeAllChildNodes(e.mapped),this.show_row=!1},this.addRow=function(e){for(var o=JSON.parse(t),i=this.template[e],r=0;r<i.length;r++){var a=JSON.parse(n);a.attrs.width={desktop:i[r]},"1-1"!=i[r]&&(a.attrs.width.mobile="1-1"),o.content.push(a)}this.service.addNode(this.service.mapped,o),this.show_row=!1},this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.getButton=function(){return this.show_row?"Collapsed":"Add Row"},this.showRowList=function(){this.show_row=!this.show_row},this.getColumnLabel=function(e){if(0==e.content.length)return"Empty";var t=[],n=!0,o=!1,i=void 0;try{for(var r,a=e.content[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;t.push(s.attrs.width.desktop.replace("-","/"))}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}var l=t.join(" + ");return l.length>20&&(l=l.substr(0,18)+"..."),l},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-bs__editor__header"><map-back></map-back><div class="kong-bs__wrap"><input kong-input-section-name class="kong-bs__editor__header__mapInput" type="text" value="{{::($ctrl.service.mapped.name == \'Section\'? \'\':$ctrl.service.mapped.name)}}" maxlength="20" placeholder="Section"/><map-breadcrumbs></map-breadcrumbs></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__addItem" ng-class="{\'kong-bs__addItem--show\':$ctrl.isEmpty() || $ctrl.show_row}"><p class="kong-bs__addItem__message">Add a Row.</p><ul class="kong-bs__addItem__list kong-bs__addItem__list--row"><li class="kong-bs__addItem__item" ng-repeat="row in ::$ctrl.template" ng-click="$ctrl.addRow($index)"><span ng-repeat="column in ::row track by $index" class="kong-bs__visualCol kong-bs__visualCol--{{::column}}"></span></li></ul></div><div class="kong-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'row\']"><div class="kong-bs__list__item"kong-visual-hover="row"ng-repeat="row in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="row"dnd-type="\'row\'"dnd-effect-allowed="move"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="$ctrl.getColumnLabel(row)"></h3><p class="kong-bs__list__item__desc">Row</p></div><div class="kong-bs__list__item__clickArea" ng-click="$ctrl.select(row)"></div><box-action current="row"></box-action></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.showRowList()" show="$ctrl.show" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div></div>'}),t.component("mapColumn",{controller:["$KongService",function(e){this.service=e,this.template=["1-1","1-2","1-3","2-3","1-4","3-4","1-5","2-5","3-5","4-5","1-6","5-6"];var t=JSON.stringify(window.kong_widget_manager.get_model_by_tag("column"));this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.addColumn=function(e){var n=JSON.parse(t);n.attrs.width={desktop:this.template[e]},"1-1"!=this.template[e]&&(n.attrs.width.mobile="1-1"),this.service.addNode(this.service.mapped,n),this.show_column=!1},this.removeColumn=function(t,n){e.removeNode(t,n)},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(e){return e.attrs.width.replace("-","/")},this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0)},this.getButton=function(){return this.show_column?"Collapsed":"Add Column"},this.showColumnList=function(){this.show_column=!0},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-bs__editor__header"><map-back></map-back><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name">Row</h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__addItem" ng-class="{\'kong-bs__addItem--show\': $ctrl.service.mapped.content.length === 0 || $ctrl.show_column}"><p class="kong-bs__addItem__message">Add a Column.</p><ul class="kong-bs__addItem__list"><li class="kong-bs__addItem__item" ng-repeat="column in ::$ctrl.template" ng-click="$ctrl.addColumn($index)"><span class="kong-bs__visualCol kong-bs__visualCol--{{::column}}"></span><small class="kong-bs__visualCol__name" ng-bind="::(column|slash)"></small></li></ul></div>\x3c!-- Panel Header--\x3e<div class="kong-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'column\']"><div class="kong-bs__list__item"kong-visual-hover="column"ng-repeat="column in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-draggable="column"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-type="\'column\'"dnd-effect-allowed="move"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="column.attrs.width.desktop|slash"></h3><p class="kong-bs__list__item__desc">Column</p></div><div class="kong-bs__list__item__clickArea" ng-click="$ctrl.select(column)"></div><box-action current="column"></box-action></div></div>\x3c!-- Drag drop box area --\x3e<add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.showColumnList()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapItem",{controller:["$KongService",function(e){this.service=e,this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(){return this.service.mapped.attrs.width.desktop.replace("-","/")},this.addItem=function(){e.switchTab("widgets")},this.getButton=function(){return"Add Item"},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n},this.select=function(t){t.nested&&(this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(e.mapped,!0))}}],template:'<div class="kong-bs__editor__header"><map-back></map-back><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name" ng-bind="\'Column \'+$ctrl.getWidth()"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__list__empty" ng-click="$ctrl.addItem()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="kong-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'item\']"><div class="kong-bs__list__item"ng-click="$ctrl.select(item)"kong-visual-hover="item"ng-repeat="item in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="item"dnd-type="\'item\'"dnd-effect-allowed="move"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="::item.name"></h3><p class="kong-bs__list__item__desc">Item</p></div><box-action current="item"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addItem()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapNestedItem",{controller:["$KongService",function(e){this.service=e,this.removeAll=function(){this.service.removeAllChildNodes(e.mapped)},this.isEmpty=function(){return 0===this.service.mapped.content.length},this.disableDragging=function(){return this.service.mapped.content.length<2},this.getWidth=function(){return this.service.mapped.attrs.width.desktop.replace("-","/")},this.addItem=function(){e.switchTab("widgets")},this.getButton=function(){return"Add Item"},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-bs__editor__header"><map-back></map-back><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name" ng-bind="::$ctrl.service.mapped.name"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__list__empty" ng-click="$ctrl.addItem()" ng-if="$ctrl.isEmpty()"><span class="lmr lmr-plus"></span></div><div class="kong-bs__list"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.mapped)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, index)"dnd-list="$ctrl.service.mapped.content" dnd-allowed-types="[\'item\']"><div class="kong-bs__list__item"kong-visual-hover="item"ng-repeat="item in $ctrl.service.mapped.content"dnd-moved="$ctrl.service.mapped.content.splice($index, 1); $ctrl.service.resetChildLinkFromIndex($ctrl.service.mapped, $index)"dnd-disable-if="$ctrl.service.mapped.content.length < 2"dnd-draggable="item"dnd-type="\'item\'"dnd-effect-allowed="move"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="::item.name"></h3><p class="kong-bs__list__item__desc">Item</p></div><box-action current="item"></box-action></div></div><add-and-remove model="$ctrl.service.mapped" on-add="$ctrl.addItem()" on-remove="$ctrl.removeAll()" on-get-button="$ctrl.getButton()"></add-and-remove></div>'}),t.component("mapGridItem",{controller:["$KongService",function(e){this.service=e,this.parent=e.mapped,this.select=function(t){this.service.mapped=t,e.removeVisualNode(),e.scrollToElement(this.parent,!0)},this.scroll=function(){e.scrollToElement(this.parent)},this.add=function(){e.switchTab("widgets")}}],template:'<div class="kong-bs__editor__header"><map-back></map-back><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name" ng-bind="::$ctrl.service.mapped.name"></h3><map-breadcrumbs></map-breadcrumbs></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__list"><div class="kong-bs__list__item"kong-visual-hover="$ctrl.parent"ng-repeat="item in ::$ctrl.service.mapped.content"><div class="kong-bs__list__item__info"><h3 class="kong-bs__list__item__name" ng-bind="::item.name"></h3><p class="kong-bs__list__item__desc">Grid Item</p></div><div class="kong-bs__list__item__clickArea"  ng-click="$ctrl.select(item)"></div><div class="kong-bs__list__item__action kong-bs__list__item__action--oneCol"><button ng-click="$ctrl.add()"><i class="lmr lmr-icons2"></i></button><button ng-click="$ctrl.scroll()"><i class="lmr lmr-arrow-right"></i></button></div></div></div></div>'}),t.component("boxAction",{controller:["$KongService",function(e){var t=this;this.remove=function(){e.removeNode(this.current)},this.duplicate=function(){e.duplicateNode(this.current,!0)},this.edit=function(){t.scroll(),e.setEdited(this.current,!0)},this.scroll=function(){e.scrollToElement(this.current)}}],template:'<div class="kong-bs__list__item__action"><button ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></button><button ng-click="$ctrl.duplicate()"><i class="lmr lmr-copy"></i></button><button ng-click="$ctrl.edit()"><i class="lmr lmr-pencil3"></i></button><button ng-click="$ctrl.scroll()"><i class="lmr lmr-arrow-right"></i></button></div>',bindings:{current:"<"}}),t.component("addAndRemove",{controller:function(){this.show=!1,this.removeAll=function(){this.onRemove(),this.show=!1}},template:'<div class="kong-bs__list__action"><div ng-show="$ctrl.show"><button class="kong-ui__btn kong-ui__btn--primary kong-ui--marginRight5" ng-click="$ctrl.show=false">No Never</button><button class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</button></div><div ng-show="!$ctrl.show"><button ng-show="!$ctrl.show && $ctrl.model.content.length > 1" class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover kong-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</button><button class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.onAdd()" ng-bind="::$ctrl.onGetButton()"></button></div></div>',bindings:{onRemove:"&",onAdd:"&",onGetButton:"&",model:"<"}}),t.component("mapBreadcrumbs",{controller:["$KongService",function(e){this.service=e,this.links=[{name:"Layout",link:e.footer.link}];for(var t=e.mapped;t.hasOwnProperty("link")&&t.link.length>2;)this.links.splice(1,0,{name:"grid"==t.tag?"Grid":t.name,link:t.link}),t=e.getParentNode(t);var n,o=e.mapped.link.length-5;for(n=0;n<o;n++)this.links.splice(0,1);this.select=function(t){e.mapped=e.getNodeFromLink(t)}}],template:'<ul class="kong-bs__editor__header__breadcrumbs"><li ng-repeat="item in ::$ctrl.links"><a ng-click="$ctrl.select(item.link)" ng-bind="::item.name"></a></li></ul>'}),t.component("mapBack",{controller:["$KongService",function(e){this.back=function(){e.mapped=e.getParentNode(e.mapped)}}],template:'<button class="kong-bs__editor__header__mapBackBtn" ng-click="$ctrl.back()"><i class="lmr lmr-chevron-left"></i></button>'})}(window.angular)},function(e,exports){"use strict";!function(e){function t(e){for(var t=e.toLowerCase().split("_"),o=0;o<t.length;o++)t[o]=n(t[o]);return t.join("")}function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}var o=e.module("kong.builder.app");o.component("widgetPanel",{controller:["$KongService","$rootScope",function(e,t){var n=this;this.service=e,this.widgets=window.kong_widget_manager.get_widget_model_list(),["1/3 + 1/3 + 1/3","1/2 + 1/2","1/3 + 2/3","2/5 + 3/5","2/3 + 1/3","3/5 + 2/5","1/4 + 1/4 + 1/2","1/4 + 1/2 + 1/4","1/2 + 1/4 + 1/4"].forEach(function(e){var t=JSON.parse(JSON.stringify(window.kong_widget_manager.get_model_by_tag("grid")));t.name=e,t.keywords=["grid"],t.filter="grid",t.nested=!0,t.icon_url=o.__config.img+"/widgets/grid_"+e.replace(/[\/+ ]/g,"")+".png",e.split(" + ").forEach(function(e){var n={tag:"grid_column",name:e,core:!0,attrs:{},content:[],native:!0};n.attrs.width=e.replace("/","-"),t.content.push(n)}),n.widgets.push(t)}),this.filters={all:"icons",text:"text-size",image:"picture2",media:"film-play",grid:"grid",other:"resize-handle"},this.filter="all",this.dragStartCallback=function(t){e.dragFromSidebar=!0,e.hide="kong-dnd__area--showList--lv4",e.showDrop="kong-dnd__area--showDrop--lv3",t.nested&&(e.blockNestedList=!0)},this.dragCanceledCallback=function(t){e.dragFromSidebar=!1},this.dragEndCallback=function(t){e.showDrop="",e.hide="",e.blockNestedList&&(e.blockNestedList=!1)}}],template:'<kong-widget-handler><div class="kong-bs__editor__header"><div class="kong-bs__widget__wrap"><div class="kong-bs__widget__search"><span class="kong-bs__widget__search__icon"><i class="lmr lmr-magnifier" aria-hidden="true"></i></span><input class="kong-bs__widget__search__input" kong-widget-search-focus type="text" placeholder="Quick search for Widgets" /><button class="kong-bs__widget__search__clearBtn"><i class="lmr lmr-cross2" aria-hidden="true"></i></button></div><div class="kong-bs__widget__filter"><button class="kong-bs__widget__filter__btn" data-filter="{{::name}}"ng-repeat="(name,icon) in ::$ctrl.filters" title="{{::name}}"><i class="lmr lmr-{{::icon}}"></i></button></div></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap"><div class="kong-bs__widget__container" data-filter-type="all"><div class="kong-bs__widget__item"data-filter="{{::item.filter}}"data-name="{{::item.keywords.join(\',\')}}"ng-repeat="item in ::$ctrl.widgets"dnd-draggable="item"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-canceled="$ctrl.dragCanceledCallback()"dnd-dragend="$ctrl.dragEndCallback()"dnd-type="\'dnd-item\'"dnd-effect-allowed="copy"><div class="kong-bs__widget__item__wrap" title="{{::item.name}}"><span class="kong-bs__widget__item__icon kong-bs__widget__item__icon--loaded" ng-style="::{\'background-image\':\'url(\'+ item.icon_url +\')\'}"></span><h6 class="kong-bs__widget__item__name" ng-bind="::(item.name|shorten:15)"></h6></div></div></div>\x3c!-- end component list --\x3e</div></kong-widget-handler>'}),o.directive("kongWidgetHandler",["$timeout",function(t){return{restrict:"E",link:function(n,o,i){t(function(){var t=o.find(".kong-bs__widget__search__input"),n=t.next(),i=o.find(".kong-bs__widget__container"),r=o.find(".kong-bs__widget__item"),a=void 0;o.find(".kong-bs__widget__filter__btn").each(function(o){var r=e.element(this);0==o&&(a=r,a.addClass("kong-bs__widget__filter__btn--active")),r.on("click",function(){r.hasClass("kong-bs__widget__filter__btn--active")||(a.removeClass("kong-bs__widget__filter__btn--active"),r.addClass("kong-bs__widget__filter__btn--active"),i.attr("data-filter-type",r.attr("data-filter")),a=r,t.attr("value")&&n.trigger("click"))})}),t.on("change paste keydown input",function(){var t=e.element(this).val().trim().toLowerCase();""!=t?(n.css({display:"block","pointer-events":"auto"}),r.each(function(){var n=e.element(this);-1!=n.data("name").toLowerCase().indexOf(t)?n.css({display:"block"}):n.css({display:"none"})})):(n.css({display:"none","pointer-events":"none"}),r.each(function(){e.element(this).css({display:"block"})}))}),n.on("click",function(){n.css({display:"none","pointer-events":"none"}),t.attr("value",""),r.each(function(){e.element(this).css({display:"block"})})})})}}}]);var i=!0,r=!1,a=void 0;try{for(var s,l=window.kong_widget_manager.widgets[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c,d;!function(){var n=s.value,i=t(n.tag);o.component("lbMd"+i,{controller:["$KongService",function(e){this.service=e,this.edited=e.edited,this.config=window.kong_widget_manager.get_config(n.tag)}],template:window.kong_widget_manager.get_editor_view(n),bindings:{model:"<"}}),n.hasOwnProperty("core")||(o.component("lbVs"+i,{controller:["$KongService","$scope","$timeout","$rootScope",function(t,n,o,i){var r=this;this.service=t,this.attr=this.model.attrs,this.model.attrs=e.merge({},window.kong_widget_manager.default_values[this.model.tag],this.model.attrs),this.edited=this.model,this.content=this.model.content,this.getID=function(){return t.getID(r.model)};var a={self:null,childs:null},s=void 0,l=void 0,c=void 0;this.model.nested?(s="scopeSiblings",l="nestedStoreScopeWatchers",c="scopeChildren"):(s="scopeIterateSiblings",l="storeScopeWatchers",c="scopeIterateChildren"),this.$postLink=function(){setTimeout(function(){t.storeWatchers(n,a,l,s,c)})};var d=i.$on("in-"+this.getID(),function(){t.returnWatchers(n,a,s,c)}),u=i.$on("out-"+this.getID(),function(){t.storeWatchers(n,a,l,s,c)}),p=void 0;this.model.hasOwnProperty("core")&&this.model.core||this.model.hasOwnProperty("nested")&&this.model.nested||!Array.isArray(this.content)||(p=i.$on("safe-check-"+this.getID(),function(){t.returnWatchers(n,a,s,c),o(function(){t.storeWatchers(n,a,l,s,c)})}));var g=i.$on("blink-watchers-"+this.getID(),function(){a.self.length&&(n.$$watchers=a.self),o(function(){t.edited!==r.model&&(n.$$watchers=[])})});n.$on("$destroy",function(){d(),u(),g(),void 0!==p&&p()})}],template:n.visual_view,bindings:{model:"<"}}),n.hasOwnProperty("child")&&(c=n.child,d=t(c.tag),o.component("lbCe"+d,{controller:["$KongService",function(e){var t=this;t.edited=e.child,t.config=window.kong_widget_manager.get_config(n.child.tag)}],template:window.kong_widget_manager.get_editor_view(c),bindings:{model:"<"}})))}()}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app"),n=window.kong_widget_manager.get_editor_view_by_tag("footer");t.component("settingPanel",{controller:["$KongService",function(e){this.edited=e.content[0],this.service=e,this.config=window.kong_widget_manager.get_config("footer")}],template:'<div class="kong-bs__editor"><div class="kong-bs__editor__header"><h3 class="kong-bs__editor__header__name">Footer</h3><p class="kong-bs__editor__header__desc">Setting Options for this Footer</p></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap kong-bs__editor__body--noPaddingTop kong-bs__edited__body">'+n+"</div></div>"})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("kong.builder.app").component("editPanel",{controller:["$KongService","$timeout","$scope","$http","$rootScope",function(e,t,n,o,i){var r=this;this.service=e,this.panel="root",this.duplicate=function(){e.duplicateNode(this.service.edited)},this.setAction=function(t){"duplicate"==t?e.duplicateNode(this.service.edited):this.panel=t},this.back=function(){this.panel="root"},this.actions=[{name:"duplicate",title:"Duplicate",icon:"copy"},{name:"remove",title:"Remove",icon:"trash2"}],this.remove=function(){e.removeNode(e.edited),r.panel="root"},n.$watch("$ctrl.model",function(){r.panel="root"})}],template:'<div ng-if="$ctrl.service.edited"><div class="kong-bs__editor__header"><div class="kong-bs__edited" ng-show="$ctrl.panel == \'root\'"><div class="kong-bs__edited__header"><h4 class="kong-bs__edited__header__name" ng-bind="::$ctrl.service.edited.name"></h4></div><div class="kong-bs__edited__action kong-bs__edited__action--lv2"><button class="kong-bs__edited__action__btn" ng-click="$ctrl.setAction(item.name)" ng-repeat="item in ::$ctrl.actions" title="{{::item.name}}"><span class="lmr lmr-{{::item.icon}}"></span></button></div></div>\x3c!-- Normal Panel --\x3e<div class="kong-bs__edited" ng-show="$ctrl.panel == \'remove\'"><div class="kong-bs__edited__header"><p class="kong-bs__edited__header__message">Are you sure to remove this?</p></div><div class="kong-bs__edited__action kong-bs__edited__action--lv2"><button class="kong-bs__edited__action__btn" ng-click="$ctrl.remove()">Yes</button><button class="kong-bs__edited__action__btn" ng-click="$ctrl.back()">No</button></div></div></div><div class="kong-bs__editor__body kong-bs__editor__body--wrap kong-bs__editor__body--noPaddingTop kong-bs__edited__body"kong-expand-watcher="$ctrl.service.icons_expand"><div class="kong-bs__editor__body__wrap"><editor-view-compiler></editor-view-compiler></div></div><edited-template-panel on-back="$ctrl.back()" ng-if="$ctrl.panel == \'template\'"></edited-template-panel></div><div class="kong-bs__editor__header" ng-show="!$ctrl.service.edited && !$ctrl.service.loadingEdited"><div class="kong-bs__wrap"><h3 class="kong-bs__editor__header__name">No Selected</h3><p class="kong-bs__editor__header__desc">There is no item selected for editing</p></div></div><div class="kong-bs__editor__preloader" ng-class="{\'kong-bs__editor__preloader--show\':$ctrl.service.loadingEdited}"></div>',bindings:{model:"<"}})}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.component("kongBsPreview",{controller:["$KongService","$scope","$timeout","$rootScope",function(e,t,n,o){this.service=e,this.turnCollapse=function(){o.$emit("toggleCollapse")}}],template:'<div class="kong-bs__preview"><div class="kong-bs__preview__wrap kong-bs__preview__wrap--{{$ctrl.service.previewDevice}}"><iframe frame-compile src="'+t.__config.frame_url+'" frameborder="0" id="kong-bs-frame"></iframe></div><a class="kong-bs__preview__collapseBtn" ng-click="$ctrl.turnCollapse()"><i class="lmr lmr-chevron-right-circle"></i></a></div>'}),t.component("kongDndArea",{controller:["$KongService","$rootScope",function(e,t){this.service=e,this.addSection=function(){var t=JSON.parse(JSON.stringify(window.kong_widget_manager.get_model_by_tag("section")));e.addNode(e.content[0],t,0)},this.openPreset=function(){t.$emit("openPreset")},this.$onInit=function(){var t=void 0,n=e.getIframeWindow(),o=e.getIframeJQueryObject(),i=o("#kong-fb-dnd-area");o("body, html").scrollTop(i.offset().top),window.ResizeSensor(document.querySelector(".kong-bs__preview__wrap"),function(){clearTimeout(t),t=setTimeout(function(){o(n).scrollTop()<i.offset().top&&o("body, html").animate({scrollTop:i.offset().top},500)},250)})}}],template:'<div class="kong-dnd__welcome" ng-show="$ctrl.service.content[0].content.length == 0"><div class="kong-dnd__welcome__container"><div class="kong-dnd__welcome__desc">Welcome to <strong>Kong Footer Builder</strong>, a functional and intuitive Builder helps you create elegant footers for your site with an ease. Get started with your first</div><div class="kong-dnd__welcome__decision"><a ng-click="$ctrl.addSection()">Blank Section</a><a ng-click="$ctrl.openPreset()">Presets</a></div></div></div><div class="kong-dnd__area"ng-show="$ctrl.service.content[0].content.length > 0"ng-class="[$ctrl.service.showDrop, $ctrl.service.hide ,{\'kong-dnd__area--blockNestedList\':$ctrl.service.blockNestedList,\'kong-dnd__area--editableMode\':$ctrl.service.editableMode,\'kong-dnd__area--disableVisual\':!$ctrl.service.visualShow,\'kong-dnd__area--locked\':$ctrl.service.lockVisualShow,\'kong-dnd__area--disableAll\':$ctrl.service.sidebar_collapse}]"><kong-footer ng-repeat="footer in $ctrl.service.content" model="footer"></kong-footer></div><style type="text/css" ng-bind="$ctrl.service.custom_css"></style>'}),t.component("kongFooter",{controller:["$KongService",function(t){this.service=t,this.model.attrs=e.merge({},window.kong_widget_manager.default_values[this.model.tag],this.model.attrs),this.edited=this.model,this.getID=function(){return t.getID(this.model)}}],template:window.kong_widget_manager.get_visual_view_by_tag("footer"),bindings:{model:"<"}}),t.component("kongSectionList",{controller:["$KongService","$scope","$rootScope",function(e,t,n){this.service=e,this.showDropArea=function(){e.turnOff=!0},this.addSection=function(){var t=JSON.parse(JSON.stringify(window.kong_widget_manager.get_model_by_tag("section")));e.addNode(this.service.content[0],t,0)},this.dragStartCallback=function(){e.showTrash=!0},this.dragEndCallback=function(){e.showTrash=!1},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-dnd__sectionList kong-dnd__list kong-dnd__list--lv1"dnd-list="$ctrl.service.content[0].content"ng-class="{\'kong-dnd__list--empty\':$ctrl.service.content[0].content.length === 0}"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.service.content[0])"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.service.content[0], index)"dnd-allowed-types="[\'dnd-section\']"><kong-section section="section"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"ng-repeat="section in $ctrl.service.content[0].content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.service.content[0], $index)"dnd-draggable="section"dnd-type="\'dnd-section\'"id="{{::$ctrl.service.getID(section)}}"dnd-effect-allowed="move"></kong-section></div>'}),t.component("kongSection",{controller:["$KongService","$scope","$timeout","$rootScope",function(t,n,o,i){this.service=t,this.section.attrs=e.merge({},window.kong_widget_manager.default_values[this.section.tag],this.section.attrs),this.edited=this.section;var r=this,a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return t.getID(r.section)};var s=i.$on("in-"+this.getID(),function(){t.returnWatchers(n,a,"scopeSiblings","scopeChildren")}),l=i.$on("out-"+this.getID(),function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});this.isEmpty=function(){return 0===this.section.content.length},n.$on("$destroy",function(){s(),l()})}],template:window.kong_widget_manager.get_visual_view_by_tag("section"),bindings:{section:"<"}}),t.component("kongRowList",{controller:["$KongService","$scope","$rootScope",function(e,t,n){this.service=e,this.isEmpty=function(){return 0===this.section.content.length},this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(){e.showDrop="kong-dnd__area--showDrop--lv1",e.showTrash=!0},this.dragEndCallback=function(){e.hide="",e.showDrop="",e.showTrash=!1},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-dnd__rowList kong-dnd__list kong-dnd__list--lv2 dnd-{{::$ctrl.service.getID($ctrl.section)}}"dnd-list="$ctrl.section.content"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.section)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.section, index)"ng-class="{\'kong-dnd__list--empty\':$ctrl.section.content.length == 0}"dnd-allowed-types="[\'row\']"><kong-row dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"id="{{::$ctrl.service.getID(row)}}"row="row"ng-repeat="row in $ctrl.section.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.section, $index)"dnd-draggable="row"dnd-type="\'row\'"dnd-effect-allowed="move"></kong-row></div><div class="kong-dnd__empty kong-dnd__empty--lv2"><span class="kong-dnd__empty__label" ng-bind="::$ctrl.section.name"></span></div>',bindings:{section:"<"}}),t.component("kongRow",{controller:["$KongService","$scope","$timeout","$rootScope",function(t,n,o,i){var r=this;this.service=t,this.row.attrs=e.merge({},window.kong_widget_manager.default_values[this.row.tag],this.row.attrs),this.edited=this.row,this.isEmpty=function(){return 0===this.row.content.length},this.getID=function(){return t.getID(r.row)};var a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})};var s=i.$on("in-"+this.getID(),function(){t.returnWatchers(n,a,"scopeSiblings","scopeChildren")}),l=i.$on("out-"+this.getID(),function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});n.$on("$destroy",function(){s(),l()})}],template:window.kong_widget_manager.get_visual_view_by_tag("row"),bindings:{row:"<"}}),t.component("kongColumnList",{controller:["$KongService","$timeout","$rootScope","$scope",function(e,t,n,o){this.service=e,this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(){e.showDrop="kong-dnd__area--showDrop--lv2",e.showTrash=!0},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1},this.getColumnWidthClass=function(e){var t="kong-col-"+e.attrs.width.desktop;return e.attrs.width.hasOwnProperty("tablet")&&(t+=" kong-col-tb-"+e.attrs.width.tablet),e.attrs.width.hasOwnProperty("mobile")&&(t+=" kong-col-mb-"+e.attrs.width.mobile),t},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-dnd__columnList kong-row__columnList kong-dnd__list kong-dnd__list--lv3 dnd-{{::$ctrl.service.getID($ctrl.row)}}"ng-class="{\'kong-dnd__list--empty\':$ctrl.row.content.length == 0}"dnd-list="$ctrl.row.content"dnd-horizontal-list="true"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.row)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.row, index)"dnd-allowed-types="[\'dnd-column\']"><kong-column class="kong-column"ng-class="::[$ctrl.service.getID(column),$ctrl.getColumnWidthClass(column)]"ng-repeat="column in $ctrl.row.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.row, $index)"ng-mouseup="$ctrl.mouseUpCallback()"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"dnd-draggable="column"dnd-type="\'dnd-column\'"dnd-effect-allowed="move"id="{{::$ctrl.service.getID(column)}}"column="column"></kong-column></div><div class="kong-dnd__empty kong-dnd__empty--lv3"><span class="kong-dnd__empty__label" ng-bind="::$ctrl.row.name"></span></div>',bindings:{row:"<"}}),t.component("kongColumn",{controller:["$KongService","$scope","$timeout","$rootScope",function(t,n,o,i){var r=this;this.service=t,this.column.attrs=e.merge({},window.kong_widget_manager.default_values[this.column.tag],this.column.attrs),this.edited=this.column,this.isEmpty=function(){return 0==this.column.content.length},this.getID=function(){return this.service.getID(this.column)};var a={self:null,childs:null};this.$postLink=function(){setTimeout(function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})};var s=i.$on("in-"+this.getID(),function(){t.returnWatchers(n,a,"scopeSiblings","scopeChildren")}),l=i.$on("out-"+this.getID(),function(){t.storeWatchers(n,a,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")}),c=["1-1","5-6","4-5","3-4","2-3","3-5","1-2","2-5","1-3","1-4","1-5","1-6"],d=this.getID(),u=void 0;this.formClass=function(e){void 0===u&&(u=this.service.getIframeElement("."+d));var t="kong-column";t+=" kong-col-"+e.desktop,e.hasOwnProperty("tablet")&&e.tablet!=e.desktop&&(t+=" kong-col-tb-"+e.tablet),e.hasOwnProperty("mobile")&&(e.hasOwnProperty("tablet")&&e.tablet!=e.mobile||!e.hasOwnProperty("tablet")&&e.mobile!=e.desktop)&&(t+=" kong-col-mb-"+e.mobile),t+=" "+d,u.className=t;for(var n="1-1",o=["desktop","tablet","mobile"],i=0;i<o.length;i++)for(var r=o[i],a=u.querySelectorAll(".kong-dnd__colWidth--"+r),s=0,l=a.length;s<l;s++)e.hasOwnProperty(r)&&(n=e[r].replace("-","/")),a[s].innerHTML=n},this.changeWidth=function(e){var n="1-1";n="tablet"==t.previewDevice?this.column.attrs.width.hasOwnProperty("tablet")?c.indexOf(this.column.attrs.width.tablet):c.indexOf(this.column.attrs.width.desktop):"mobile"==t.previewDevice?this.column.attrs.width.hasOwnProperty("mobile")?c.indexOf(this.column.attrs.width.mobile):this.column.attrs.width.hasOwnProperty("tablet")?c.indexOf(this.column.attrs.width.tablet):c.indexOf(this.column.attrs.width.desktop):c.indexOf(this.column.attrs.width.desktop),e&&n>0&&n<c.length?this.column.attrs.width[t.previewDevice]=c[n-1]:!e&&n>=0&&n<c.length-1&&(this.column.attrs.width[t.previewDevice]=c[n+1]),this.column!=this.service.edited&&this.formClass(this.column.attrs.width)},this.plusWidth=function(){this.column!=this.service.edited?t.commandManager.addCommand({execute:function(){r.changeWidth(!0)},undo:function(){r.changeWidth(!1)}}):r.changeWidth(!0)},this.minusWidth=function(){this.column!=this.service.edited?t.commandManager.addCommand({execute:function(){r.changeWidth(!1)},undo:function(){r.changeWidth(!0)}}):r.changeWidth(!1)};var p=i.$on("change-width-"+r.getID(),function(e,t){"-"==t?r.minusWidth():"+"==t&&r.plusWidth()});n.$on("$destroy",function(){s(),l(),p()})}],template:window.kong_widget_manager.get_visual_view_by_tag("column"),bindings:{column:"<"}}),t.component("kongItemList",{controller:["$KongService","$rootScope","$scope",function(e,t,n){this.service=e,this.isEmpty=function(){return 0==this.column.content.length},this.mouseUpCallback=function(){this.service.hide=""},this.dragStartCallback=function(t){e.showDrop="kong-dnd__area--showDrop--lv3",e.showTrash=!0,t.nested&&(e.blockNestedList=!0)},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1,e.blockNestedList&&(e.blockNestedList=!1)},this.getID=function(){return e.getID(this.column)},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n}}],template:'<div class="kong-dnd__itemList kong-dnd__list kong-dnd__list--lv4 dnd-{{::$ctrl.service.getID($ctrl.column)}}"dnd-list="$ctrl.column.content"ng-class="{\'kong-dnd__list--empty\':$ctrl.column.content.length === 0}"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.column)"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.column, index)"dnd-allowed-types="[\'dnd-item\']"><kong-item ng-repeat="item in $ctrl.column.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.column, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"id="{{::$ctrl.service.getID(item)}}"item="item"></kong-item></div><div class="kong-dnd__empty kong-dnd__empty--lv4"><span class="kong-dnd__empty__label">Column <span class="kong-dnd__colWidth--desktop" ng-bind="::($ctrl.column.attrs.width.desktop|slash)"></span><span class="kong-dnd__colWidth--tablet" ng-bind="::($ctrl.column.attrs.width.tablet|slash)"></span><span class="kong-dnd__colWidth--mobile" ng-bind="::($ctrl.column.attrs.width.mobile|slash)"></span></span></div>',bindings:{column:"<"}}),t.component("kongItem",{controller:["$KongService","$scope","$timeout","$rootScope",function(e,t,n,o){this.service=e;var i=this,r={self:null,childs:null};this.$postLink=function(){setTimeout(function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return e.getID(i.item)};var a=o.$on("in-"+this.getID(),function(){e.returnWatchers(t,r,"scopeSiblings","scopeChildren")}),s=o.$on("out-"+this.getID(),function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});this.mouseDownCallback=function(){i.item.nested?i.service.hide="kong-dnd__area--showList--lv4 kong-dnd__area--hideNestedList":i.service.hide="kong-dnd__area--showList--lv4"},t.$on("$destroy",function(){a(),s()})}],template:'<div class="kong-dnd__visual kong-dnd__visual--lv4 lvh__{{::$ctrl.getID()}}" kong-detect-hover-node="$ctrl.item"ng-mousedown="$ctrl.mouseDownCallback()"><div class="kong-dnd__visual__label" kong-keep-visual-label><div class="kong-dnd__visual__label__name" node-tree model=\'$ctrl.item\'><span ng-bind="::$ctrl.item.name" ng-click="$ctrl.service.setEdited($ctrl.item,true)"></span></div></div><kong-action current="$ctrl.item" hide-map="true"></kong-action></div><visual-view-compiler model="$ctrl.item"></visual-view-compiler>',bindings:{item:"<"}}),t.component("lbVsGrid",{controller:["$KongService",function(e){this.service=e,this.edited=this.model,this.getID=function(){return e.getID(this.model)}}],template:window.kong_widget_manager.get_visual_view_by_tag("grid"),bindings:{model:"<"}}),t.component("kongNestedItemList",{controller:["$KongService","$rootScope","$scope",function(e,t,n){this.service=e,Array.isArray(this.model.content)||(this.model.content=[]),this.mouseUpCallback=function(){this.service.hide=""},this.blockNestedList=function(t,n,o,i,r,a){return!o.nested&&(e.moveNode(a,n,o),o)},this.dragStartCallback=function(t){e.showDrop="kong-dnd__area--showDrop--lv3",e.showTrash=!0,t.nested&&(e.blockNestedList=!0)},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1,e.blockNestedList&&(e.blockNestedList=!1)}}],template:'<div class="kong-dnd__list kong-dnd__list--nested kong-dnd__list--lv4"dnd-list="$ctrl.model.content"ng-class="{\'kong-dnd__list--empty\':$ctrl.model.content.length == 0}"dnd-drop="$ctrl.blockNestedList(event, index, item, type, external, $ctrl.model)"dnd-inserted="$ctrl.service.resetLink($ctrl.model)"dnd-allowed-types="[\'dnd-item\']"><kong-nested-item ng-repeat="item in $ctrl.model.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback(item)"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"item="item"></kong-nested-item></div><div class="kong-dnd__empty kong-dnd__empty--lv4 kong-dnd__empty--nested"><span class="kong-dnd__empty__label" ng-bind="$ctrl.model.name"></span></div>',bindings:{model:"<"}}),t.component("kongNestedHorizontalItemList",{controller:["$KongService","$rootScope","$scope",function(e,t,n){this.service=e,Array.isArray(this.model.content)||(this.model.content=[]),this.mouseUpCallback=function(){this.service.hide=""},this.blockNestedList=function(t,n,o,i,r,a){return!o.nested&&(e.moveNode(a,n,o),o)},this.dragStartCallback=function(){e.showDrop="kong-dnd__area--showDrop--lv3",e.showTrash=!0},this.dragEndCallback=function(){this.service.hide="",e.showDrop="",e.showTrash=!1}}],template:'<div class="kong-dnd__list kong-dnd__list--nested kong-dnd__list--lv4 kong-dnd__list--horizontal kong-inlineList"dnd-horizontal-list="true"dnd-list="$ctrl.model.content"ng-class="{\'kong-dnd__list--empty\':$ctrl.model.content.length == 0}"dnd-drop="$ctrl.blockNestedList(event, index, item, type, external, $ctrl.model)"dnd-inserted="$ctrl.service.resetLink($ctrl.model)"dnd-allowed-types="[\'dnd-item\']"><kong-nested-item ng-repeat="item in $ctrl.model.content"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="item"dnd-type="\'dnd-item\'"dnd-dragstart="$ctrl.dragStartCallback()"dnd-dragend="$ctrl.dragEndCallback()"ng-mouseup="$ctrl.mouseUpCallback()"dnd-effect-allowed="move"item="item"></kong-nested-item></div><div class="kong-dnd__empty kong-dnd__empty--lv4"><span class="kong-dnd__empty__label" ng-bind="::$ctrl.model.name"></span></div>',bindings:{model:"<"}}),t.component("kongNestedItem",{controller:["$KongService","$scope","$timeout","$rootScope",function(e,t,n,o){this.service=e;var i=this,r={self:null,childs:null};this.$postLink=function(){setTimeout(function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")})},this.getID=function(){return e.getID(i.item)};var a=o.$on("in-"+this.getID(),function(){e.returnWatchers(t,r,"scopeSiblings","scopeChildren")}),s=o.$on("out-"+this.getID(),function(){e.storeWatchers(t,r,"nestedStoreScopeWatchers","scopeSiblings","scopeChildren")});t.$on("$destroy",function(){a(),s()})}],template:'<visual-view-compiler model="$ctrl.item"></visual-view-compiler><div class="kong-dnd__visual kong-dnd__visual--lv4 kong-dnd__visual--lv5 lvh__{{::$ctrl.getID()}}"kong-detect-hover-node="$ctrl.item"ng-mousedown="$ctrl.service.hide=\'kong-dnd__area--showList--lv4\'"><div class="kong-dnd__visual__label" kong-keep-visual-label><div class="kong-dnd__visual__label__name" node-tree model=\'$ctrl.item\'><span ng-bind="::$ctrl.item.name" ng-click="$ctrl.service.setEdited($ctrl.item,true)"></span></div></div><kong-action current="$ctrl.item" hide-map="true"></kong-action></div>',bindings:{item:"<"}}),t.component("kongAction",{controller:["$KongService","$timeout","$rootScope",function(t,n,o){this.service=t,this.remove=function(){t.removeNode(this.current)},this.duplicate=function(){t.duplicateNode(this.current,!0)},this.select=function(e){e.metaKey||e.ctrlKey?t.openMap(this.current,!0):t.setEdited(this.current,!0)},this.openRightActions=function(t){if(3==t.which)return e.element(document).on("contextmenu",function(e){return 2==e.button&&e.preventDefault(),!0}),o.$emit("openRightClickPanel",{evt:t,model:this.current}),!1}}],template:'<div class="kong-dnd__action__edit" ng-click="$ctrl.select($event)" ng-mousedown="$ctrl.openRightActions($event)" oncontextmenu="return false"></div>',bindings:{current:"<",hideMap:"<"}}),t.component("kongBsRightClickAction",{controller:["$KongService","$rootScope","$timeout","$http","$KongHotKeys","$element",function(t,n,o,i,r,a){var s=this;this.shown=!1,this.service=t,this.saveStatus="is-disabled";jQuery(".kong-bs__sidebar").width();this.showPanel=!1,n.$on("openRightClickPanel",function(n,i){s.saveStatus="is-active",s.shown=!0,document.querySelector(".kong-bs__rightClick__separator").style.display="block",o(function(){var e=a.find(".kong-bs__rightClick__panel"),t=e.outerWidth(),n=e.outerHeight(),o=i.evt.screenX,r=i.evt.clientY;s.panelLeft=o+t<=window.innerWidth?o:o-t,s.panelTop=r+n<=window.innerHeight?r:r-n,s.showPanel=!0}),s.current=i.model,e.element(t.getIframeElement(".lvh__"+t.getID(s.current))).addClass("kong-dnd__visual--show"),t.getIframeDoc().addEventListener("scroll",s.close,!1),r.escKeyPressManager.add(function(){return s.opened_panel&&(s.opened_panel=""),e.element(t.getIframeElement(".lvh__"+t.getID(s.current))).removeClass("kong-dnd__visual--show"),setTimeout(function(){document.querySelector(".kong-bs__rightClick__separator").style.display="none"},100),s.shown=!1,t.getIframeDoc().removeEventListener("scroll",s.close,!1),e.element(document).unbind("contextmenu"),s.showPanel=!1,!0})}),this.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};r.escKeyPressManager.execute(e)},this.remove=function(){this.close(),t.removeNode(this.current)},this.duplicate=function(){this.close(),t.duplicateNode(this.current)},this.copy=function(){this.close(),t.copied={node:t.clone(this.current),level:t.getLevel(this.current),action:"copy"}},this.goToMap=function(){t.mapped=t.getParentNode(this.current),t.switchTab("map"),this.close()},this.cut=function(){t.copied={node:this.current,level:t.getLevel(this.current),action:"cut"},this.remove()},this.paste=function(){if(this.close(),void 0!==t.copied){var e=t.clone(t.copied.node);t.addNode(this.current,e),"cut"==t.copied.action&&(t.copied=void 0)}},this.showPasteButton=function(){if(!t.copied)return!1;var e=t.getLevel(this.current),n=t.copied.level;return e<6&&e+1==n||5==e&&n>5},this.isSameLevel=function(){if(!t.copied)return!1;var e=t.getLevel(this.current),n=t.copied.level;return e==n||6==e&&(8==n||7==n)||(7==e||8==e)&&6==n||8==e&&7==n||7==e&&8==n},this.insertBefore=function(){this.close();var e=t.getParentNode(this.current),n=t.getIndex(this.current);t.addNode(e,t.clone(t.copied.node),n),"cut"==t.copied.action&&(t.copied=void 0)},this.insertAfter=function(){this.close();var e=t.getParentNode(this.current),n=t.getIndex(this.current)+1;t.addNode(e,t.clone(t.copied.node),n),"cut"==t.copied.action&&(t.copied=void 0)},this.allowPasting=function(){if(!t.copied)return!1;switch(this.current.tag){case"section":return"row"==t.copied.tag;case"row":return"column"==t.copied.tag;case"column":return"row"!=t.copied.tag&&"column"!=t.copied.tag;default:return!1}},this.edit=function(){this.close(),t.edited!=this.current&&(t.edited&&(n.$emit("out-"+t.getID(t.edited)),t.edited=null),o(function(){t.edited=s.current,n.$emit("in-"+t.getID(t.edited))},100)),t.switchTab("editor")}}],template:'<div ng-if="$ctrl.shown" class="kong-bs__rightClick"><div class="kong-bs__rightClick__backdrop" oncontextmenu="return false" ng-mousedown="$ctrl.close()" ng-click="$ctrl.close()"></div><div class="kong-bs__rightClick__panel" ng-class="{\'kong-bs__rightClick__panel__show\': $ctrl.showPanel}" ng-style="{\'top\':$ctrl.panelTop, \'left\':$ctrl.panelLeft}"><div class="kong-bs__rightClick__section"><a ng-click="$ctrl.remove()">Delete</a><a ng-click="$ctrl.duplicate()">Duplicate</a><a ng-click="$ctrl.cut()" ng-if="::($ctrl.current.tag != \'section\')">Cut</a><a ng-click="$ctrl.copy()" ng-if="::($ctrl.current.tag != \'section\')">Copy</a><a ng-if="$ctrl.showPasteButton()"><span ng-click="$ctrl.paste()">Paste</span></a></div><div class="kong-bs__rightClick__section" ng-if="$ctrl.isSameLevel()"><a ng-click="$ctrl.insertBefore()">Insert Before</a><a ng-click="$ctrl.insertAfter()">Insert After</a></div><div class="kong-bs__rightClick__section"><a ng-click="$ctrl.edit()">Edit</a><a ng-click="$ctrl.goToMap()">Go to Map</a></div></div></div><div class="kong-bs__rightClick__separator"></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){function t(){var e,t=navigator.userAgent,n={},o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];/trident/i.test(o[1])&&(e=/\brv[ :]+(\d+)/g.exec(t)||[],n={name:"IE",version:e[1]||""}),"Chrome"===o[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))&&(n={name:"Opera",version:e[1]}),o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),n.hasOwnProperty("name")||(n={name:o[0],version:o[1]});for(var i=[{name:"Chrome",version:50},{name:"Safari",version:10}],r=0,a=i.length;r<a;r++)if(n.name===i[r].name&&n.version>=i[r].version)return!0;return!1}var n=e.module("kong.builder.app");n.directive("frameCompile",["$compile","$KongService","$rootScope","$KongHotKeys","$KongPopup",function(o,i,r,a,s){return{restrict:"A",link:function(l,c,d){var u=!1;if("undefined"!=typeof Storage&&sessionStorage.kong_fb_data){var p=JSON.parse(sessionStorage.kong_fb_data);i.content=p.model,i.mapped=i.content[0],i.custom_css=p.custom_css,u=!0,delete sessionStorage.kong_fb_data}else i.custom_css=n.__config.footer_data.custom_css,1==n.__config.footer_data.model.length&&(i.content=n.__config.footer_data.model,i.mapped=i.content[0]);i.reset(),c.load(function(){var d=e.element(c.contents()).find("body"),p=d[0].querySelector("#kong-fb-dnd-area");if(p){d.addClass("kong-dnd--hlFooter");var g=e.element("<kong-dnd-area></kong-dnd-area>");e.element(p).append(g),o(g)(l),r.$emit("onDataLoaded",u),setTimeout(function(){document.title=n.__config.page_title;var e=document.querySelector(".kong-bs__preloader");e.className=e.className+" kong-bs__preloader--hide",setTimeout(function(){a.init(),i.commandManager.init(),e.parentNode.removeChild(e)},1e3),t()||s.showFsPopup({title:"Warning",message:"We do not fully support a browser you are using yet. Please, use Chrome 50+ or Safari 10+ to get better experience.",buttons:[{text:"Continue Anyway"}],esc:!1}),n.__config.footer_data.error&&s.showFsPopup({title:"Warning",message:"We cannot compile this page since something wrong have been detected in your data. Please notice that if you continue to use the app, your old data will be completely replaced by the new after pressing the save button.",buttons:[{text:"Ok, I understood"}],esc:!1})})}else{document.title="Footer Builder: App Error!";var f=document.querySelector(".kong-bs__preloader");f.className=f.className+" kong-bs__preloader--hide",s.showFsPopup({title:"App Error",message:"Somethings wrong happen with this page. Please try later!",buttons:[{text:"Close App",callback:function(){window.history.back()}}],onInit:function(){document.addEventListener("contextmenu",function(e){return e.preventDefault()});var e=document.querySelector(".kong-app");e&&(e.style.pointerEvents="none",e.onclick=function(t){t.preventDefault(),e.style.pointerEvents="none"})}})}})}}}]),n.directive("editorViewCompiler",["$KongService","$compile",function(t,n){return{restrict:"AE",link:function(o,i,r){var a=t.constructTag(t.edited.tag),s=e.element("<lb-md-"+a+"></lb-md-"+a+">");i.append(s),n(s)(o)}}}]),n.directive("visualViewCompiler",["$KongService","$compile",function(t,n){return{scope:{model:"<"},restrict:"EA",link:function(o,i,r){var a=t.constructTag(o.model.tag),s=o.model.nested?' class="kong-dnd__nestedListContainer"':"",l=e.element("<lb-vs-"+a+' model="model"'+s+"></lb-vs-"+a+">");i.append(l),n(l)(o)}}}]),n.directive("childEditorCompiler",["$KongService","$compile",function(t,n){return{scope:{model:"<"},restrict:"EA",link:function(o,i,r){var a=t.constructTag(o.model.tag),s=e.element("<lb-ce-"+a+" ></lb-ce-"+a+">");i.append(s),n(s)(o)}}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.directive("kongLink",function(){return{restrict:"E",scope:{text:"@",link:"@",newTab:"@"},link:function(e,t,n){t.html('<span class="kong-dnd__link">'+e.text+"</span>"),t.on("click",function(){void 0===e.newTab||"true"==e.newTab?window.open(e.link):window.location.href=e.link})}}}),t.directive("kongInstagram",["$http","$timeout","$KongService","$compile",function(n,o,i,r){return{restrict:"A",scope:{numberItems:"<",resolution:"<"},link:function(n,a,s){var l=void 0,c=e.element('<div class="kong-dnd__errorMessage"><p>Error in getting data. Set up <kong-link text="here" link="'+t.__config.site_option_url+'#/instagram_setting" new-tab="true"></kong-link></p></div>'),d=e.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),u=function(e,t){for(var o='<div class="kong-gallery">',i=0;i<t;i++){var r=e[i];o+='<div class="kong-gallery__item kong-gallery--loaded">',o+='<a class="kong-gallery__item__wrap">',o+='<img src="'+r.images[n.resolution].url+'" alt="'+r.caption+'" />',o+="</a>",o+="</div>"}return o+="</div>"},p=function(e){if(e){e=JSON.parse(e);var t=e;n.numberItems>e.data.length&&(t.limited_items=e.data.length),i.setSessionData("kong_instagram_data",t),a.html(u(e.data,e.data.length))}else g()},g=function(){a.html(c),r(c.contents())(n)},f=function(e){g()},_=i.getIframeJQueryObject();n.$watchGroup(["numberItems","resolution"],function(){l&&o.cancel(l);var e=i.getSessionData("kong_instagram_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<n.numberItems)return void a.html(u(e.data,e.limited_items));if(e.data.length>=n.numberItems)return void a.html(u(e.data,n.numberItems))}a.html(d),l=o(function(){_.instagramHttp({data:{num:n.numberItems},success:p,error:f})},1e3)})}}}]),t.directive("kongFlickr",["$http","$timeout","$KongService","$compile",function(n,o,i,r){return{restrict:"A",scope:{numberItems:"<"},link:function(n,a,s){var l=void 0,c=e.element('<div class="kong-dnd__errorMessage"><p>Error in getting data. Set up <kong-link text="here" link="'+t.__config.site_option_url+'#/flickr_setting" new-tab="true"></kong-link></p></div>'),d=e.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),u=function(e,t){for(var n='<div class="kong-gallery">',o=0;o<t;o++){var i=e[o],r="http://farm"+i.farm+".staticflickr.com/"+i.server+"/"+i.id+"_"+i.secret+"_q.jpg";n+='<div class="kong-gallery__item kong-gallery--loaded">',n+='<a class="kong-gallery__item__wrap">',n+='<img src="'+r+'" alt="'+i.title+'" />',n+="</a>",n+="</div>"}return n+="</div>"},p=function(e){if(e){var t=JSON.parse(e.data);if("ok"==t.stat){var o={};o.data=t.photos.photo,n.numberItems>t.photos.photo.length&&(o.limited_items=t.photos.photo.length),i.setSessionData("kong_flickr_data",o),a.html(u(t.photos.photo,t.photos.photo.length))}else g()}else g()},g=function(){a.html(c),r(c.contents())(n)},f=function(e){g()},_=i.getIframeJQueryObject();n.$watch("numberItems",function(){l&&o.cancel(l);var e=i.getSessionData("kong_flickr_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<n.numberItems)return void a.html(u(e.data,e.limited_items));if(e.data.length>=n.numberItems)return void a.html(u(e.data,n.numberItems))}a.html(d),l=o(function(){_.flickrHttp({data:{num:n.numberItems},success:p,error:f})},1e3)})}}}]),t.directive("kongTwitter",["$http","$timeout","$KongService","$compile",function(n,o,i,r){return{restrict:"A",scope:{numberItems:"<"},link:function(n,a,s){var l=void 0,c=0,d=e.element('<div class="kong-dnd__errorMessage"><p>Error in getting data. Set up <kong-link text="here" link="'+t.__config.site_option_url+'#/twitter_setting" new-tab="true"></kong-link></p></div>'),u=e.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),p=i.getIframeWindow(),g=i.getIframeJQueryObject(),f=function(e,t){var n='<ul class="kong-widget__media">';c=0;try{for(var o=0;o<t;o++)if(void 0!==e[o]){var i='<img src="'+e[o].user.profile_image_url+'" />',r="http://twitter.com/"+e[o].user.screen_name+"/status/"+e[o].id_str;n+='<li class="item kong-widget__media-item"><div class="kong-media kong-media--top"><div class="kong-media__image kong--paddingRight15"><a class="kong-widget__media__avatar">'+i+'</a></div><div class="kong-media__content"><div class="kong-widget__twitter__header"><a class="kong-widget__twitter__user kong--mBold" href="'+r+'" target="_blank">@'+e[o].user.screen_name+'</a><span class="kong-widget__twitter__time">'+p.TWITTER.timeAgo(e[o].created_at)+'</span></div><div class="kong-widget__twitter__content">'+p.TWITTER.ify.clean(e[o].text)+"</div></div></div></li>",c++}}catch(e){}return n+="</ul>"},_=function(e){if(e){var t=JSON.parse(e);if(200==t.httpstatus){var o={};o.data=t,a.html(f(t,n.numberItems)),c<n.numberItems&&(o.limited_items=c),o.count=c,i.setSessionData("kong_twitter_data",o)}else m()}else m()},m=function(){a.html(d),r(d.contents())(n)},v=function(e){m()};n.$watch("numberItems",function(){l&&o.cancel(l);var e=i.getSessionData("kong_twitter_data");if(e){if(e.hasOwnProperty("limited_items")&&e.limited_items<n.numberItems)return void a.html(f(e.data,e.limited_items));if(e.count>=n.numberItems)return void a.html(f(e.data,n.numberItems))}a.html(u),l=o(function(){g.twitterHttp({data:{num:n.numberItems},success:_,error:v})},1e3)})}}}]),t.directive("bindGoTopButton",["$KongService",function(e){return{link:function(t,n,o){var $=e.getIframeJQueryObject();e.getIframeJQuery();$(n[0]).bindGoTopButton()}}}]),t.directive("kongFooterParallax",["$KongService",function(e){return{restrict:"A",scope:{model:"<"},link:function(t,n,o){var i=e.getIframeJQuery(),r=i(n).closest(".kong-boxedContainer"),a=void 0!==r,s=void 0,l=i(n).closest(".kong-site__footer"),c=i(l.prev());a&&(s=function(){n.css({width:r.width()+"px"})});var d=function(){l.css({height:n.height()})};t.removeStuff=function(){c.hasClass("kong-site__footer__prev")&&(c.removeClass("kong-site__footer__prev"),l.css({height:"auto"}),window.ResizeSensor.detach(n,d),a&&window.ResizeSensor.detach(r,s))},t.$watch("model",function(){t.model?(c.addClass("kong-site__footer__prev"),d(),window.ResizeSensor(n,d),a&&window.ResizeSensor(r,s)):t.removeStuff()}),t.$on("$destroy",function(){t.removeStuff()})}}}]),t.directive("kongFacebook",function(){return{restrict:"E",scope:{page:"<",tab:"<",width:"<",height:"<",hideCover:"<",showFace:"<",smallHeader:"<"},link:function(e,t,n){var o=void 0;e.$watchGroup(["page","tab","width","height","hideCover","showFace","smallHeader"],function(){clearTimeout(o),o=setTimeout(function(){var n="";if(e.page){var o="href="+encodeURI(e.page)+"&adapt_container_width=false&width="+e.width+"&height="+e.height;e.tab&&(o+="&tabs="+e.tab),e.smallHeader?o+="&small_header=true":o+="&small_header=false",e.hideCover?o+="&hide_cover=true":o+="&hide_cover=false",e.showFace?o+="&show_facepile=true":o+="&show_facepile=false",n='<iframe src="https://www.facebook.com/plugins/page.php?'+o+'&appId" width="'+e.width+'" height="'+e.height+'" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>'}t.html(n)},500)})}}}),window.mapLoaded=!1,t.directive("kongGoogleMap",["$KongService","$compile",function(e,n){return{restrict:"A",scope:{mapZoom:"<",mapStyle:"<",mapLng:"<",mapLat:"<",mapMarkers:"<"},link:function(o,i,r){function a(){var e=!0,t=!1,n=void 0;try{for(var o,i=v[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.setMap(null)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}v.length=0}function s(){if(o.mapMarkers.length>0)for(var e=0;e<o.mapMarkers.length;e++)!function(e){var t=o.mapMarkers[e];setTimeout(function(){c(t)},200*e)}(e)}function l(e){null!==e.getAnimation()?e.setAnimation(null):e.setAnimation(g.google.maps.Animation.BOUNCE)}function c(e){var t=new g.google.maps.Marker({map:m,position:e.attrs.center?m.getCenter():{lat:parseFloat(e.attrs.lat),lng:parseFloat(e.attrs.lng)},title:"Hello World!",animation:e.attrs.animation?g.google.maps.Animation.DROP:null});if(e.attrs.icon.url){var n={url:e.attrs.icon.url,scaledSize:new g.google.maps.Size(e.attrs.width,e.attrs.height)};t.setIcon(n)}e.attrs.animation&&t.addListener("click",function(){l(t)}),v.push(t)}function d(){var e={zoom:o.mapZoom,mapTypeId:g.google.maps.MapTypeId.ROADMAP,center:new g.google.maps.LatLng(parseFloat(o.mapLat),parseFloat(o.mapLng))};o.mapStyle&&(e.styles=JSON.parse(o.mapStyle)),i.html(""),i.append(f),m=new g.google.maps.Map(f,e),a(),s()}var u=e.getIframeDoc(),p=e.getIframeJQuery(),g=e.getIframeWindow(),f=u.createElement("div");f.className="map-container";var _,m,v=[],h=!1;if(p(g).resize(function(){m&&g.google.maps.event.trigger(m,"resize")}),!u.querySelector("#google-map-script")){_=u.createElement("script"),_.type="text/javascript",_.id="google-map-script";var b=void 0!==t.__config.map_api_key?t.__config.map_api_key:"";if(!b)return i.html('<div class="kong-dnd__errorMessage"><p>Missing API key. Set up <kong-link text="here" link="'+t.__config.site_option_url+'#/google_map_setting" new-tab="true"></kong-link></p></div>'),void n(i.contents())(o);_.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&key="+b,_.onload=_.onreadystatechange=function(){g.mapLoaded=!0},u.getElementsByTagName("head")[0].appendChild(_)}!function e(){g.mapLoaded?(d(),h=!0):setTimeout(function(){e()},10)}(),o.$watchGroup(["mapStyle","mapLng","mapLat","mapZoom"],function(){h&&d()}),o.$watch("mapMarkers",function(e,t){h&&d()},!0)}}}])}(window.angular)},function(e,exports){"use strict";angular.module("kong.builder.app").directive("nodeTree",["$KongService","$timeout",function(e,t){return{scope:{model:"<"},restrict:"A",link:function(n,o,i){var r=void 0;o.on("mouseenter",function(){var i=setTimeout(function(){r=angular.element('<div class="kong-dnd__nodeTree" onmousedown="return false"></div>');for(var i=e.getParentNode(n.model);Array.isArray(i.link)&&i.link.length>2;)!function(){var n=angular.element("<div></div>"),o=angular.element("<span>"+i.name+"</span>");n.append(o);var a=i;o.on("click",function(n){t(function(){n.metaKey?e.openMap(a,!0):e.setEdited(a,!0)})}),o.on("mouseenter",function(){e.keepVisualNode(a),o.on("mouseleave",function(){e.removeVisualNode()})}),r.prepend(n),i=e.getParentNode(i)}();o.append(r),setTimeout(function(){r.addClass("kong-dnd__nodeTree--show")},50)},500);o.on("mouseleave",function(){r?(r.remove(),r=void 0):clearTimeout(i)})}),n.$on("$destroy",function(){void 0!==r&&r.remove()})}}}])},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.component("kongBsLibrary",{controller:["$KongService","$timeout","$scope","$rootScope","$KongHotKeys","$KongPopup",function(t,n,o,i,r,a){var s=this;this.service=t,this.current="",this.popup={error_message:"An error occurs!",enable:"",showLoading:function(){this.enable="enable-loading"},isLoading:function(){return"enable-loading"==this.enable},showError:function(e){this.enable="",a.showFsPopup({title:"Try it Later",message:e})},showSuccess:function(){this.enable="enable-success"},hide:function(){this.enable=""}};var l=e.element('<div class="kong-bs__resourceLoader"><div class="kong-bs__resourceLoader__icon"></div></div>'),c=e.element("body");c.append(l),this.openLibrary=function(){""==this.current&&(this.current="my-library"),c.addClass("kong-show-library"),s.iterateChildren(o,s.returnScopeWatchers),r.pause(),r.escKeyPressManager.add(function(){return!s.popup.enable&&(c.removeClass("kong-show-library"),setTimeout(function(){s.iterateChildren(o,s.storeScopeWatchers),r.resume()}),!0)})},i.$on("openLibrary",s.openLibrary),i.$on("openPreset",function(){s.current="presets",s.openLibrary()}),this.apply=function(o){s.closePanel(),l.addClass("kong-bs__resourceLoader--show"),n(function(){var n=e.merge({},o);t.applyFromLibrary(n),l.removeClass("kong-bs__resourceLoader--show")},1e3)},this.closePanel=function(){r.escKeyPressManager.execute()};var d=[];this.$postLink=function(){setTimeout(function(){s.iterateChildren(o,s.storeScopeWatchers)},2e3)},s.iterateSiblings=function(e,t){for(;e=e.$$nextSibling;)t(e),s.iterateChildren(e,t)},s.iterateChildren=function(e,t){for(;e=e.$$childHead;)t(e),s.iterateSiblings(e,t)},s.storeScopeWatchers=function(e){d[e.$id]=e.$$watchers,e.$$watchers=[]},s.returnScopeWatchers=function(e){void 0!==d[e.$id]&&(e.$$watchers=d[e.$id])}}],template:'<div class="kong-lb__panel" ng-class="\'in-\'+$ctrl.current"><div class="kong-lb__header"><div class="kong-lb__header__tabs"><a class="kong-lb__header__tab" ng-click="$ctrl.current=\'presets\'">Presets</a><a class="kong-lb__header__tab" ng-click="$ctrl.current=\'my-library\'">My Library</a></div><button class="kong-lb__header__closeBtn" ng-click="$ctrl.closePanel()"><span class="lmr lmr-cross"></span></button></div><presets on-apply="$ctrl.apply(item)" active="$ctrl.current"></presets><my-library popup="$ctrl.popup" on-apply="$ctrl.apply(item)" active="$ctrl.current"></my-library><popup-panel popup="$ctrl.popup"></popup-panel></div><div class="kong-lb__backdrop"></div><button class="kong-lb__openBtn" ng-click="$ctrl.openLibrary()" ng-class="{\'kong-lb__openBtn--inactive\':$ctrl.service.sidebar_collapse  || $ctrl.service.editableMode}"><span class="lmr lmr-plus"></span></button>'}),t.component("popupPanel",{template:'<div class="kong-lb__popup" ng-class="$ctrl.popup.enable"><div class="kong-lb__popup__preloader"><div class="kong-lb__popup__preloader__loader"></div></div>\x3c!-- loading panel --\x3e<div class="kong-lb__popup__success"><span class="kong-lb__popup__success__icon lmr lmr-check"></span></div>\x3c!-- success panel --\x3e<div class="kong-lb__popup__error"><div class="kong-lb__popup__error__container"><span class="kong-lb__popup__error__icon lmr lmr-warning"></span><p class="kong-lb__popup__error__message" ng-bind="$ctrl.popup.error_message"></p><a class="kong-lb__popup__error__closeBtn" ng-click="$ctrl.popup.hide()">Close</a></div></div></div>',bindings:{popup:"<"}}),t.component("presets",{controller:["$scope","$http",function(e,n){var o=this;this.presets=[],this.status="loading";var i=e.$watch("$ctrl.active",function(){"presets"==o.active&&(n({method:"GET",url:t.__config.api+"/presets"}).then(function(e){o.presets=e.data,o.status="loaded"},function(e){o.status="error"}),i())});this.apply=function(e){this.onApply({item:e})}}],template:'<div class=\'kong-lb__presets kong-lb__container\' ng-switch on="$ctrl.status"><div class=\'kong-lb__presets__container\' ng-switch-when="loaded"><div class="kong-lb__presets__item" ng-click="$ctrl.apply(preset)" preset-loader="preset" ng-repeat="preset in ::$ctrl.presets"></div></div><div class="kong-lb__container__preloader" ng-switch-when="loading"></div><div class="kong-lb__container__error" ng-switch-when="error"><span>Fail to load data</span></div></div>',bindings:{onApply:"&",active:"<"}}),t.directive("presetLoader",function(){return{scope:{presetLoader:"<"},link:function(n,o){var i=document.createElement("img"),r=t.__config.img+"/presets/"+n.presetLoader.img+".png";o.css({"padding-bottom":n.presetLoader.padding+"%"}),i.src=r,i.style.display="none",e.element(i).on("load",function(){i.parentNode.removeChild(i),o.css({"background-image":"url("+r+")"}),setTimeout(function(){o.addClass("loaded")},0)}),document.body.appendChild(i),e.element(i).on("error",function(){i.parentNode.removeChild(i),o.addClass("failToLoad")})}}}),t.component("myLibrary",{controller:["$scope","$KongService","$http","$timeout","$KongHotKeys","$KongPopup",function(n,o,i,r,a,s){var l=this;l.model=[],l.service=o,this.enableCheck=!1,this.enableImport=!1,this.templateName="",this.importedFile=void 0,this.status="loading";var c=n.$watch("$ctrl.active",function(){"my-library"==l.active&&(i({method:"GET",url:t.__config.api+"/templates"}).then(function(e){l.status="loaded",l.model=e.data},function(e){l.status="error"}),c())});l.delete=function(e){l.model.splice(e,1)},l.export=function(){l.popup.showLoading();var n=[];e.forEach(l.model,function(e){e.checked&&n.push(e.id)}),i({method:"GET",url:t.__config.api+"/templates/export",params:{template_ids:JSON.stringify(n)}}).then(function(t){e.isObject(t.data)?(l.popup.showSuccess(),r(function(){l.popup.hide();var e="data:application/json;charset=utf-8,"+JSON.stringify(t.data).replace(/#/g,"_kong_sharp_"),n=encodeURI(e),o=new Date,i="footer_"+o.getFullYear()+"_"+(o.getMonth()+1)+"_"+o.getDate()+"_"+o.getHours()+"_"+o.getMinutes()+".json",r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",i),document.body.appendChild(r),r.click(),r.remove()},500)):l.popup.showError("Error message from Server!")},function(e){})},this.oneChecked=function(){var e=!0,t=!1,n=void 0;try{for(var o,i=this.model[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value;if(r.hasOwnProperty("checked")&&r.checked)return!0}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return!1},this.save=function(){if(l.templateName&&!l.popup.enable){this.popup.showLoading(),l.contentSave=l.service.getContentForSave();var e={name:l.templateName,model:JSON.stringify(l.contentSave),custom_css:l.service.custom_css};i({method:"POST",url:t.__config.api+"/templates",data:e}).then(function(e){-1!=e.data?(l.model.push({id:e.data,name:l.templateName,model:l.contentSave,custom_css:l.service.custom_css}),l.templateName="",l.popup.showSuccess(),l.cancel(),r(function(){l.popup.hide()},500)):l.popup.showError("Error! Cannot Save Data.!")},function(e){l.popup.showError("Error! Cannot Save Data.!")})}},this.saveByPressEnter=function(e){13==e.keyCode&&(this.save(),e.target.blur())},this.import=function(){if(void 0!==l.importedFile){this.popup.showLoading();var n=new FormData;n.append("importedFile",l.importedFile),i({method:"POST",url:t.__config.api+"/templates/import",data:n,transformRequest:e.identity,headers:{"Content-Type":void 0}}).then(function(t){e.isArray(t.data)?(l.model=l.model.concat(t.data),e.element("#template-import-file").val(null),delete l.importedFile,l.popup.showSuccess(),r(function(){l.popup.hide(),a.escKeyPressManager.execute()},500)):l.popup.showError("Error! Cannot Import Data.")},function(e){l.popup.showError("Error! Cannot Import Data.")})}else l.popup.showError("Choose file to import!")},l.readyToImport=function(){return!!l.importedFile},l.downloadCurrent=function(){l.contentSave=l.service.getContentForSave();var e="data:application/json;charset=utf-8,"+JSON.stringify(l.contentSave),t=encodeURI(e),n=new Date,o="footer_"+n.getFullYear()+"_"+(n.getMonth()+1)+"_"+n.getDate()+"_"+n.getHours()+"_"+n.getMinutes()+".json",i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",o),document.body.appendChild(i),i.click(),i.remove()},this.openExport=function(){l.enableCheck=!0,a.escKeyPressManager.add(function(){return l.enableCheck=!1,!0})},this.openImport=function(){l.enableImport=!0,a.escKeyPressManager.add(function(){return!l.popup.isLoading()&&(l.enableImport=!1,!0)})},this.openSave=function(){if(0==l.service.content.length)return s.showFsPopup({title:"Empty Content",message:"Please try to build your Footer first."}),!1;l.enableSave=!0,a.escKeyPressManager.add(function(){return!l.popup.isLoading()&&(l.enableSave=!1,!0)})},this.cancel=function(){a.escKeyPressManager.execute()},this.exportJSON=function(){this.popup.showLoading();var e={};e.identify=t.__config.template_identify_code;var n={};n.name=l.templateName,n.model=o.getContentForSave(),n.custom_css=o.custom_css,n.responsive=o.responsive,e.template=n;var i="data:application/json;charset=utf-8,"+JSON.stringify(e).replace(/#/g,"_kong_sharp_"),a=encodeURI(i),s=new Date,c="footer_"+s.getFullYear()+"_"+(s.getMonth()+1)+"_"+s.getDate()+"_"+s.getHours()+"_"+s.getMinutes()+".json",d=document.createElement("a");d.setAttribute("href",a),d.setAttribute("download",c),r(function(){l.popup.showSuccess(),r(function(){document.body.appendChild(d),d.click(),d.remove(),l.templateName="",l.popup.hide()},500)},500)},this.apply=function(e){this.onApply({item:l.model[e]})}}],template:'<div class="kong-lb__myLibrary kong-lb__container" ng-switch on="$ctrl.status"><div class="kong-lb__container__preloader" ng-switch-when="loading"></div><div class="kong-lb__container__error" ng-switch-when="error"><span>Fail to load data</span></div><div class="kong-lb__template"ng-switch-when="loaded"ng-class="{\'kong-lb__template--enableCheck\': $ctrl.enableCheck,\'kong-lb__template--enableSave\':$ctrl.enableSave,\'kong-lb__template--enableImport\':$ctrl.enableImport,\'kong-lb__template--empty\': !$ctrl.model.length}"><div class="kong-lb__template__list"><kong-lb-template ng-repeat="item in $ctrl.model" model="item" on-apply="$ctrl.apply($index)" on-delete="$ctrl.delete($index)"></kong-lb-template></div><div class="kong-lb__template__save"><div class="kong-lb__template__save__container"><input class="kong-lb__template__save__input" type="text" kong-focus-watch="$ctrl.enableSave" ng-model="$ctrl.templateName" maxlength="30" placeholder="Enter Template Name" ng-keypress="$ctrl.saveByPressEnter($event)" ng-model-options="{debounce:50}"/><span class="kong-lb__template__save__clear" ng-click="$ctrl.templateName=\'\'" ng-class="{\'kong-lb__template__save__clear--active\': $ctrl.templateName}"><i class="lmr lmr-cross2"></i> Clear Text</span></div></div><div class="kong-lb__template__importPanel"><input type="file" value="Upload" id="template-import-file" file-model="$ctrl.importedFile"/></div><span class="kong-lb__template__empty">Empty</span><div class="kong-lb__footer"><div class="kong-lb__footer__main"><div class="kong-lb__footer__main__left"><a class="kong-ui__btn kong-ui__btn--plain" ng-click="$ctrl.openExport()"><span class="lmr lmr-download2"></span> Export</a><a class="kong-ui__btn kong-ui__btn--plain" ng-click="$ctrl.openImport()"><span class="lmr lmr-upload2"></span> Import</a></div><div class="kong-lb__footer__main__right"><a class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.openSave()">Save as Template</a></div></div><div class="kong-lb__footer__export kong-lb__footer__subAction"><a ng-click="$ctrl.export()" class="kong-ui__btn kong-ui__btn--primary" ng-disabled="!$ctrl.oneChecked()">Export</a><a ng-click="$ctrl.cancel()" class="kong-ui__btn kong-ui__btn--plain">Cancel</a></div><div class="kong-lb__footer__save kong-lb__footer__subAction"><span><a ng-click="$ctrl.save()" class="kong-ui__btn kong-ui__btn--primary" ng-disabled="!$ctrl.templateName">Save</a><a ng-click="$ctrl.exportJSON()" class="kong-ui__btn kong-ui__btn--plain" ng-disabled="!$ctrl.templateName">Export JSON</a></span><a ng-click="$ctrl.cancel()" class="kong-ui__btn kong-ui__btn--plain">Cancel</a></div><div class="kong-lb__footer__import kong-lb__footer__subAction"><a ng-click="$ctrl.import()" class="kong-ui__btn kong-ui__btn--primary" ng-disabled="!$ctrl.readyToImport()">Import</a><a ng-click="$ctrl.cancel()" class="kong-ui__btn kong-ui__btn--plain">Cancel</a></div></div></div></div>',bindings:{popup:"<",onApply:"&",active:"<"}}),t.component("kongLbTemplate",{controller:["$http","$timeout","$KongPopup",function(e,n,o){var i=this;this.deleted=!1,this.confirmedDelete=!1,i.delete=function(){e({method:"DELETE",url:t.__config.api+"/templates",params:{id:i.model.id}}).then(function(e){-1!=e.data?(i.confirmedDelete=!1,i.deleted=!0,n(function(){i.onDelete()},500)):o.showFsPopup({title:"Try it Later",message:"Error! Cannot remove item."})},function(e){o.showFsPopup({title:"Try it Later",message:"Error! Cannot remove item."})})}}],template:'<div class="kong-lb__template__item" ng-class="{\'kong-lb__template__item--deleting\': $ctrl.deleted, \'kong-lb__template__item--confirmDelete\':$ctrl.confirmedDelete}"><h6 class="kong-lb__template__name" ng-bind="::$ctrl.model.name"></h6><div class="kong-lb__template__actions"><div class="kong-lb__template__main"><a class="kong-lb__template__setPreviewBtn kong-ui__btn kong-ui__btn--plain" ng-click="$ctrl.onApply()">Insert</a><a class="kong-lb__template__deleteBtn" ng-click="$ctrl.confirmedDelete=true"><span class="lmr lmr-trash2"></span></a></div><div class="kong-lb__template__confirmDelete">Are you sure? <a ng-click="$ctrl.delete($index)">Yes</a> <a ng-click="$ctrl.confirmedDelete=false">No</a></div></div><label class="kong-lb__template__checkBox"><input type="checkbox" ng-model="$ctrl.model.checked"/></label></div>',bindings:{model:"<",onDelete:"&",onApply:"&"}}),t.directive("kongFocusWatch",function(){return{restrict:"A",scope:{kongFocusWatch:"<"},link:function(e,t){e.$watch("kongFocusWatch",function(){e.kongFocusWatch?setTimeout(function(){t[0].focus()}):setTimeout(function(){t[0].blur()})})}}})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("kongService",[]).service("$KongService",["$timeout","$rootScope",function(t,n){var o=this;o.previewDevice="desktop",o.showCustomCodePanel=!1,o.show_responsive=!1,o.shortcode_datas={},o.custom_css="",o.content=[],o.content[0]=JSON.parse(JSON.stringify(window.kong_widget_manager.get_model_by_tag("footer"))),o.footer=o.content[0],o.footer.link=[0,0],o.mapped=o.footer,o.saveProperties=["tag","name","attrs","content","nested","core"],o.edited=void 0,o.loadingEdited=!1,o.child=void 0,o.showChild=!1,o.link=[0],o.visualShow=!0,o.tab="map",o.enableHotkey=!0,"undefined"!=typeof Storage&&(sessionStorage.hasOwnProperty("shortcode_datas")||(sessionStorage.shortcode_datas="{}")),o.getSessionData=function(e){if("undefined"!=typeof Storage&&sessionStorage.hasOwnProperty("shortcode_datas")){var t=JSON.parse(sessionStorage.shortcode_datas);if(t.hasOwnProperty(e))return t[e]}return!1},o.setSessionData=function(e,t){if("undefined"!=typeof Storage&&sessionStorage.hasOwnProperty("shortcode_datas")){var n=JSON.parse(sessionStorage.shortcode_datas);n[e]=t,sessionStorage.shortcode_datas=JSON.stringify(n)}},o.getContentForSave=function(){return o.cloneArray(o.content,o.saveProperties)},o.deeplyFilterProperties=function(t,n){for(var i in t)-1==n.indexOf(i)&&o.removeProperty(t,i);if(e.isArray(t.content))for(var r=0,a=t.content.length;r<a;r++)o.deeplyFilterProperties(t.content[r],n)},o.switchTab=function(e){"map"==o.tab&&o.removeVisualNode(),o.tab=e,o.showChild&&(o.showChild=!1),o.icons_expand&&(o.icons_expand=!1),"widgets"==e&&n.$emit("widget-search-focus")},o.getNodeForMap=function(e){if(void 0===e)return o.content[0];for(var t=o.content[0],n=0;n<e.length&&void 0!==t;n++)t=t.content[e[n]];return t},o.getParentNodeFromLink=function(e){for(var t=o,n=1,i=e.length-1;n<i;n++)t=t.content[e[n]];return t},o.commandManager={list:[],free:!0,currentIndex:0,limit:100,addCommand:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.list.length;n>this.currentIndex;)this.list.pop(),n--;this.list.length==this.limit?this.list.shift():this.currentIndex++,this.list.push(e),t&&e.execute()},undo:function(){var e=this;if(this.currentIndex>0&&this.free){this.free=!1,this.currentIndex--;var t=this.list[this.currentIndex];t.undo(),t.hasOwnProperty("parentLink")&&this.safeCheck(o.getNodeFromLink(t.parentLink)),this.blinkUndo(),setTimeout(function(){e.free=!0},250)}},redo:function(){var e=this;if(this.currentIndex<this.list.length&&this.free){this.free=!1;var t=this.list[this.currentIndex];t.execute(),t.hasOwnProperty("parentLink")&&this.safeCheck(o.getNodeFromLink(t.parentLink)),this.currentIndex++,this.blinkRedo(),setTimeout(function(){e.free=!0},250)}},safeCheck:function(e){e.hasOwnProperty("core")&&e.core||e.hasOwnProperty("nested")&&e.nested||!Array.isArray(e.content)||o==e||o.edited===e||n.$emit("safe-check-"+o.getID(e))},canUndo:function(){return this.currentIndex>0},canRedo:function(){return this.currentIndex<this.list.length},init:function(){this.undoBtn=e.element(".kong-bs__header__undoBtn"),this.redoBtn=e.element(".kong-bs__header__redoBtn")},blinkUndo:function(){var e=this;e.undoBtn.addClass("kong-ui--blink"),setTimeout(function(){e.undoBtn.removeClass("kong-ui--blink")},200)},blinkRedo:function(){var e=this;e.redoBtn.addClass("kong-ui--blink"),setTimeout(function(){e.redoBtn.removeClass("kong-ui--blink")},200)}},o.setChangeAttr=function(e){o.commandManager.addCommand({execute:function(){var t,i=o.getNodeFromLink(e.link);if((t=e.hasOwnProperty("parentLink")?o.getNodeFromLink(e.parentLink):i)!=o.edited){var r=o.getID(t);n.$emit("in-"+r),setTimeout(function(){n.$emit("out-"+r)})}e.isAttr?i.attrs[e.attrField]=e.newVal:i.content=e.newVal},undo:function(){var t,i=o.getNodeFromLink(e.link);if((t=e.hasOwnProperty("parentLink")?o.getNodeFromLink(e.parentLink):i)!=o.edited){var r=o.getID(t);n.$emit("in-"+r),setTimeout(function(){n.$emit("out-"+r)})}e.isAttr?i.attrs[e.attrField]=e.oldVal:i.content=e.oldVal}},!1)},o.setChangeAttrFooter=function(e){o.commandManager.addCommand({execute:function(){o.getNodeFromLink(e.link).attrs[e.attrField]=e.newVal},undo:function(){o.getNodeFromLink(e.link).attrs[e.attrField]=e.oldVal}},!1)},o.removeAllChildNodes=function(e){o.commandManager.addCommand({store:[],parentLink:e.link,execute:function(){var e=o.getNodeFromLink(this.parentLink);this.store=[].concat(e.content),void 0!==o.edited&&o.containsNode(e,o.edited)&&(o.edited=void 0,o.child=void 0,o.showChild=!1),e.content.length=0},undo:function(){var e=o.getNodeFromLink(this.parentLink),t=!0,n=!1,i=void 0;try{for(var r,a=this.store[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;e.content.push(s)}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}o.resetLink(e)}})},o.moveNodeToTrash=function(e){var t=o.getIndex(e);o.commandManager.addCommand({parentLink:o.getParentNode(e).link,execute:function(){var e=o.getNodeFromLink(this.parentLink);o.removeNodeFromParent(e,t)},undo:function(){var n=o.getNodeFromLink(this.parentLink);o.addNodeToParent(e,n,t)}},!1)},o.moveNode=function(t,n,i){if(i.hasOwnProperty("link")){var r=o.getParentNode(i),a=o.getIndex(i),s=e.merge([],r.link),l=e.merge([],t.link),c=!1;JSON.stringify(s)==JSON.stringify(l)&&n>a&&n--,5==s.length&&(7==l.length||6==l.length)&&o.containsNode(r,t)&&a<l[5]&&(l[5]--,c=!0),o.commandManager.addCommand({parentLink:l,execute:function(){var e=o.getNodeFromLink(s);o.removeNodeFromParent(e,a),c&&this.parentLink[5]--;var t=o.getNodeFromLink(this.parentLink);o.addNodeToParent(i,t,n)},undo:function(){var e=o.getNodeFromLink(this.parentLink);o.removeNodeFromParent(e,n);var t=o.getNodeFromLink(s);o.addNodeToParent(i,t,a),c&&this.parentLink[5]++}},!1)}else o.commandManager.addCommand({parentLink:t.link,execute:function(){var e=o.getNodeFromLink(this.parentLink);o.addNodeToParent(i,e,n)},undo:function(){var e=o.getNodeFromLink(this.parentLink);o.removeNodeFromParent(e,n)}},!1)},o.addNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.content.length;o.commandManager.addCommand({parentLink:e.link,execute:function(){var e=o.getNodeFromLink(this.parentLink);o.addNodeToParent(t,e,n)},undo:function(){var e=o.getNodeFromLink(this.parentLink);o.removeNodeFromParent(e,n)}})},o.addNodes=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.content.length;o.commandManager.addCommand({parentLink:e.link,execute:function(){var e=o.getNodeFromLink(this.parentLink),i=!0,r=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;e.content.splice(n,0,c),o.setLink(e,c,n),o.resetLink(c),n++}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}o.resetChildLinkFromIndex(e,n)},undo:function(){var i=o.getNodeFromLink(this.parentLink),r=t.length;for(n==e.content.length&&(n-=r);r>0;)o.safeCheck(i.content[n]),i.content.splice(n,1),r--;o.resetChildLinkFromIndex(i,n)}})},o.applyFromLibrary=function(t){var n=e.merge([],o.content),i=o.custom_css,r=o.getIframeJQueryObject(),a=o.getIframeWindow(),s=r("#kong-fb-dnd-area").offset();o.commandManager.addCommand({execute:function(){o.content=t.model,o.resetLink(o),o.mapped=o.content[0],o.edited=void 0,o.tab="map",o.custom_css=t.custom_css,setTimeout(function(){r(a).scrollTop()<s.top&&r("body, html").animate({scrollTop:s.top},500)},1e3)},undo:function(){o.content=n,o.resetLink(o),o.mapped=o.content[0],o.edited=void 0,o.tab="map",o.custom_css=i,setTimeout(function(){r(a).scrollTop()<s.top&&r("body, html").animate({scrollTop:s.top},500)},1e3)}})},o.removeNode=function(e){var t=o.getIndex(e);o.commandManager.addCommand({parentLink:o.getParentNode(e).link,execute:function(){var e=o.getNodeFromLink(this.parentLink);o.removeNodeFromParent(e,t)},undo:function(){var n=o.getNodeFromLink(this.parentLink);o.addNodeToParent(e,n,t)}})},o.setLink=function(e,t,n){t.link=e.link.concat([n])},o.resetLink=function(e){if(Array.isArray(e.content))for(var t=0;t<e.content.length;t++)o.setLink(e,e.content[t],t),o.resetLink(e.content[t])},o.resetChildLinkFromIndex=function(e,t){for(var n=e.content.length;t<n;)o.setLink(e,e.content[t],t),o.resetLink(e.content[t]),t++},o.safeCheck=function(e){(e===o.mapped||o.containsNode(e,o.mapped))&&(o.mapped=o.getParentNode(e)),void 0===o.edited||e!==o.edited&&!o.containsNode(e,o.edited)||(o.edited=void 0),void 0===o.child||e!==o.child&&!o.containsNode(e,o.child)||n.$emit("removeChildParent")},o.containsNode=function(e,t){if(e.link.length<t.link.length){for(var n=0,o=e.link.length;n<o;n++)if(e.link[n]!=t.link[n])return!1;return!0}return!1},o.removeNodeFromParent=function(n,i){o.safeCheck(n.content[i]),n.content.splice(i,1),o.resetChildLinkFromIndex(n,i),0==n.content.length&&t(function(){e.element(o.getIframeDoc().body).toggleClass("watch-remove-node")})},o.addNodeToParent=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.content.length;i.content.splice(r,0,n),o.setLink(i,n,r),o.resetLink(n),o.resetChildLinkFromIndex(i,r+1),1==i.content.length&&t(function(){e.element(o.getIframeDoc().body).toggleClass("watch-add-node")})},o.deleteNodeFromParent=function(e,t,i){o.safeCheck(e,t),i?n.$emit("reserveToUndo",e.content.splice(t,1)):e.content.splice(t,1),o.resetChildLinkFromIndex(e,t)},o.deleteNode=function(e,t){var n=o.getParentNode(e),i=o.getIndex(e);o.deleteNodeFromParent(n,i,t)},o.reset=function(){o.resetLink(o)},o.getParentNode=function(e){void 0===e.link&&o.reset();for(var t=e.link,n=o,i=1;i<t.length-1;i++)n=n.content[t[i]];return n},o.getNodeFromLink=function(e){for(var t=o,n=1;n<e.length;n++)t=t.content[e[n]];return t},o.getLevel=function(e){return e.link.length},o.getIndex=function(e){return void 0===e.link&&o.reset(),e.link[e.link.length-1]},o.getDataForComparingToSave=function(){var e={};return e.custom_css=o.custom_css,e.custom_js=o.custom_js,e.data=o.cloneArray(o.content,["attrs","content"]),JSON.stringify(e)},o.cloneObject=function(t,n){var i={};return n.forEach(function(r){if(t.hasOwnProperty(r)){var a=t[r];"content"==r&&t[r]instanceof Array?i[r]=o.cloneArray(a,n):a instanceof Object?i[r]=e.merge({},a):i[r]=a}}),i},o.cloneArray=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var a=e[i];n[i]=o.cloneObject(a,t)}return n},o.clone=function(e){return o.cloneObject(e,["content","attrs","native","tag","name","nested"])},o.duplicateNodeFromParent=function(n,i){o.addNode(n,o.clone(n.content[i]),parseInt(i)+1),t(function(){var t=n.content[parseInt(i)+1],r=e.element(o.getIframeElement(".lvh__"+o.getID(t)));r.addClass("kong-dnd__visual--show"),o.scrollToElement(t),setTimeout(function(){r.removeClass("kong-dnd__visual--show")},500)},150)},o.duplicateNode=function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=o.getParentNode(n),a=o.getIndex(n);o.addNode(r,o.clone(n),parseInt(a)+1),i&&t(function(){var t=r.content[parseInt(a)+1],n=e.element(o.getIframeElement(".lvh__"+o.getID(t)));n.addClass("kong-dnd__visual--show"),o.scrollToElement(t),setTimeout(function(){n.removeClass("kong-dnd__visual--show")},500)},150)},o.getContentForSave=function(){return o.cloneArray(o.content,o.saveProperties)},o.duplicateNodeWithoutScroll=function(e){var t=o.getParentNode(e),n=o.getIndex(e),i=o.clone(e);o.addNode(t,i,parseInt(n)+1)},o.getID=function(e){if(e){var t=e.$$hashKey.match(/\d+$/);return t?"lbe__"+t[0]:""}},o.constructTag=function(e){return e.toLowerCase().split("_").join("-")},o.scrollToElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.edited,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e){var n=jQuery(o.getIframeDoc()),i=n.find(".lvh__"+o.getID(e));return n.find("body,html").animate({scrollTop:i.offset().top},300),t&&setTimeout(function(){i.addClass("kong-dnd__visual--show"),setTimeout(function(){i.removeClass("kong-dnd__visual--show")},300)},400),!1}},o.highlightNode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.edited;if(void 0!==t){var n=e.element(o.getIframeDoc).find(".lvh__"+o.getID(t));n.addClass("kong-dnd__visual--show"),setTimeout(function(){n.removeClass("kong-dnd__visual--show")},300)}},o.removeProperty=function(e,t){e.hasOwnProperty(t)&&delete e[t]},o.deeplyRemoveProperties=function(e,t){for(var n=0,i=t.length;n<i;n++)o.removeProperty(e,t[n]);if(Array.isArray(e.content))for(var r=0,a=e.content.length;r<a;r++)o.deeplyRemoveProperties(e.content[r],t)},o.travelTree=function(t,n){for(var i in n)e.isFunction(n[i])&&n[i](t);if(e.isArray(t.content))for(var r=0,a=t.content.length;r<a;r++)o.travelTree(t.content[r],n)},o.item_templates={},o.push_item_template=function(t,n,i){var r=e.merge({},i);r.template_name=t,o.deeplyRemoveProperties(r,["hover","link"]);var a={};a.template_id=n,a.template_name=t,a.content=r,o.item_templates[i.tag].unshift(a)},o.push_layout_template=function(e,t){var n={};n.template_id=t,n.template_name=e,o.layout_templates.unshift(n)},o.loop_through_item_template=function(t,n){e.forEach(o.item_templates[t],function(t){e.isFunction(n)&&n(t)})},o.loop_through_layout_template=function(t){e.forEach(o.layout_templates,function(n){e.isFunction(t)&&t(n)})},o.showToast=function(n){if(!e.element(".kong-pb-toast").length){var o=e.element('<div class="kong-pb-toast"></div>');o.html(n.message),n.hasOwnProperty("type")&&o.addClass(n.type),e.element(".kong-bs__sidebar").append(o),o.addClass("shown"),t(function(){o.removeClass("shown"),t(function(){o.remove(),(n.callback||e.noop)()},500)},n.time)}},o.showDialog=function(t){var n=e.element('<div class="kong-bs__dialog"></div>'),o=e.element('<div class="kong-bs__dialog__backdrop"></div>'),i=e.element('<div class="kong-bs__dialog__sidebarBackdrop"></div>'),r=e.element('<div class="kong-bs__dialog__message"></div>');r.append(t.template),n.append(r);var a=e.element('<div class="kong-bs__dialog__buttons"></div>');n.append(a);var s=e.element('<a class="kong-bs__dialog__cancel"></a>');if(n.cancel=function(){n.removeClass("kong-bs__dialog--show"),setTimeout(function(){n.remove(),o.remove(),i.remove()},500)},s.text(t.cancelButton.text||"Cancel"),s.bind("click",function(){n.cancel(),(t.cancelButton.callback||e.noop)()}),a.append(s),t.confirmButton){var l=e.element('<a class="kong-bs__dialog__confirm"></a>');l.text(t.confirmButton.text||"OK"),l.bind("click",function(){n.cancel(),(t.confirmButton.callback||e.noop)()}),a.append(l)}e.element(".kong-bs__sidebar").append(n).append(i),e.element("body").append(o),setTimeout(function(){n.addClass("kong-bs__dialog--show")},100)},o.simplifyModelToSave=function(e){var t=void 0;return e instanceof Array?t=o.cloneArray(e,o.saveProperties):e instanceof Object&&(t=o.cloneObject(e,o.saveProperties)),JSON.stringify(t).replace(/\\/g,"\\\\\\")},o.setEdited=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.switchTab("editor"),o.edited!==e&&(o.edited&&n.$emit("out-"+o.getID(o.edited)),o.edited=void 0,o.loadingEdited=!0,setTimeout(function(){o.edited=e,n.$emit("in-"+o.getID(o.edited)),t(function(){o.loadingEdited=!1})},300))},o.getIframeElement=function(e){return o.getIframeDoc().querySelector(e)},o.iframe=void 0,o.getIframeDoc=function(){if(void 0===o.iframe){var e=document.getElementById("kong-bs-frame");o.iframe=e.contentDocument||e.contentWindow.document}return o.iframe},o.jQuery=void 0,o.getIframeJQuery=function(){if(void 0===o.jQuery){var e=document.getElementById("kong-bs-frame"),t=e.contentWindow||e;o.jQuery=function(e){return t.jQuery(e,document)}}return o.jQuery},o.jQueryObject=void 0,o.getIframeJQueryObject=function(){if(void 0===o.jQueryObject){var e=document.getElementById("kong-bs-frame"),t=e.contentWindow||e;o.jQueryObject=t.jQuery}return o.jQueryObject},o.getIframeWindow=function(){var e=document.getElementById("kong-bs-frame");return e.contentWindow||e};var i=Object.assign(Object.assign({},window.kong_widget_manager.get_child_model_list()),window.kong_widget_manager.get_child_model_list());o.getChildModel=function(t){return i.hasOwnProperty(t)?e.merge({},i[t]):null},o.formResClass=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="";return""!=n&&(n+="-"),e.hasOwnProperty("desktop")&&(o+=t+"--"+n+e.desktop),e.hasOwnProperty("tablet")&&(o+=" "+t+"--tb-"+n+e.tablet),e.hasOwnProperty("mobile")&&(o+=" "+t+"--mb-"+n+e.mobile),o};var r=void 0;o.deactivateDraggable=function(){if(void 0===r){var e=o.getIframeDoc();r=e.querySelectorAll("[draggable]");for(var t=0,n=r.length;t<n;t++)r[t].setAttribute("draggable",!1)}},o.reactivateDraggable=function(){if(void 0!==r){for(var e=0,t=r.length;e<t;e++)r[e].setAttribute("draggable",!0);r=void 0}};var a=void 0;o.keepVisualNode=function(t){o.removeVisualNode(),a=e.element(o.getIframeElement(".lvh__"+o.getID(t))),a.addClass("kong-dnd__visual--show")},o.removeVisualNode=function(){void 0!==a&&(a.removeClass("kong-dnd__visual--show"),a=void 0)},o.scopeIterateSiblings=function(e,t,n,i){for(;e=e.$$nextSibling;)t(e,n),o[i](e,t,n,"scopeIterateSiblings")},o.scopeSiblings=function(e,t,n,o){for(;e=e.$$nextSibling;)t(e,n)},o.scopeIterateChildren=function(e,t,n,i){for(;e=e.$$childHead;)t(e,n),o[i](e,t,n,"scopeIterateChildren")},o.scopeChildren=function(e,t,n,i){e=e.$$childHead,t(e,n),o[i](e,t,n,"scopeChildren")},o.storeScopeWatchers=function(t,n){n.childs[t.$id]=e.merge([],t.$$watchers),t.$$watchers=[]},o.nestedStoreScopeWatchers=function(t,n){t.hasOwnProperty("$ctrl")||(n.childs[t.$id]=e.merge([],t.$$watchers),t.$$watchers=[])},o.returnScopeWatchers=function(t,n){void 0!==n.childs[t.$id]&&(t.$$watchers=e.merge([],n.childs[t.$id]))},o.storeWatchers=function(t,n,i,r,a){n.self=e.merge([],t.$$watchers),t.$$watchers=[],n.childs=[],o[a](t,o[i],n,r)},o.returnWatchers=function(t,n,i,r){null!==n.self&&(t.$$watchers=e.merge([],n.self)),null!==n.childs&&o[r](t,o.returnScopeWatchers,n,i),n.self=null,n.childs=null},o.openMap=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.link>5?o.mapped=o.getParentNode(o.getParentNode(o.getParentNode(e))):t&&-1!=["section","row","column"].indexOf(e.tag)?o.mapped=e:o.mapped=o.getParentNode(e),o.switchTab("map")}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=e.module("kong.builder.app");e.module("kongHotKeys",["kongService"]).factory("$KongHotKeys",["$timeout","$rootScope","$KongService",function(o,i,r){return{active:!0,activeQueue:0,initCount:0,pause:function(){this.active?this.active=!1:this.activeQueue++},resume:function(){this.activeQueue>0?this.activeQueue--:this.active=!0},init:function(){var a=r.getIframeDoc(),s=a.querySelector(".kong-dnd__area"),l=this,c=void 0;if(l.initCount++,!s)return l.initCount<20&&(setTimeout(function(){l.init()},1e3),!1);c=e.element(s),this.escKeyPressManager.init();var d=function(){return!r.sidebar_collapse&&l.active&&!r.editableMode},u=function(){var e=a.createElement("div");e.className="kong-dnd__blockPanel",a.body.appendChild(e),setTimeout(function(){e.onmousemove=function(){a.body.removeChild(e)}},500)},p=/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"alt":"shift",g=-1,f=e.element(".kong-bs__sidebar"),_=function e(){d()&&-1!=g&&(c[0].className=c[0].className.replace(/\bkong-dnd__area--holdAlt-\d\b/g,""),r.reactivateDraggable(),g=-1,f.removeClass("kong-bs__sidebar--block"),document.removeEventListener("contextmenu",e,!1),a.removeEventListener("contextmenu",e,!1),document.removeEventListener("click",e,!1),a.removeEventListener("click",e,!1))},m=function(e){d()&&g!=e&&(-1==g?r.deactivateDraggable():c.removeClass("kong-dnd__area--holdAlt-"+g),g=e,f.addClass("kong-bs__sidebar--block"),c.addClass("kong-dnd__area--holdAlt-"+g),document.addEventListener("contextmenu",_,!1),a.addEventListener("contextmenu",_,!1),document.addEventListener("click",_,!1),a.addEventListener("click",_,!1))};[window.document,a].forEach(function(e){Mousetrap(e).bind("/",function(e){return e.preventDefault(),i.$emit("openHelpPanel"),!1}),Mousetrap(e).bind(p,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,m(0),!1});for(var a=0;a<5;a++)!function(t){Mousetrap(e).bind(p+"+"+t,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,m(t),!1})}(a);Mousetrap(e).bind(p,function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,_(),!1},"keyup"),Mousetrap(e).bind("o p",function(e){return e.preventDefault(),"object"==t(n.__config.redirect_links[0])&&n.__config.redirect_links[0].hasOwnProperty("link")&&!r.editableMode&&window.open(n.__config.redirect_links[0].link,"_blank"),!1}),Mousetrap(e).bind("o l",function(e){if(d())return e.preventDefault(),i.$emit("openLibrary"),!1}),Mousetrap(e).bind("o k",function(e){if(d())return e.preventDefault(),o(function(){i.$emit("openCustomCodePanel")}),!1}),Mousetrap(e).bind(["shift+tab"],function(e){if(d()){var n=function(){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=document.querySelector(".kong-bs__edited__body");if(document.body.contains(t)&&d()&&"editor"==r.tab){var n=t.querySelectorAll(".kong-ui__container");if(n.length>2){l.active=!1;var o=document.createElement("div");o.className="kong-bs__containerJumper";var i=document.createElement("div");i.className="kong-bs__containerJumper__wrap",o.appendChild(i),document.querySelector("body").appendChild(o),l.escKeyPressManager.add(function(){return o.parentNode.removeChild(o),l.active=!0,!0});for(var a=0,s=n.length;a<s;a++)!function(e,o){var r=n[e],a=document.createElement("button");a.className="kong-bs__containerJumper__btn";var s=r.querySelector(".kong-ui__container__name");a.innerHTML=s.innerHTML,a.onmouseenter=function(e){e.preventDefault(),t.scrollTop=r.offsetTop},i.appendChild(a)}(a);o.onclick=function(){l.escKeyPressManager.execute()}}}return{v:!1}}();if("object"===(void 0===n?"undefined":t(n)))return n.v}}),Mousetrap(e).bind("mod+e",function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){i.$emit("openEditableMode")}),!1}),Mousetrap(e).bind(["mod+z"],function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){r.commandManager.undo()}),!1}),Mousetrap(e).bind(["mod+shift+z"],function(e){if(d())return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){r.commandManager.redo()}),!1}),Mousetrap(e).bind(["mod+d"],function(e){if(d()&&void 0!==r.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){r.duplicateNode(r.hoveredNode,!0)}),!1}),Mousetrap(e).bind(["backspace","del"],function(e){if(d()&&void 0!==r.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){r.removeNode(r.hoveredNode),r.hoveredNode=void 0,u()}),!1}),Mousetrap(e).bind(["mod+c"],function(e){if(d()&&void 0!==r.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,r.copied={node:r.clone(r.hoveredNode),level:r.getLevel(r.hoveredNode),action:"copy"},!1}),Mousetrap(e).bind(["mod+x"],function(e){if(d()&&void 0!==r.hoveredNode)return e.preventDefault?e.preventDefault():e.returnValue=!1,r.copied={node:r.hoveredNode,level:r.getLevel(r.hoveredNode),action:"cut"},o(function(){r.removeNode(r.hoveredNode),r.hoveredNode=void 0,u()}),!1}),Mousetrap(e).bind(["mod+v","mod+shift+v"],function(e){if(d()&&void 0!==r.hoveredNode&&void 0!==r.copied){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=r.getLevel(r.hoveredNode),n=r.copied.level;return t==n||6==t&&(8==n||7==n)||(7==t||8==t)&&6==n||8==t&&7==n||7==t&&8==n?o(function(){var t=r.getParentNode(r.hoveredNode),n=r.getIndex(r.hoveredNode);n=e.shiftKey?n:n+1,r.addNode(t,r.clone(r.copied.node),n),"cut"==r.copied.action&&(r.copied=void 0)}):(t<6&&t+1==n||5==t&&n>5)&&o(function(){e.shiftKey?r.addNode(r.hoveredNode,r.clone(r.copied.node),0):r.addNode(r.hoveredNode,r.clone(r.copied.node)),"cut"==r.copied.action&&(r.copied=void 0)}),!1}}),Mousetrap(e).bind("`",function(e){d()&&(e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){i.$emit("toggleVisual")}))}),Mousetrap(e).bind("left",function(e){if(d()&&void 0!==r.hoveredNode&&"column"==r.hoveredNode.tag)return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){i.$emit("change-width-"+r.getID(r.hoveredNode),"-")}),!1}),Mousetrap(e).bind("right",function(e){if(d()&&void 0!==r.hoveredNode&&"column"==r.hoveredNode.tag)return o(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,i.$emit("change-width-"+r.getID(r.hoveredNode),"+")}),!1}),Mousetrap(e).bind("space",function(e){if(d()&&void 0!==r.edited)return e.preventDefault?e.preventDefault():e.returnValue=!1,"editor"!=r.tab?o(function(){r.switchTab("editor"),r.scrollToElement(r.edited,!0)}):r.scrollToElement(r.edited,!0),!1}),Mousetrap(e).bindGlobal("mod+s",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,i.$emit("promptSave"),!1}),Mousetrap(e).bind("mod+shift+s",function(e){return d()&&void 0!==r.hoveredNode&&(e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){i.$emit("openSaveTemplatePanel",r.hoveredNode)})),!1});for(var s=["mobile","tablet","tablet-l","desktop"],a=1;a<s.length+1;a++)!function(t){Mousetrap(e).bind(t+"",function(){d()&&r.previewDevice!=s[t-1]&&o(function(){r.previewDevice=s[t-1]})})}(a);Mousetrap(e).bind("\\",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,o(function(){i.$emit("toggleCollapse")}),!1}),Mousetrap(e).bind("tab",function(e){if(d()){e.preventDefault?e.preventDefault():e.returnValue=!1;var t={map:"widgets",widgets:"editor",editor:"footer",footer:"map"};return o(function(){r.switchTab(t[r.tab])}),!1}})})},escKeyPressManager:{init:function(){for(var e=this,t=[document,r.getIframeDoc()],n=0;n<t.length;n++){t[n].addEventListener("keydown",function(t){t=t||window.event,27==t.keyCode&&e.execute()})}},stack:[],add:function(e){"function"==typeof e&&this.stack.push(e)},execute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=this;t.stack.length>0&&t.stack[t.stack.length-1]()&&o(function(){t.stack.pop(),"function"==typeof e&&e()})},pop:function(){this.stack.length>0&&this.stack.pop()}}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=e.module("kong.builder.app");n.component("kongHelpPanel",{controller:["$rootScope","$KongHotKeys",function(e,t){var n=this;this.show=!1,this.close=function(){t.escKeyPressManager.execute()},this.open=function(){if(!n.show){n.show=!0;var e=document.querySelector(".kong-bs__helpPanel");e.className=e.className+" kong-bs__helpPanel--show",t.pause(),t.escKeyPressManager.add(function(){return n.show=!1,t.resume(),e.className="kong-bs__helpPanel",!0})}},e.$on("openHelpPanel",n.open)}],template:function(){var e=["shortcuts","video-tutorial","document","forum","about"],t="",n="",o="",i='checked="checked"';return e.forEach(function(e){t+='<input type="radio" name="kong-bs-help" id="kong-bs-help-'+e+'" '+i+"/>",n+='<label for="kong-bs-help-'+e+'">'+e.replace("-"," ")+"</label>",o+="<kong-help-"+e+"></kong-help-"+e+">",i&&(i="")}),'<div class="kong-bs__helpPanel">'+t+'<button class="kong-bs__helpPanel__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button><div class="kong-bs__helpPanel__tabs">'+n+'</div><div class="kong-bs__helpPanel__content">'+o+'</div></div><div class="kong-bs__helpPanel__backdrop"></div>'}}),n.component("kongHelpShortcuts",{controller:function(){},template:function(){var e=function(e,t){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)?e:t},n={command:"&#8984;",ctrl:"&#8963;",alt:"&#8997;",shift:"&#8679;",return:"&#8617;",left:"&larr;",up:"&uarr;",right:"&rarr;",down:"&darr;",mod:e("&#8984;","&#8963;")},o={General:{Save:[n.mod+"+S"],"Closes any pop-up window or panel, like this one":["ESC"],"Open preview page":["O-P"],"Open custom code panel":["O-K"],"Open wireframe pop-up":["O-I"],"Open library pop-up":["O-L"],"Switch between map, widgets, editor, library tab":["TAB"],"Resize preview screen to mobile, tablet portrait, tablet landscape, desktop size":["1","2","3","4"],"Turn on/off Visual View":["`"],"Collapse Sidebar":["\\"],"Open Editor Mode":[n.mod+"+E"],"Open Help Panel as it is":["?"]},Editor:{"Undo, Redo":[n.mod+"+Z",n.mod+"+"+n.shift+"+Z"],Copy:[n.mod+"+C"],Cut:[n.mod+"+X"],"Insert to the Bottom of parent or insert after the same level":[n.mod+"+V"],"Insert to the Top of parent or insert before the same level":[n.mod+"+"+n.shift+"+V"],Duplicate:[n.mod+"+D"],"Save as Template":[n.mod+"+"+n.shift+"+S"],"Scroll to the edited Widget and switch editor tab":["Space"],"Resize column width":[""+n.left,""+n.right]},"Highlight Layer":{"Show all layer":[""+e(n.alt,n.shift)],"Show section layer":[e(n.alt,n.shift)+"+1"],"Show row layer":[e(n.alt,n.shift)+"+2"],"Show column layer":[e(n.alt,n.shift)+"+3"],"Show item layer":[e(n.alt,n.shift)+"+4"]},Other:{"Open the map of the clicked item":[n.mod+"+Left Click",{text:"on item"}],"Open the color collection":["Right Click",{text:"on colorpicker circle"}],"Equally change in pair left and right or top and bottom":[n.mod+"+Drag",{text:"on unit input"}],"Equally change value of left, right, top and bottom":[n.mod+"+"+n.shift+"+Drag",{text:"on unit input"}],"Open Jumper Tabs":[n.shift+"+TAB",{text:"on editor panel"}]}},i="";for(var r in o){var a="";for(var s in o[r])a+="<tr><td>"+function(e){var n="";return Array.isArray(e)&&e.forEach(function(e){"object"==(void 0===e?"undefined":t(e))&&e.hasOwnProperty("text")?n+=" "+e.text+" ":n+="<button>"+e+"</button>"}),n}(o[r][s])+"</td><td>"+s+"</td></tr>";i+='<div class="kong-bs__helpPanel__section"><h4>'+r+"</h4><table>"+a+"</table></div>"}return'<div class="kong-bs__helpPanel__entry kong-bs__helpPanel__shortcuts"><header>Shortcuts</header>'+i+"</div>"}}),n.component("kongHelpVideoTutorial",{controller:function(){this.list=[]},template:'<div class="kong-bs__helpPanel__entry"><header>Video Tutorial</header><p>Watch video tutorials from <a href=https://www.youtube.com/playlist?list=PLuFvsbrPIx8MTMg_ADRIYM_wE4MDzmVmM" target="_blank">this chanel</a>.</p><ul class="kong-bs__helpPanel__videoList"><li ng-repeat="video in ::$ctrl.list"><a href="{{::video.link}}" ng-bind="::video.name" target="_blank"></a><span ng-bind="::video.duration"></span></li></ul></div>'}),n.component("kongHelpDocument",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>Document</header><p>Read the document for using this app at <a href="http://docs.kolumn.io/kong" target="_blank">docs.kolumn.io/kong</a>.</p><ul class="kong-bs__helpPanel__doc"><li><a href="http://docs.kolumn.io/kong/v1/guide/getting-started/ecosystem.html" target="_blank">Quick look on the Ecosystem</a></li><li><a href="http://docs.kolumn.io/kong/v1/guide/footer-builder/getting-started.html" target="_blank">Overview</a></li></ul></div>'}),n.component("kongHelpForum",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>Forum</header><p>The support forum will be coming soon.</p></div>'}),n.component("kongHelpAbout",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>About</header><p>A Footer Builder Plugin, shipped with real-time editing, drag drop feature, insanely speed and intuitive design helps quickly build Footers for your website.</p><ul class="kong-bs__helpPanel__about"><li>Version '+n.__config.version+'</li><li>&copy; Copyright 2017 <a href="https://kolumn.io/kong" target="_blank">kolumn.io</a>. All rights reserved.</li></ul></div>'})}(window.angular)},function(e,exports,t){"use strict";t(344),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(421),t(422),t(423),t(424),t(425),t(426),t(427),t(428),t(429),t(430),t(431),t(432),t(433),t(434),t(435),t(436)},function(e,exports,t){"use strict";t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352)},function(e,exports){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},function(e,exports){"use strict";angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,o){return function(i,r,a){r.attr("draggable","true"),a.dndDisableIf&&i.$watch(a.dndDisableIf,function(e){r.attr("draggable",!e)}),r.on("dragstart",function(s){if(s=s.originalEvent||s,"false"==r.attr("draggable"))return!0;s.dataTransfer.setData("Text",angular.toJson(i.$eval(a.dndDraggable))),s.dataTransfer.effectAllowed=a.dndEffectAllowed||"move",r.addClass("dndDragging"),t(function(){r.addClass("dndDraggingSource")},0),n.dropEffect="none",o.isDragging=!0,o.dragType=a.dndType?i.$eval(a.dndType):void 0,s._dndHandle&&s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(r[0],0,0),e(a.dndDragstart)(i,{event:s}),s.stopPropagation()}),r.on("dragend",function(s){s=s.originalEvent||s;var l=n.dropEffect;i.$apply(function(){switch(l){case"move":e(a.dndMoved)(i,{event:s});break;case"copy":e(a.dndCopied)(i,{event:s});break;case"none":e(a.dndCanceled)(i,{event:s})}e(a.dndDragend)(i,{event:s,dropEffect:l})}),r.removeClass("dndDragging"),t(function(){r.removeClass("dndDraggingSource")},0),o.isDragging=!1,s.stopPropagation()}),r.on("click",function(t){a.dndSelected&&(t=t.originalEvent||t,i.$apply(function(){e(a.dndSelected)(i,{event:t})}),t.stopPropagation())}),r.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,o){return function(t,i,r){function a(e,t,n){var o=_?e.offsetX||e.layerX:e.offsetY||e.layerY,i=_?t.offsetWidth:t.offsetHeight,r=_?t.offsetLeft:t.offsetTop;return r=n?r:0,o<r+i/2}function s(){return Array.prototype.indexOf.call(f.children,g)}function l(e){if(!o.isDragging&&!m)return!1;if(!u(e.dataTransfer.types))return!1;if(r.dndAllowedTypes&&o.isDragging){var n=t.$eval(r.dndAllowedTypes);if(angular.isArray(n)&&-1===n.indexOf(o.dragType))return!1}return!r.dndDisableIf||!t.$eval(r.dndDisableIf)}function c(){return p.remove(),i.removeClass("dndDragover"),!0}function d(n,i,r,a){return e(n)(t,{event:i,index:r,item:a||void 0,external:!o.isDragging,type:o.isDragging?o.dragType:void 0})}function u(e){if(!e)return!0;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return!0;return!1}var p=function(){var e;return angular.forEach(i.children(),function(t){var n=angular.element(t);n.hasClass("dndPlaceholder")&&(e=n)}),e||angular.element("<div class='dndPlaceholder' id='dndPlaceholder'></div>")}(),g=p[0],f=i[0];p.remove();var _=r.dndHorizontalList&&t.$eval(r.dndHorizontalList),m=!1;i.on("dragenter",function(e){if(e=e.originalEvent||e,!l(e))return!0;e.preventDefault()}),i.on("dragover",function(e){if(e=e.originalEvent||e,!l(e))return!0;if(g.parentNode!=f&&i.append(p),e.target!==f){for(var t=e.target;t.parentNode!==f&&t.parentNode;)t=t.parentNode;t.parentNode===f&&t!==g&&(a(e,t)?(angular.element(g).addClass("dirty-checking"),f.insertBefore(g,t)):f.insertBefore(g,t.nextSibling))}else if(a(e,g,!0))for(;g.previousElementSibling&&(a(e,g.previousElementSibling,!0)||0===g.previousElementSibling.offsetHeight);)f.insertBefore(g,g.previousElementSibling);else for(;g.nextElementSibling&&!a(e,g.nextElementSibling,!0);)f.insertBefore(g,g.nextElementSibling.nextElementSibling);return r.dndDragover&&!d(r.dndDragover,e,s())?c():(i.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),i.on("drop",function(e){if(e=e.originalEvent||e,!l(e))return!0;e.preventDefault();var o,i=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{o=JSON.parse(i)}catch(e){return c()}var a=s();return r.dndDrop&&!(o=d(r.dndDrop,e,a,o))?c():(!0!==o&&t.$apply(function(){t.$eval(r.dndList).splice(a,0,o)}),d(r.dndInserted,e,a,o),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?n.dropEffect=e.dataTransfer.effectAllowed:n.dropEffect=e.ctrlKey?"copy":"move":n.dropEffect=e.dataTransfer.dropEffect,c(),e.stopPropagation(),!1)}),i.on("dragleave",function(e){e=e.originalEvent||e,i.removeClass("dndDragover"),setTimeout(function(){i.hasClass("dndDragover")||p.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),t.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,o=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(n+=e.scrollLeft,o+=e.scrollTop):(n+=document.documentElement.scrollLeft||e.scrollLeft,o+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:o}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,o){e/=255,t/=255,n/=255;var i,r,a,s;return a=Math.max(e,t,n),s=a-Math.min(e,t,n),i=0===s?null:a===e?(t-n)/s:a===t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,r=0===s?0:s/a,{h:i||1,s:r,b:a,a:o||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var o=e.stringParsers[n],i=o.re.exec(t),r=i&&o.parse(i);if(r)return this.value=this.RGBtoHSB.apply(null,r),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,o){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,r,a,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),i=r=a=n-l,e=~~e,i+=[l,s,0,0,s,l][e],r+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],{r:Math.round(255*i),g:Math.round(255*r),b:Math.round(255*a),a:o||this.value.a}},toHex:function(e,t,n,o){var i=this.toRGB(e,t,n,o);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(o,i){var r=e.closestSlider(o.target),a=e.getOffset(r,i),s=r.getBoundingClientRect(),l=o.clientX-s.left,c=o.clientY-s.top;t.knob=r.children[0].style,t.left=o.pageX-a.left-window.pageXOffset+a.scrollX,t.top=o.pageY-a.top-window.pageYOffset+a.scrollY,n={left:o.pageX-(l-t.left),top:o.pageY-(c-t.top)}},setSaturation:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).factory("colorRecentPicked",["colorPreset",function(e){function t(t){var d=angular.element(l.rpInfo().parentNode),u=e.presetInfo().parentNode;c=t.target,c.classList.contains("dragged")||c.classList.add("dragged"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("element",c),d[0].addEventListener("dragover",n,!1),d[0].addEventListener("dragend",i,!1),d[0].addEventListener("dragleave",o,!1),u&&(u.draggable=!0,u.addEventListener("dragover",r,!1),u.addEventListener("dragleave",a,!1),u.addEventListener("drop",s,!1))}function n(e){var t=e.target,n=angular.element(l.rpInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!1,setTimeout(function(){if(!d){t.nextSibling?n[0].insertBefore(c,t.nextSibling!==c&&t.nextSibling||t):n[0].appendChild(c),d=!0;var e=l.rpInfo().collection,o=n.children();for(var i in e)delete e[i];for(var r=0,a=o.length;r<a;r++){e[o[r].getAttribute("data-color")]=!0}}},20))}function o(e){var t=e.target;t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!0)}function i(t){var d=(t.target,angular.element(l.rpInfo().parentNode)),u=e.presetInfo().parentNode;t.preventDefault(),c.classList.contains("dragged")&&c.classList.remove("dragged"),d[0].removeEventListener("dragover",n,!1),d[0].removeEventListener("dragend",i,!1),d[0].removeEventListener("dragleave",o,!1),u&&(u.removeEventListener("dragover",r,!1),u.removeEventListener("dragleave",a,!1),u.removeEventListener("drop",s,!1),u.draggable=!1)}function r(t){t.preventDefault();var n=e.presetInfo().parentNode,o=e.presetInfo().collection,i=e.isFull(o),r=c.getAttribute("data-color");i||o.hasOwnProperty(r)?n.classList.contains("not-allowed")||n.classList.add("not-allowed"):n.classList.contains("dragged")||n.classList.add("dragged")}function a(t){t.preventDefault();var n=e.presetInfo().parentNode;n.classList.contains("dragged")&&n.classList.remove("dragged"),n.classList.contains("not-allowed")&&n.classList.remove("not-allowed")}function s(t){var n=t.target,o=e.presetInfo().parentNode;if(n.classList.contains("color-preset")||n.classList.contains("color-collection__list")){var i=c.getAttribute("data-color");e.addColor(angular.element(o),e.presetInfo().collection,i,u,p),o.classList.contains("dragged")&&o.classList.remove("dragged"),o.classList.contains("not-allowed")&&o.classList.remove("not-allowed")}}var l={},c=void 0,d=!1,u=void 0,p=void 0,g=void 0,f=void 0,_=void 0;return l.addColor=function(e,t,n){if(l.isFull(t)){var o=Object.keys(t)[0];if(o===n||!t.hasOwnProperty(n)){for(var i=angular.element(e).children(),r=[],a=void 0,s=0,c=i.length;s<c;s++)i[s].classList.contains("color-rp__item")&&r.push(i[s]);for(var d=0,u=r.length;d<u;d++)if(r[d].getAttribute("data-color")===o){a=r[d];break}a.parentNode.removeChild(a),delete t[o],t[n]=!0,l.addElements(e,t,n)}}else n&&!t.hasOwnProperty(n)&&(t[n]=!0,l.addElements(e,t,n))},l.isFull=function(e){var t=0,n=Object.keys(e);return n&&(t=n.length),t>=14},l.addElements=function(e,t,n){var o=angular.element("<span class='color-rp color-rp__item'></span>");o.css("backgroundColor",n),o.attr("data-color",n),l.initEvent(o),e.append(o),l.sortable(e,o)},l.initEvent=function(e){e.on("click",function(){var t=e.parent().children(),n=e.attr("data-color");p&&u.$apply(p.$setViewValue(n)),_();for(var o=0,i=t.length;o<i;o++)t[o].classList.contains("active")&&t[o].classList.remove("active");e.addClass("active");for(var r=e.parent().parent().parent().find("color-preset")[0].querySelectorAll(".color-collection__item"),a=0,s=r.length;a<s;a++)r[a].classList.contains("active")&&r[a].classList.remove("active")})},l.showColorRecentPicked=function(e,t,n,o,i){u=n,p=o,_=i,l.setRPInfo(e,t),e.empty();for(var r in t)l.addElements(e,t,r)},l.sortable=function(e,n){n.hasClass("color-rp__item")&&(n[0].draggable=!0,n[0].addEventListener("dragstart",t,!1))},l.setRPInfo=function(e,t){g=e[0],f=t},l.rpInfo=function(){return{parentNode:g,collection:f,listClass:"color-rp__list",itemClass:"color-rp__item"}},l}]).factory("colorPreset",[function(){function e(e){var a=angular.element(i.presetInfo().parentNode);r=e.target,r.classList.contains("dragged")||r.classList.add("dragged"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("element",r),a[0].addEventListener("dragover",t,!1),a[0].addEventListener("dragend",o,!1),a[0].addEventListener("dragleave",n,!1)}function t(e){var t=e.target,n=angular.element(i.presetInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==r&&t.classList.contains("color-collection__item")&&(a=!1,setTimeout(function(){if(!a){n[0].insertBefore(r,t.nextSibling!==r&&t.nextSibling||t),a=!0;var e=i.presetInfo().collection,o=n.children();for(var s in e)delete e[s];for(var l=0,c=o.length;l<c;l++)if(o[l].classList.contains("color-collection__item")){var d=o[l].getAttribute("data-color");e[d]=!0}}},20))}function n(e){var t=e.target;t&&t!==r&&t.classList.contains("color-collection__item")&&(a=!0)}function o(e){e.preventDefault();var a=angular.element(i.presetInfo().parentNode);r.classList.contains("dragged")&&r.classList.remove("dragged"),a[0].removeEventListener("dragover",t,!1),a[0].removeEventListener("dragend",o,!1),a[0].removeEventListener("dragleave",n,!1)}var i={},r=void 0,a=!1,s=void 0,l=void 0,c=void 0;return i.addColor=function(e,t,n,o,r){if(!t.hasOwnProperty(n)&&n&&(i.isFull(t)||(t[n]=!0,i.addElements(e,t,n,o,r)),i.isFull(t))){e.children().eq(-1).attr("disabled","disabled")}},i.isFull=function(e){var t=0,n=Object.keys(e);return n&&(t=n.length),t>=7},i.showColorPreset=function(e,t,n,o,r){i.setPresetInfo(e,t),c=r;for(var a=angular.element(e).children(),s=0,l=a.length;s<l;s++)a[s].classList.contains("color-collection__item")&&a[s].remove();for(var d in t)i.addElements(e,t,d,n,o);var u=angular.element(e).children().eq(-1);i.isFull(t)?u.attr("disabled","disabled"):u.removeAttr("disabled")},i.initEvent=function(e,t,n,o,i,r){t.on("contextmenu",function(e){e.target===t[0]&&(e.preventDefault(),n.addClass("active"),o.addClass("active"))}),t.on("click",function(e){if(e.target===t[0]){for(var n=t.parent().parent().parent().find("color-recent-picked")[0].querySelectorAll(".color-rp__item"),o=0,a=n.length;o<a;o++)if(n[o].classList.contains("active")){n[o].classList.remove("active");break}if(e.ctrlKey||e.metaKey)t.hasClass("active")?t.removeClass("active"):t.addClass("active");else{for(var s=t.parent().children(),l=0,d=s.length;l<d;l++)s[l].classList.contains("active")&&s[l].classList.remove("active");t.addClass("active");var u=t.attr("data-color");r&&i.$apply(r.$setViewValue(u)),c()}}}),n.on("click",function(t){var n=angular.element(t.target).parent(),o=n.parent(),i=o.children().eq(-1);if(n.hasClass("active"))for(var r=o.children(),a=0,s=r.length;a<s;a++)r[a].classList.contains("active")&&(delete e[angular.element(r[a]).attr("data-color")],angular.element(r[a]).remove());else delete e[n.attr("data-color")],n.remove();i.attr("disabled")&&i.removeAttr("disabled")}),o.on("click",function(e){e.target!==n[0]&&(n.removeClass("active"),o.removeClass("active"))})},i.addElements=function(e,t,n,o,r){var a=angular.element("<div class='color-preset color-collection__item'></div>"),s=angular.element("<span class='color-preset__removeBtn'>Remove</span>"),l=angular.element("<div class='color-preset__backdrop'></div>"),c=e.children().eq(-1);a.css("backgroundColor",n),a.attr("data-color",n),i.initEvent(t,a,s,l,o,r),a.append(s).append(l),c.parent()[0].insertBefore(a[0],c[0]),i.sortable(e,a)},i.sortable=function(t,n){n.hasClass("color-collection__item")&&(n[0].draggable=!0,n[0].addEventListener("dragstart",e,!1))},i.setPresetInfo=function(e,t){s=e[0],l=t},i.presetInfo=function(){return{parentNode:s,collection:l,listClass:"color-collection__list",itemClass:"color-collection__item"}},i}]).directive("colorpicker",["$document","$compile","$KongHotKeys","colorRecentPicked","colorPreset","Color","Slider","Helper",function(e,n,o,i,r,a,s,l){return{require:"?ngModel",restrict:"A",link:function(c,d,u,p){function g(){e.on("mousemove",m),e.on("mouseup",v)}function f(){var e=!1;[{parent:ne,childClass:".color-collection__item"},{parent:Z,childClass:".color-rp__item"}].forEach(function(t){if(t.parent&&!e)for(var n=t.parent[0].querySelectorAll(t.childClass),o=0,i=n.length;o<i;o++)n[o].classList.contains("active")&&(n[o].classList.remove("active"),e=!0)})}function _(){try{H.css("backgroundColor",W[N]())}catch(e){H.css("backgroundColor",W.toHex())}V.css("backgroundColor",W.toHex(W.value.h,1,1,1)),"rgba"===N&&(S.css.backgroundColor=W.toHex())}function m(e){var t=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s.getLeftPosition(e)),n=s.getTopPosition(e),o=s.getSlider();N=1===W.value.a?"hex":"rgba",!P&&n>=F.top-F.offset&&(n=F.top-F.offset),s.setKnob(n,t),o.callLeft&&(P?W[o.callLeft].call(W,t/T.width):W[o.callLeft].call(W,t/F.left)),o.callTop&&(P?W[o.callTop].call(W,n/T.height):W[o.callTop].call(W,n/(F.top-F.offset))),_();var i=W[N]();return d.val(i),p&&c.$apply(p.$setViewValue(i)),A&&ae.val(i),E=!1,!1}function v(){w("colorpicker-selected"),e.off("mousemove",m),e.off("mouseup",v)}function h(e){W.value=G,d.val(p.$viewValue),W.setColor(d.val()),A&&!e&&ae.val(d.val()),Y.eq(0).css({left:W.value.s*T.width+"px",top:T.height-W.value.b*T.height+"px"}),Y.eq(1).css("top",(F.top-F.offset)*(1-W.value.h)+"px"),Y.eq(1).css("left",F.left+"px"),Y.eq(2).css("top",(F.top-F.offset)*(1-W.value.a)+"px"),Y.eq(2).css("left",F.left+"px"),G=W.value,_()}function b(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=l.getOffset(d[0]);angular.isDefined(u.colorpickerParent)&&(n.left=0,n.top=0);var o=document.getElementsByClassName("colorpicker-visible")[0],i=angular.element(o).children()[0],r=i.offsetHeight,a=window.innerHeight-(d[0].offsetHeight+n.top+j.top),s=n.top-j.top;return t||(a>=r||s<r?(O="bottom",i.classList.contains("dropdown-menu-top")&&i.classList.remove("dropdown-menu-top"),i.classList.contains("dropdown-menu-bottom")||i.classList.add("dropdown-menu-bottom")):(O="top",i.classList.contains("dropdown-menu-bottom")&&i.classList.remove("dropdown-menu-bottom"),i.classList.contains("dropdown-menu-top")||i.classList.add("dropdown-menu-top"))),"top"===O?e={top:n.top-r-2-j.top,left:n.left-j.left}:"right"===O?e={top:n.top,left:n.left+d[0].offsetWidth+2}:"bottom"===O?e={top:n.top+d[0].offsetHeight+2+j.top,left:n.left-j.left}:"left"===O&&(e={top:n.top,left:n.left-Q-2}),{top:e.top+"px",left:e.left+"px"}}function k(){x()}function y(){if(!B.hasClass("colorpicker-visible")){if(h(),!1===I&&e.on("mousedown",k),q){if(localStorage.getItem("kongColorCollection"))try{ie=JSON.parse(localStorage.getItem("kongColorCollection")),"object"!==(void 0===ie?"undefined":t(ie))&&(ie={})}catch(e){}r.showColorPreset(ne,ie,c,p,h)}if(U){if(localStorage.getItem("kongRPCollection"))try{ee=JSON.parse(localStorage.getItem("kongRPCollection")),"object"!==(void 0===ee?"undefined":t(ee))&&(ee={})}catch(e){}i.showColorRecentPicked(Z,ee,c,p,h)}localStorage.getItem("kongHeaderState")&&(M=JSON.parse(localStorage.getItem("kongHeaderState"))),M&&(U&&(M.rp?X.hasClass("active")||X.addClass("active"):X.hasClass("active")&&X.removeClass("active")),q&&(M.collection?te.hasClass("active")||te.addClass("active"):te.hasClass("active")&&te.removeClass("active"))),C=!1,o.escKeyPressManager.add(function(){return C=!0,x(),!0}),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!0,c.$$phase&&c.$root.$$phase||c.$digest()),B.addClass("colorpicker-visible").css(b()),w("colorpicker-shown")}}function w(e){p&&c.$emit(e,{name:u.ngModel,value:p.$modelValue})}function x(){B.hasClass("colorpicker-visible")&&(B.removeClass("colorpicker-visible"),w("colorpicker-closed"),e.off("mousedown",k),i.addColor(Z,ee,p.$viewValue),localStorage.setItem("kongColorCollection",JSON.stringify(ie)),localStorage.setItem("kongRPCollection",JSON.stringify(ee)),U&&(X.hasClass("active")?M.rp=!0:M.rp=!1),q&&(te.hasClass("active")?M.collection=!0:M.collection=!1),localStorage.setItem("kongHeaderState",JSON.stringify(M)),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!1,c.$$phase&&c.$root.$$phase||c.$digest()),C||(C=!0,o.escKeyPressManager.pop()))}var S,C=!0,P=!0,E=!0,M={},N="rgba",O="bottom",I=!!angular.isDefined(u.colorpickerInline)&&u.colorpickerInline,L=!!angular.isDefined(u.colorpickerFixedPosition)&&u.colorpickerFixedPosition,D=angular.isDefined(u.colorpickerParent)?d.parent():angular.element(document.body),A=!!angular.isDefined(u.colorpickerWithInput)&&u.colorpickerWithInput,T={width:150,height:112},F={left:0,top:112,offset:1},j={top:5,left:15},K=A?'<input type="text" name="colorpicker-input" spellcheck="false">':"",R='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+K+"<color-recent-picked class='color-rp__container'></color-recent-picked><color-preset class='color-preset__container'></color-preset></div><colorpicker-backdrop class='colorpicker-backdrop'></div></div>",B=angular.element(R),W=a,G={h:1,s:0,b:1,a:1},z=B.find("colorpicker-hue"),V=B.find("colorpicker-saturation"),H=B.find("colorpicker-preview"),U=B.find("color-recent-picked"),q=B.find("color-preset"),J=B.find("colorpicker-backdrop"),Y=B.find("i"),Q=parseInt(T.width)+29+("rgba"===N?15:0);if(n(B)(c),B.css("min-width",Q+"px"),V.css({width:T.width+"px",height:T.height+"px"}),U){var X=angular.element("<div class='color-rp__header colorpicker__header active'><span></span>Recent Picked</div>"),Z=angular.element("<div class='color-rp__list'></div>");U.append(X).append(Z);var ee={};X.find("span").on("click",function(){X.toggleClass("active"),"top"===O&&(B.addClass("colorpicker-visible").css(b(!0)),w("colorpicker-shown"))})}if(q){var te=angular.element("<div class='color-preset__header colorpicker__header active'><span></span>Presets</div>"),ne=angular.element("<div class='color-collection__list'></div>"),oe=angular.element("<span class='color-preset color-preset__addBtn'></span>");q.append(te).append(ne),ne.append(oe);var ie={},re=te.find("span");oe.on("click",function(){r.addColor(ne,ie,p.$viewValue,c,p)}),re.on("click",function(){te.toggleClass("active"),"top"===O&&(B.addClass("colorpicker-visible").css(b(!0)),w("colorpicker-shown"))})}if(J&&(J.on("click",function(e){e.target===J[0]&&x()}),J.on("scroll",function(e){e.preventDefault()})),A){var ae=B.find("input");ae.css("width",T.width),ae.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;d.val(e),p&&p.$modelValue!==e&&(c.$apply(p.$setViewValue(e)),h(!0))})}B.addClass("alpha"),S=B.find("colorpicker-alpha"),S.on("click",function(e){s.setAlpha(e,L,F.left,F.top-F.offset),P=!1,m(e,!1)}).on("mousedown",function(e){s.setAlpha(e,L,F.left,F.top-F.offset),P=!1,g()}).on("mouseup",function(e){w("colorpicker-selected-alpha"),f()}),z.on("click",function(e){s.setHue(e,L,F.left,F.top-F.offset),P=!1,m(e,!1)}).on("mousedown",function(e){s.setHue(e,L,F.left,F.top-F.offset),P=!1,g()}).on("mouseup",function(e){w("colorpicker-selected-hue"),f()}),V.on("click",function(e){s.setSaturation(e,L,T.width,T.height),P=!0,m(e,!1),angular.isDefined(u.colorpickerCloseOnSelect)&&x()}).on("mousedown",function(e){s.setSaturation(e,L,T.width,T.height),P=!0,g()}).on("mouseup",function(e){w("colorpicker-selected-saturation"),f()}),L&&B.addClass("colorpicker-fixed-position"),B.addClass("colorpicker-position-"+O),"true"===I&&B.addClass("colorpicker-inline"),D.append(B),p&&(p.$render=function(){d.val(p.$viewValue),h()}),d.on("blur keyup change",function(){h()}),d.on("$destroy",function(){C||(C=!0,o.escKeyPressManager.pop()),B.remove()}),!1===I?d.on("click",y):y(),B.on("mousedown",function(e){e.stopPropagation()}),B.find("button").on("click",function(){x()}),u.colorpickerIsOpen&&c.$watch(u.colorpickerIsOpen,function(e){!0===e?y():!1===e&&x()})}}}])},function(e,exports){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,n){if(angular.isDefined(n.workerPath)){window.ace.require("ace/config").set("workerPath",n.workerPath)}angular.isDefined(n.require)&&n.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(n.showGutter)&&e.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&t.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&e.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&e.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&t.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&e.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&e.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&t.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?t.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&t.setOption("firstLineNumber",n.firstLineNumber()));var o,i;if(angular.isDefined(n.advanced))for(o in n.advanced)i={name:o,value:n.advanced[o]},e.setOption(i.name,i.value);if(angular.isDefined(n.rendererOptions))for(o in n.rendererOptions)i={name:o,value:n.rendererOptions[o]},e.renderer.setOption(i.name,i.value);angular.forEach(n.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(n,o,i,r){var a,s,l=e.ace||{},c=angular.extend({},l,n.$eval(i.uiAce)),d=window.ace.edit(o[0]),u=d.getSession(),p=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&n.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},g={onChange:function(e){return function(t){var o=u.getValue();!r||o===r.$viewValue||n.$$phase||n.$root.$$phase||n.$evalAsync(function(){r.$setViewValue(o)}),p(e,t,d)}},onBlur:function(e){return function(){p(e,d)}}};i.$observe("readonly",function(e){d.setReadOnly(!!e||""===e)}),r&&(r.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),r.$render=function(){u.setValue(r.$viewValue)});var f=function(e,o){e!==o&&(c=angular.extend({},l,n.$eval(i.uiAce)),c.callbacks=[c.onLoad],c.onLoad!==l.onLoad&&c.callbacks.unshift(l.onLoad),u.removeListener("change",a),a=g.onChange(c.onChange),u.on("change",a),d.removeListener("blur",s),s=g.onBlur(c.onBlur),d.on("blur",s),t(d,u,c))};n.$watch(i.uiAce,f,!0),f(l),o.on("$destroy",function(){d.session.$stopWorker(),d.destroy()}),n.$watch(function(){return[o[0].offsetWidth,o[0].offsetHeight]},function(){d.resize(),d.renderer.updateFull()},!0)}}}])},function(e,exports){"use strict";angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,o,i,r){r=r||{};var a=0;return r.baseUrl&&(tinymce.baseURL=r.baseUrl),{require:["ngModel","^?form"],priority:999,link:function(s,l,c,d){function u(e){e?(p(),f&&f.getBody().setAttribute("contenteditable",!1)):(p(),f&&!f.settings.readonly&&f.getBody().setAttribute("contenteditable",!0))}function p(){f||(f=tinymce.get(c.id))}if(o.tinymce){var g,f,_=d[0],m=d[1]||null,v={},h=function(t){var n=t.getContent({format:v.format}).trim();n=i.trustAsHtml(n),_.$setViewValue(n),e.$$phase||s.$digest()};c.$set("id","ui-tinymce-"+a++),g={},angular.extend(g,s.$eval(c.uiTinymce));var b=function(e){var t;return function(e){n.cancel(t),t=n(function(){return function(e){e.save(),h(e)}(e)},400)}}(),k={setup:function(e){e.on("init",function(){_.$render(),_.$setPristine(),_.$setUntouched(),m&&m.$setPristine()}),e.on("ExecCommand change NodeChange ObjectResized",function(){b(e)}),e.on("blur",function(){l[0].blur(),_.$setTouched(),s.$digest()}),e.on("remove",function(){l.remove()}),g.setup&&g.setup(e,{updateView:h})},format:g.format||"html",selector:"#"+c.id};angular.extend(v,r,g,k),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL),tinymce.init(v),u(s.$eval(c.ngDisabled))}),_.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),_.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),_.$render=function(){p();var e=_.$viewValue?i.getTrustedHtml(_.$viewValue):"";f&&f.getDoc()&&(f.setContent(e),f.fire("change"))},c.$observe("disabled",u),s.$on("$tinymce:refresh",function(e,n){var o=c.id;if(angular.isUndefined(n)||n===o){var i=l.parent(),r=l.clone();r.removeAttr("id"),r.removeAttr("style"),r.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,o),i.append(t(r)(s))}}),s.$on("$destroy",function(){p(),f&&(f.remove(),f=null)})}}}}])},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n,o){function i(e,n){return(void 0===e?"undefined":t(e))===n}function r(e,t){return!!~(""+e).indexOf(t)}function a(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):w?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,n){var o;for(var r in e)if(e[r]in t)return!1===n?e[r]:(o=t[e[r]],i(o,"function")?l(o,n||t):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function u(){var e=n.body;return e||(e=a(w?"svg":"body"),e.fake=!0),e}function p(e,t,o,i){var r,s,l,c,d="modernizr",p=a("div"),g=u();if(parseInt(o,10))for(;o--;)l=a("div"),l.id=i?i[o]:d+(o+1),p.appendChild(l);return r=a("style"),r.type="text/css",r.id="s"+d,(g.fake?g:p).appendChild(r),g.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(n.createTextNode(e)),p.id=d,g.fake&&(g.style.background="",g.style.overflow="hidden",c=y.style.overflow,y.style.overflow="hidden",y.appendChild(g)),s=t(p,e),g.fake?(g.parentNode.removeChild(g),y.style.overflow=c,y.offsetHeight):p.parentNode.removeChild(p),!!s}function g(t,n){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(d(t[i]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];i--;)r.push("("+d(t[i])+":"+n+")");return r=r.join(" or "),p("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return o}function f(e,t,n,l){function c(){u&&(delete E.style,delete E.modElem)}if(l=!i(l,"undefined")&&l,!i(n,"undefined")){var d=g(e,n);if(!i(d,"undefined"))return d}for(var u,p,f,_,m,v=["modernizr","tspan","samp"];!E.style&&v.length;)u=!0,E.modElem=a(v.shift()),E.style=E.modElem.style;for(f=e.length,p=0;f>p;p++)if(_=e[p],m=E.style[_],r(_,"-")&&(_=s(_)),E.style[_]!==o){if(l||i(n,"undefined"))return c(),"pfx"!=t||_;try{E.style[_]=n}catch(e){}if(E.style[_]!=m)return c(),"pfx"!=t||_}return c(),!1}function _(e,t,n,o,r){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+S.join(a+" ")+a).split(" ");return i(t,"string")||i(t,"undefined")?f(s,t,o,r):(s=(e+" "+C.join(a+" ")+a).split(" "),c(s,t,n))}function m(e,t,n){return _(e,o,o,t,n)}var v=[],h=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){h.push({name:e,fn:t,options:n})},addAsyncTest:function(e){h.push({name:null,fn:e})}},k=function(){};k.prototype=b,k=new k;var y=n.documentElement,w="svg"===y.nodeName.toLowerCase(),x="Moz O ms Webkit",S=b._config.usePrefixes?x.split(" "):[];b._cssomPrefixes=S;var C=b._config.usePrefixes?x.toLowerCase().split(" "):[];b._domPrefixes=C;var P={elem:a("modernizr")};k._q.push(function(){delete P.elem});var E={style:P.elem.style};k._q.unshift(function(){delete E.style}),b.testAllProps=_,b.testAllProps=m,k.addTest("flexbox",m("flexBasis","1px",!0)),k.addTest("flexwrap",m("flexWrap","wrap",!0)),function(){var e,t,n,o,r,a,s;for(var l in h)if(h.hasOwnProperty(l)){if(e=[],t=h[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)a=e[r],s=a.split("."),1===s.length?k[s[0]]=o:(!k[s[0]]||k[s[0]]instanceof Boolean||(k[s[0]]=new Boolean(k[s[0]])),k[s[0]][s[1]]=o),v.push((o?"":"no-")+s.join("-"))}}(),function(e){var t=y.className,n=k._config.classPrefix||"";if(w&&(t=t.baseVal),k._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}k._config.enableClasses&&(t+=" "+n+e.join(" "+n),w?y.className.baseVal=t:y.className=t)}(v),delete b.addTest,delete b.addAsyncTest;for(var M=0;M<k._q.length;M++)k._q[M]();e.Modernizr=k}(window,document)},function(e,exports,t){var n,o;"function"==typeof Symbol&&Symbol.iterator;!function(i,r){n=r,void 0!==(o="function"==typeof n?n.call(exports,t,exports,e):n)&&(e.exports=o)}(0,function(){function e(e,t){var n=Object.prototype.toString.call(e),o="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,r=e.length;if(o)for(;i<r;i++)t(e[i]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return window.ResizeSensor=function(n,o){function i(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;t<n;t++)e[t].call()},this.remove=function(o){var i=[];for(t=0,n=e.length;t<n;t++)e[t]!==o&&i.push(e[t]);e=i},this.length=function(){return e.length}}function r(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function a(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new i,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var o="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=o,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==r(e,"position")&&(e.style.position="relative");var s,l,c,d,u=e.resizeSensor.childNodes[0],p=u.childNodes[0],g=e.resizeSensor.childNodes[1],f=e.offsetWidth,_=e.offsetHeight,m=function(){p.style.width="100000px",p.style.height="100000px",u.scrollLeft=1e5,u.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5};m();var v=function(){l=0,s&&(f=c,_=d,e.resizedAttached&&e.resizedAttached.call())},h=function(){c=e.offsetWidth,d=e.offsetHeight,s=c!=f||d!=_,s&&!l&&(l=t(v)),m()},b=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};b(u,"scroll",h),b(g,"scroll",h)}e(n,function(e){a(e,o)}),this.detach=function(e){ResizeSensor.detach(n,e)}},ResizeSensor.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},ResizeSensor})},function(e,exports,t){var n;!function(o,i,r){function a(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return k[e.which]?k[e.which]:y[e.which]?y[e.which]:String.fromCharCode(e.which).toLowerCase()}function l(e,t){return e.sort().join(",")===t.sort().join(",")}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function u(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(){if(!b){b={};for(var e in k)e>95&&e<112||k.hasOwnProperty(e)&&(b[k[e]]=e)}return b}function f(e,t,n){return n||(n=g()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function _(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function m(e,t){var n,o,i,r=[];for(n=_(e),i=0;i<n.length;++i)o=n[i],x[o]&&(o=x[o]),t&&"keypress"!=t&&w[o]&&(o=w[o],r.push("shift")),p(o)&&r.push(o);return t=f(o,r,t),{key:o,modifiers:r,action:t}}function v(e,t){return null!==e&&e!==i&&(e===t||v(e.parentNode,t))}function h(e){function t(e){e=e||{};var t,n=!1;for(t in k)e[t]?n=!0:k[t]=0;n||(x=!1)}function n(e,t,n,o,i,r){var a,s,c=[],d=n.type;if(!v._callbacks[e])return[];for("keyup"==d&&p(e)&&(t=[e]),a=0;a<v._callbacks[e].length;++a)if(s=v._callbacks[e][a],(o||!s.seq||k[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!n.metaKey&&!n.ctrlKey||l(t,s.modifiers))){var u=!o&&s.combo==i,g=o&&s.seq==o&&s.level==r;(u||g)&&v._callbacks[e].splice(a,1),c.push(s)}return c}function o(e,t,n,o){v.stopCallback(t,t.target||t.srcElement,n,o)||!1===e(t,n)&&(d(t),u(t))}function r(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&y===t?void(y=!1):void v.handleKey(t,c(e),e)}function g(){clearTimeout(b),b=setTimeout(t,1e3)}function f(e,n,i,r){function a(n){o(i,n,e),"keyup"!==r&&(y=s(n)),setTimeout(t,10)}k[e]=0;for(var l=0;l<n.length;++l){var c=l+1===n.length,d=c?a:function(t){return function(){x=t,++k[e],g()}}(r||m(n[l+1]).action);_(n[l],d,r,e,l)}}function _(e,t,o,i,r){v._directMap[e+":"+o]=t,e=e.replace(/\s+/g," ");var a,s=e.split(" ");if(s.length>1)return void f(e,s,t,o);a=m(e,o),v._callbacks[a.key]=v._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},i,e,r),v._callbacks[a.key][i?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:i,level:r,combo:e})}var v=this;if(e=e||i,!(v instanceof h))return new h(e);v.target=e,v._callbacks={},v._directMap={};var b,k={},y=!1,w=!1,x=!1;v._handleKey=function(e,i,r){var a,s=n(e,i,r),l={},c=0,d=!1;for(a=0;a<s.length;++a)s[a].seq&&(c=Math.max(c,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=c)continue;d=!0,l[s[a].seq]=1,o(s[a].callback,r,s[a].combo,s[a].seq)}else d||o(s[a].callback,r,s[a].combo);var u="keypress"==r.type&&w;r.type!=x||p(e)||u||t(l),w=d&&"keydown"==r.type},v._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)_(e[o],t,n)},a(e,"keypress",r),a(e,"keydown",r),a(e,"keyup",r)}if(o){for(var b,k={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S=1;S<20;++S)k[111+S]="f"+S;for(S=0;S<=9;++S)k[S+96]=S.toString();h.prototype.bind=function(e,t,n){var o=this;return e=e instanceof Array?e:[e],o._bindMultiple.call(o,e,t,n),o},h.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},h.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},h.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},h.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!v(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},h.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},h.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(k[t]=e[t]);b=null},h.init=function(){var e=h(i);for(var t in e)"_"!==t.charAt(0)&&(h[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},h.init(),o.Mousetrap=h,void 0!==e&&e.exports&&(e.exports=h),void 0!==(n=function(){return h}.call(exports,t,exports,e))&&(e.exports=n)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,o,i,r){var a=this;return!!a.paused||!t[i]&&!t[r]&&n.call(a,e,o,i)},e.prototype.bindGlobal=function(e,n,o){if(this.bind(e,n,o),e instanceof Array)for(var i=0;i<e.length;i++)t[e[i]]=!0;else t[e]=!0},e.init()}(Mousetrap),Mousetrap=function(e){var t=e,n=t.stopCallback,o=!0;return t.stopCallback=function(e,t){return!o||n(e,t)},t.pause=function(){o=!1},t.unpause=function(){o=!0},t}(Mousetrap)},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdAlign",{controller:function(){this.aligns=["left","center","right"],this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t={origin:{options:{bottom:"&uarr;",left:"&rarr;",right:"&larr;",top:"&darr;"}},samples:[{id:0,name:"Select a Sample"},{id:1,name:"Fade",value:{distance:"0px",rotate:{x:0,y:0,z:0},opacity:0,scale:1}},{id:2,name:"Scale",value:{distance:"0px",rotate:{x:0,y:0,z:0},opacity:0,scale:.5}},{id:3,name:"Move Up 50px",value:{distance:"50px",rotate:{x:0,y:0,z:0},origin:"bottom",opacity:0,scale:1}},{id:4,name:"Move Left 100px",value:{distance:"100px",rotate:{x:0,y:0,z:0},origin:"right",opacity:0,scale:1}},{id:5,name:"Move Right 100px",value:{distance:"100px",rotate:{x:0,y:0,z:0},origin:"left",opacity:0,scale:1}},{id:6,name:"Rotate & Move Up",value:{distance:"50px",origin:"bottom",rotate:{x:0,y:0,z:45},opacity:0,scale:1}}]};angular.module("kong.builder.app").component("kongEdAnimation",{controller:function(){var e=this;e.origin=t.origin,e.samples=t.samples,e.sample=e.samples[0],e.update=function(){e.sample.id&&(e.model=angular.merge(e.model,e.sample.value))}},template:'<div class="kong-ui__sub-container"><kong-ed-switch model="$ctrl.model.enable"></kong-ed-switch></div><div class="kong-ui__floatContainer" ng-if="$ctrl.model.enable"><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Samples</div><div class="kong-ui__floatContainer__field"><select ng-model="$ctrl.sample" class="kong-ui__select" ng-options="s as s.name for s in $ctrl.samples" ng-change="$ctrl.update()"></select></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Distance</div><div class="kong-ui__floatContainer__field"><kong-ed-text model="$ctrl.model.distance"></kong-ed-unit></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Origin</div><div class="kong-ui__floatContainer__field"><kong-ed-text-buttons model="$ctrl.model.origin" config="$ctrl.origin"></kong-ed-text-buttons></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Opacity</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.opacity" config="{min:0, max:1, step:0.05}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Scale</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.scale" config="{min:0.1, max:1, step:0.05}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate X</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotate.x" config="{min:-360, max:360, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate Y</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotate.y" config="{min:-360, max:360, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate Z</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotate.z" config="{min:-360, max:360, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Easing</div><div class="kong-ui__floatContainer__field"><kong-ed-text model="$ctrl.model.easing"></kong-ed-unit></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">View Factor</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.viewFactor" config="{min:0, max:1, step:0.05}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Duration</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.duration" config="{min:100, max:2000, step:50}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Delay</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.delay" config="{min:0, max:1000, step:50}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Reset</div><div class="kong-ui__floatContainer__field"><kong-ed-switch model="$ctrl.model.reset"></kong-ed-switch></div></div><div class="kong-ui__floatContainer__row" ng-if="::$ctrl.config.group"><div class="kong-ui__floatContainer__title">Interval</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.interval" config="{min:0, max:1000, step:25}"></kong-ed-slider></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdArea",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;t.keyPress={isMeta:!1,isShift:!1},this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.formModel=function(e){if(t.keyPress.isMeta&&t.keyPress.isShift)this.top=this[e],this.right=this[e],this.bottom=this[e],this.left=this[e];else if(t.keyPress.isMeta)switch(e){case"top":t.bottom=t.top;break;case"bottom":t.top=t.bottom;break;case"left":t.right=t.left;break;case"right":t.left=t.right}this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="kong-ui__area"><div class="kong-ui__area__indicators"><span class="kong-ui__area__indicator">TP</span><span class="kong-ui__area__indicator">RT</span><span class="kong-ui__area__indicator">BT</span><span class="kong-ui__area__indicator">LT</span></div><div class="kong-ui__area__inputs"><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.right" ng-change="$ctrl.formModel(\'right\')" placeholder="Right"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.left" ng-change="$ctrl.formModel(\'left\')" placeholder="Left"/></div><div class="kong-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdArea2",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.keyPress={isMeta:!1,isShift:!1},this.formModel=function(e){this.keyPress.isMeta&&(this.top=this[e],this.bottom=this[e]),this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="kong-ui__area"><div class="kong-ui__area__indicators"><span class="kong-ui__area__indicator">TP</span><span class="kong-ui__area__indicator kong-ui__area__indicator--disabled">RT</span><span class="kong-ui__area__indicator">BT</span><span class="kong-ui__area__indicator kong-ui__area__indicator--disabled">LT</span></div><div class="kong-ui__area__inputs"><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="kong-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input class="kong-ui__area__input kong-ui__area__input--disabled" value="0px"/><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="kong-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input class="kong-ui__area__input kong-ui__area__input--disabled" value="0px"/></div><div class="kong-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBackgroundProps",{controller:["$KongHotKeys",function(e){var t=this;this.active=!1,this.close=function(){this.active=!1},this.open=function(){t.active=!0,e.escKeyPressManager.add(function(){return t.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&e.escKeyPressManager.pop()}}],template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Background Props</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><kong-ed-background-position model="$ctrl.model.position"></kong-ed-background-position><kong-ed-background-size model="$ctrl.model.size"></kong-ed-background-size><kong-ed-background-repeat model="$ctrl.model.repeat"></kong-ed-background-repeat><kong-ed-background-attachment model="$ctrl.model.attachment"></kong-ed-background-attachment></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div><a class="kong-ui__setting-btn" ng-click="$ctrl.open()">Background Properties</a>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundPosition",{controller:function(){this.updatePosition=function(e){this.model=e}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__background-position" drag-position model="$ctrl.model" on-update="$ctrl.updatePosition(position)"><i class="lmr lmr-plus"></i></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundSize",{controller:function(){this.options={Auto:"auto",Length:"100px 100px",Percentage:"100% 100%",Cover:"cover",Contain:"contain",Initial:"initial"},this.selectSize=function(e){this.model=e,this.show=!1}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Size</div><div class="kong-ui__popup__input"><div class="kong-ui__background-size"><input app-undo-redo type=\'text\' class="kong-ui__input-text" ng-model=\'$ctrl.model\' ng-model-option="{debounce:250}"}/><span class="kong-ui__background-size__btn" ng-click="$ctrl.show=true"><i class="lmr lmr-plus"></i></span><div ng-show="$ctrl.show"><ul class="kong-ui__background-size__options"><li ng-repeat="(k,v) in ::$ctrl.options" ng-click="$ctrl.selectSize(v)" ng-bind="::k"></li></ul><div class="kong-ui__background-size__backdrop" ng-click="$ctrl.show=false"></div></div></div></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundRepeat",{controller:function(){this.config={options:{"no-repeat":"None","repeat-x":"X","repeat-y":"Y",repeat:"XY"}}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Repeat</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></kong-ed-text-buttons></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundAttachment",{controller:function(){this.config={options:{fixed:"Fixed",scroll:"Scroll",local:"Local"}}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Attach</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></kong-ed-text-buttons></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBackgroundStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={cross:"none","eye-dropper":"color",picture:"image",gradient:"gradient","film-play":"video"}},template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--small"ng-click="$ctrl.model=v"ng-if="::$ctrl.config[v]"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBorderStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={None:"none",___:"solid","...":"dotted","- -":"dashed"},void 0!==this.config&&this.config.no_none_border&&delete this.sample.none},template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn"ng-click="$ctrl.model=v"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><span class="kong-ui__borderStyle__item"><i class="kong-ui__borderStyle__icon kong-ui__borderStyle__icon--{{::v}}" ng-bind="::k"></i></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBoxShadow",{controller:["$scope","$KongHotKeys",function(e,t){var n=this;this.model||(this.model="none");var o=function(){if(/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.test(n.model)){n.shadow={};var e=/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.exec(n.model);n.shadow.x=parseInt(e[1]),n.shadow.y=parseInt(e[2]),n.shadow.blur=parseInt(e[3]),n.shadow.color=e[4]}else n.shadow={x:0,y:0,blur:10,color:"rgba(0,0,0,0.1)"}},i=e.$watch("$ctrl.shadow",function(){i()});this.open=function(){o(),e.$watch("$ctrl.shadow",function(){n.model=n.shadow.x+"px "+n.shadow.y+"px "+n.shadow.blur+"px "+n.shadow.color},!0),this.active=!0,t.escKeyPressManager.add(function(){return i(),n.active=!1,!0})},this.setToNone=function(){this.model="none"},this.close=function(){t.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&t.escKeyPressManager.pop()}}],template:'<div class="kong-ui__boxshadow"><input type="text" class="kong-ui__input-text" ng-model="$ctrl.model" readonly/><div class="kong-ui__boxshadow__btns kong-ui--alignRight kong-ui--paddingTop7"><span class="kong-ui__btn kong-ui__btn--small kong-ui__btn--plain kong-ui--marginRight3" ng-disabled="$ctrl.model == \'none\'" ng-click="$ctrl.setToNone()">Set as None</span><span class="kong-ui__btn kong-ui__btn--small kong-ui__btn--primary" ng-click="$ctrl.open()">Edit</span></div></div><div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Shadow</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">X</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.x" config="{min:-50, max:50, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Y</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.y" config="{min:-50, max:50, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Blur</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.blur" config="{min:0, max:100, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.shadow.color" config="{\'format\':\'rgba\'}"></kong-ed-colorpicker></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdClass",{controller:["$KongService","$KongHotKeys",function(e,t){var n=this;this.service=e,this.search="",this.enter="",void 0===this.model?this.model="":this.model=this.model.trim();var o={Support:{"No Margin Top":"kong--noMarginTop","z-Index 1":"kong--zIndex1","z-Index 99":"kong--zIndex99","Position Relative":"kong--positionRelative"},Background:{"Attachment Fixed":"kong--bgFixed","Contain Size":"kong--bgContain","Cover Size":"kong--bgCover"},Typography:{"Serif Font":"kong-serif",Uppercase:"kong--uppercase","Line Through":"kong--lineThrough","Letter Spacing 0.05em":"kong--letterSpacing-0-05em","Letter Spacing 0.1em":"kong--letterSpacing-0-1em","Letter Spacing 0.15em":"kong--letterSpacing-0-15em","Align Left":"kong--textLeft","Align Right":"kong--textRight","Align Center":"kong--textCenter"},"Tilt Hover Effect":{"Trigger Class":"kong-tilt","Disable X":"kong-tilt--disableX","Disable Y":"kong-tilt--disableY","Keep Floating":"kong-tilt--keepFloating","Scale 1.1":"kong-tilt--scale11","Scale 1.2":"kong-tilt--scale12","Scale 1.3":"kong-tilt--scale13","Glare Effect":"kong-tilt--glare","Parallax Parent":"kong-tilt--parallaxParent","Parallax Child":"kong-tilt--parallaxChild"},"Hover Effect":{"Fade from Opacity 0.25":"kong-hover--opacity25","Fade from Opacity 0.5":"kong-hover--opacity50","Fade from Opacity 0.75":"kong-hover--opacity75","Blur from 5px":"kong-hover--blur5","Blur from 3px":"kong-hover--blur3","Scale from 75%":"kong-hover--scale75"},"Image Effect":{Blur:"kong--imgBlur","Black and White":"kong--imgBlackWhite"},Transform:{"Reverse X":"kong--reverseX","Reverse Y":"kong--reverseY","Reverse XY":"kong--reverseXY"}};if(this.classes={},Array.isArray(this.config)){var i=!0,r=!1,a=void 0;try{for(var s,l=this.config[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;o.hasOwnProperty(c)&&(this.classes[c]=o[c])}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}}else this.classes=o;this.setClass=function(e,t){this.model?this.model+=" "+e:this.model=e,t.ctrlKey||t.metaKey||(this.expand=!1,this.service.icons_expand=!1)},this.expand=!1,this.openBox=function(){this.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return n.expand=!1,e.icons_expand=n.expand,!0})},this.closeBox=function(){t.escKeyPressManager.execute()},this.isEmpty=function(){return""===this.search.trim()},this.pushClass=function(t){this.enter=this.enter.trim(),13==t.keyCode&&this.enter&&(/^[a-zA-Z_\-][a-zA-Z\d_\-]*$/g.test(this.enter)?(this.model+=this.model?" "+this.enter:""+this.enter,this.enter=""):e.showToast({message:"Invalid input for a CSS class",time:2e3,type:"error"}),t.target.blur())},this.getClassList=function(){return this.model?this.model.split(" "):[]},this.deleteClass=function(e){var t=this.model.split(" ");t.splice(e,1),this.model=t.join(" ")},this.$onDestroy=function(){this.service.icons_expand&&(this.service.icons_expand=!1),this.expand&&t.escKeyPressManager.pop()}}],template:'<div class="kong-ui__classBox" ng-if="$ctrl.expand"><div class="kong-ui__classBox__header"><div class="kong-ui__classBox__header__input"><input ng-model="$ctrl.search" type="text" maxlength="50" ng-trim="true" placeholder="Search for classes..."/><button class="kong-ui__classBox__header__input__clearBtn" ng-click="$ctrl.search=\'\'" ng-show="$ctrl.search"><i class="lmr lmr-cross2" aria-hidden="true"></i></button></div><button class="kong-ui__classBox__header__shorten" ng-click="$ctrl.closeBox()"><span class="lmr lmr-chevron-down"></span></button></div><div class="kong-ui__classBox__list"><p class="kong-ui__classBox__list__notFound">No result.</p><ul class="kong-ui__classBox__list__section" ng-repeat="(key, value) in ::$ctrl.classes"><li class="kong-ui__classBox__list__item" ng-repeat="(k,v) in value|canberepeated:$ctrl.search"><h6 class="kong-ui__classBox__list__section__name" ng-bind="::key" ng-if="::$first"></h6><span class="kong-ui__classBox__list__item__name" ng-bind="::k" ng-click="$ctrl.setClass(v, $event)"></span></li></ul></div></div><div class="kong-ui__class"><input class="kong-ui__class__input kong-ui__input-text" maxlength="50" ng-model="$ctrl.enter" type="text" ng-keypress="$ctrl.pushClass($event)"  ng-model-options="{ debounce: 250 }"/><button class="kong-ui__class__expandBtn" ng-click="$ctrl.openBox()"><span class="lmr lmr-chevron-up"></span></button></div><p class="kong-ui__class__desc">Type your Class name then hit "Enter".</p><div class="kong-ui__class__tagList"><a class="kong-ui__class__tag" ng-repeat="class in $ctrl.getClassList() track by $index" ng-click="$ctrl.deleteClass($index)" ng-bind="::class"></a></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdCodeEditor",{controller:["$scope","$KongHotKeys","$timeout",function(e,n,o){var i=this;this.expand=!1;var r,a,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;clearTimeout(a),a=setTimeout(function(){r.resize(),r.renderer.updateFull()},e)};this.resizeBox=function(){this.expand?n.escKeyPressManager.execute():(this.expand=!0,s(),n.escKeyPressManager.add(function(){return i.expand=!1,s(),!0}))},this.widenBox=function(){this.widen=!this.widen,s()},this.options={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"html",onLoad:function(e){r=e,s(0)}},"object"==t(this.config)&&(this.options=angular.merge(this.options,this.config)),this.$onDestroy=function(){this.expand&&n.escKeyPressManager.pop()}}],template:'<div class="kong-ui__codeEditor" ng-class="{\'kong-ui__codeEditor--expanded\':$ctrl.expand, \'kong-ui__codeEditor--widen\': $ctrl.widen}"><a class="kong-ui__codeEditor__expandBtn" ng-click="$ctrl.resizeBox()"><span class="lmr lmr-{{$ctrl.expand?\'contract\':\'expand\'}}"></span></a><a class="kong-ui__codeEditor__widenBtn" ng-click="$ctrl.widenBox()"><span class="lmr lmr-arrow-{{$ctrl.widen?\'left\':\'right\'}}"></span></a><div class="kong-ui__codeEditor__wrap" ui-ace="$ctrl.options" ng-model="$ctrl.model" ng-model-options="{debounce: 500}"></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdColorpicker",{controller:function(){this.update=function(e){this.model=e}},template:'<div class="kong-ui__colorpicker"><small class="kong-ui__colorpicker__transparent-btn" ng-show="$ctrl.model != \'transparent\'" ng-click="$ctrl.model=\'transparent\'" title="Transparent"><i class="fa fa-genderless" aria-hidden="true"></i></small><input class="kong-ui__colorpicker__input kong-ui__input-text" ng-model="$ctrl.model" type="text" app-undo-redo/><span class="kong-ui__colorpicker__select-btn" colorpicker ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }"><i ng-style="{\'background-color\':$ctrl.model}"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdColumnRange",{controller:["$scope",function(e){this.range={"0-0":'<i class="lmr lmr-cross-circle"></i>',"1-6":"1<b></b>6","1-5":"1<b></b>5","1-4":"1<b></b>4","1-3":"1<b></b>3","2-5":"2<b></b>5","1-2":"1<b></b>2","3-5":"3<b></b>5","2-3":"2<b></b>3","3-4":"3<b></b>4","4-5":"4<b></b>5","5-6":"5<b></b>6","1-1":"1<b></b>1"},this.setWidth=function(e){this.onButtonClick({v:e})}}],template:'<div class="kong-ui__colWidth"><button class="kong-ui__colWidth__btn" ng-click="$ctrl.setWidth(k)" ng-repeat="(k, v) in ::$ctrl.range" ng-class="{\'kong-ui__colWidth__btn--active\':$ctrl.model == k}"><span ng-bind-html="::v"></span></button></div>',bindings:{model:"<",onButtonClick:"&"}}),angular.module("kong.builder.app").component("kongEdColumnWidth",{controller:["$scope","$KongService",function(e,n){var o=this;this.devices=["desktop","tablet","mobile"],this.service=n;var i=n.getID(n.edited);this.setDevice=function(e){this.service.previewDevice=e},this.setDesktopWidth=function(e){this.model.desktop=e,o.formClass()},this.setTabletWidth=function(e){this.model.tablet=e,o.formClass()},this.setMobileWidth=function(e){this.model.mobile=e,o.formClass()};var r=void 0;this.formClass=function(){var e="kong-column";void 0===r&&(r=n.getIframeElement("."+i)),e+=" kong-col-"+this.model.desktop,this.model.hasOwnProperty("tablet")&&(e+=" kong-col-tb-"+this.model.tablet),this.model.hasOwnProperty("mobile")&&(e+=" kong-col-mb-"+this.model.mobile),e+=" "+i,r.className=e;for(var t="1-1",o=["desktop","tablet","mobile"],a=0;a<o.length;a++){var s=o[a],l=!0,c=!1,d=void 0;try{for(var u,p=r.querySelectorAll(".kong-dnd__colWidth--"+s)[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var g=u.value;this.model.hasOwnProperty(s)&&(t=this.model[s].replace("-","/")),g.innerHTML=t}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}},this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop,this.formClass()},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop,this.formClass()},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")},e.$watch("$ctrl.model",function(){o.formClass()},!0)}],template:'<div class="kong-ui__resDevice" ng-class="\'kong-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="kong-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="kong-ui__resDevice__editor"><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><kong-ed-column-range model="$ctrl.model.desktop" target="desktop" on-button-click="$ctrl.setDesktopWidth(v)" ng-if="$ctrl.onDesktop()"></kong-ed-column-range><kong-ed-column-range model="$ctrl.model.tablet" target="tablet" on-button-click="$ctrl.setTabletWidth(v)" ng-if="$ctrl.onTablet()"></kong-ed-column-range><kong-ed-column-range model="$ctrl.model.mobile" target="mobile" on-button-click="$ctrl.setMobileWidth(v)" ng-if="$ctrl.onMobile()"></kong-ed-column-range></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdDesc",{controller:function(){},transclude:!0,template:'<p class="kong-ui__desc" ng-bind-html="::$ctrl.config.message"></p>',bindings:{config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdDeviceHidden",{controller:["$scope",function(e){var t=this;this.currentDevices={mobile:!1,tablet:!1,"tablet-l":!1,desktop:!1},this.setCurrentDevice=function(){for(var e in this.currentDevices)this.currentDevices[e]=-1!=this.model.indexOf("kong-"+e+"-hidden")},this.model?this.setCurrentDevice():this.model="",this.setModel=function(e){this.currentDevices[e]=!this.currentDevices[e],this.model="";for(var t in this.currentDevices)this.currentDevices[t]&&(this.model+=" kong-"+t+"-hidden");this.model=this.model.trim()},e.$watch("$ctrl.model",function(){t.setCurrentDevice()})}],template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--rv kong-ui__buttonGroup__btn--smallIcon"ng-click="$ctrl.setModel(k)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.currentDevices[k]}"ng-repeat="(k, v) in ::$ctrl.currentDevices"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("editorContainer",{transclude:!0,controller:function(){void 0===this.collapsed&&(this.collapsed=!1)},template:'<div class="kong-ui__container" ng-class="{\'kong-ui__container--collapsed\':$ctrl.collapsed}"><h4 class="kong-ui__container__title"><span class="kong-ui__container__name">{{::$ctrl.label}}</span><span class="kong-ui__container__collapseBtn" ng-click="$ctrl.collapsed=!$ctrl.collapsed"></span></h4><div class="kong-ui__container__content" ng-transclude></div></div>',bindings:{label:"@",collapsed:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("editorField",{controller:["$scope","$attrs","$timeout","$KongService",function(e,n,o,i){if("rich-editor"!=n.type&&"$ctrl.edited"!=n.model&&"editor"==i.tab){var r,a=Date.now(),s=!0,l=null,c={},d=n.model.split(".");"attrs"==d[2]&&(c.isAttr=!0,c.attrField=d[3]),i.showChild?(c.link=i.child.link,c.parentLink=i.edited.link):c.link=i.edited.link,e.$watch("$ctrl.model",function(e,n){if(s)return void(s=!1);i.commandManager.free&&(Date.now()-a<500&&r&&o.cancel(r),null==l&&(l=n),a=Date.now(),r=o(function(){if(i.edited){var n=angular.merge({},c);"object"==(void 0===e?"undefined":t(e))?(n.newVal=angular.merge({},e),n.oldVal=angular.merge({},l)):(n.newVal=e,n.oldVal=l),i.setChangeAttr(n),l=null,i.commandManager.free=!0}},500))},!0)}}],template:["$element","$attrs",function(e,t){return'<div class="kong-ui__field" ng-class="::{\'kong-ui__field--fullwidth\':$ctrl.fullwidth}"><span class="kong-ui__field__label" ng-if="::$ctrl.label" ng-bind="::$ctrl.label"></span><div class="kong-ui__field__input"><kong-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></kong-ed-'+t.type+'><small class="kong-ui__field__desc" ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></small></div></div>'}],bindings:{model:"=",config:"<",desc:"@",type:"@",label:"@",fullwidth:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdFontSource",{controller:function(){void 0===this.model&&(this.model={source:"inherit",google:{family:"Open Sans",variant:"regular",subset:"latin"},uploaded:"",typekit:""}),this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"}},template:'<div class="kong-ui__fontSource"><div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("kong.builder.app").__config.root+'/modules/img/\'+k+\'.svg)\'}"></span></button></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'uploaded\'"><kong-ed-selection-loader model="$ctrl.model.uploaded" config="{url: \''+angular.module("kong.builder.app").__config.global_api+'/uploaded-fonts\', name: \'font\'}"></kong-ed-selection-loader></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'typekit\'"><kong-ed-selection-loader model="$ctrl.model.typekit" config="{url: \''+angular.module("kong.builder.app").__config.global_api+"/typekit-fonts', name: 'font'}\"></kong-ed-selection-loader></div></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=[["#DBE6F6","#C5796D"],["#3494E6","#EC6EAD"],["#67B26F","#4ca2cd"],["#F3904F","#3B4371"],["#ee0979","#ff6a00"],["#A770EF","#CF8BF3","#FDB99B"],["#833ab4","#fd1d1d","#fcb045"],["#FEAC5E","#C779D0","#4BC0C8"],["#f4c4f3","#fc67fa"],["#f4c4f3","#fc67fa"],["#ff7e5f","#feb47b"],["#ff00cc","#333399"],["#de6161","#2657eb"],["#ef32d9","#89fffd"],["#A1FFCE","#FAFFD1"],["#BE93C5","#7BC6CC"],["#bdc3c7","#2c3e50"],["#ffd89b","#19547b"],["#fceabb","#f8b500"],["#f85032","#e73827"],["#56ab2f","#a8e063"],["#000428","#004e92"],["#42275a","#734b6d"],["#141E30","#243B55"],["#EECDA3","#EF629F"],["#5614B0","#DBD65C"],["#fd746c","#ff9068"],["#eacda3","#d6ae7b"],["#457fca","#5691c8"],["#B24592","#F15F79"],["#C02425","#F0CB35"],["#c2e59c","#64b3f4"],["#FFB75E","#ED8F03"],["#00c6ff","#0072ff"],["#70e1f5","#ffd194"],["#606c88","#3f4c6b"],["#E6DADA","#274046"],["#ddd6f3","#faaca8"],["#ECE9E6","#FFFFFF"],["#4776E6","#8E54E9"],["#CC95C0","#DBD4B4","#7AA1D2"],["#02AAB0","#00CDAC"],["#396afc","#2948ff"],["#0cebeb","#20e3b2","#29ffc6"],["#36D1DC","#5B86E5"],["#56CCF2","#2F80ED"],["#F7971E","#FFD200"],["#00c3ff","#ffff1c"]];e.module("kong.builder.app").component("kongEdGradient",{controller:["$scope","$KongHotKeys",function(e,o){var i=this;this.presets=n,this.active=!1,this.collectionShow=!1,"object"!=t(this.model)&&(this.model={color_1:"rgba(0,0,0,0.4)",color_2:"rgba(0,0,0,0.4)",color_3:"rgba(0,0,0,0.4)",angle:180,radial:!1,radial_x:"center",radial_y:"bottom"}),this.radialConfigX={options:{left:"Left",center:"Center",right:"Right"},class:"column"},this.radialConfigY={options:{Top:"Top",center:"Center",bottom:"Bottom"},class:"column"},this.open=function(){e.$watch("$ctrl.model",function(){i.formModel()},!0),this.active=!0,o.escKeyPressManager.add(function(){return r(),i.active=!1,!0})},this.showCollection=function(){this.collectionShow=!0,o.escKeyPressManager.add(function(){return i.collectionShow=!1,!0})},this.formGradient=function(e){return e.radial?e.color_3?"radial-gradient(circle at "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"radial-gradient(circle at  "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+")":"":e.color_3?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+")":""},this.formModel=function(){this.model.value=this.formGradient(this.model)},this.formPreset=function(e){return e[2]?"linear-gradient(90deg, "+e[0]+", "+e[1]+", "+e[2]+")":"linear-gradient(90deg, "+e[0]+", "+e[1]+")"},this.setPreset=function(e){this.model.color_1=e[0],this.model.color_2=e[1],this.model.color_3=e[2]?e[2]:"",this.model.value=this.formGradient(this.model)};var r=e.$watch("$ctrl.model",function(){r()});this.close=function(){o.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&o.escKeyPressManager.pop()}}],template:'<div class="kong-ui__gradient"><div class="kong-ui__gradient__bg"  ng-click="$ctrl.open()"><span ng-style="{\'background\':$ctrl.model.value}"></span></div><span class="kong-ui__gradient__edit" ng-click="$ctrl.open()">Edit</span><span class="kong-ui__gradient__openPresets" ng-click="$ctrl.showCollection()"><i class="lmr lmr-icons2"></i></span></div><div class="kong-ui__gradient__collection" ng-class="{\'kong-ui__gradient__collection--show\':$ctrl.collectionShow}"><div class="kong-ui__gradient__header"><span class="kong-ui__gradient__back lmr lmr-chevron-left" ng-click="$ctrl.close()"></span><h6>Gradient Presets</h6></div><div class="kong-ui__gradient__list"><div class="kong-ui__gradient__preset" ng-repeat="preset in ::$ctrl.presets" ng-style="::{\'background-image\':$ctrl.formPreset(preset)}" ng-click="$ctrl.setPreset(preset)"></div></div></div><div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Gradient</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 1</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_1"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 2</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_2"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 3</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_3"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row" ng-if="!$ctrl.model.radial"><div class="kong-ui__popup__label">Angle</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.model.angle" config="{min:0, max:270, step:1}"></kong-ed-slider></div></div><div ng-if="::$ctrl.config.radial"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Radial</div><div class="kong-ui__popup__input"><kong-ed-switch model="$ctrl.model.radial"></kong-ed-switch></div></div><div ng-if="$ctrl.model.radial"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">X</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model.radial_x" config="$ctrl.radialConfigX"></kong-ed-text-buttons></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Y</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model.radial_y" config="$ctrl.radialConfigY"></kong-ed-text-buttons></div></div></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdHAlign",{controller:function(){this.aligns={"align-top":"top","align-center-horizontal":"middle","align-bottom":"bottom"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdIconBox",{controller:function(){var e=this;this.setModel=this.config.requireValue?function(t){e.model!=t&&(e.model=t)}:function(t){e.model=e.model==t?"":t}},template:'<div class="kong-ui__iconBox" ng-class="::{\'kong-ui__iconBox--requireValue\': $ctrl.config.requireValue}"><button class="kong-ui__iconBox__item" ng-click="$ctrl.setModel(icon)" ng-repeat="icon in ::$ctrl.config.icons" ng-class="{\'kong-ui__iconBox__item--active\': $ctrl.model == icon}"><span class="{{::icon}}"></span></button></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdIcons",{controller:["$KongService","$KongHotKeys","$http","$timeout",function(e,t,n,o){var i=this;this.service=e,i.state="loading",void 0===this.config&&(this.config={requireValue:!0}),n({cache:!0,method:"GET",url:""+angular.module("kong.builder.app").__config.global_api+i.config.url}).then(function(n){Array.isArray(n.data)?(i.icons=n.data,i.state="loaded",i.search="",i.select=function(e){i.model=i.model===e?"":e},i.expand=!1,i.open=function(){i.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return i.expand=!1,e.icons_expand=i.expand,!0})},i.close=function(){t.escKeyPressManager.execute()},i.$onDestroy=function(){e.icons_expand&&(e.icons_expand=!1),i.expand&&t.escKeyPressManager.pop()},i.update=function(e){i.model=e}):i.state="fail"},function(){i.state="fail"})}],template:'<div class="kong-ui__loader" ng-class="\'kong-ui__loader--\'+$ctrl.state"><div class="kong-ui__loader__preload"><span></span><span></span><span></span></div><div class="kong-ui__loader__failer">Error! cannot get data.</div></div><div ng-if="$ctrl.state == \'loaded\'"><div class="kong-ui__icons" ng-class="{\'kong-ui__icons--expand\':$ctrl.expand}"><div class="kong-ui__icons__wrap"><span class="kong-ui__icons__shorten" ng-show="$ctrl.expand" ng-click="$ctrl.close()">Shorten<i class="dashicons dashicons-arrow-down"></i></span><kong-icon-list model="$ctrl.model" on-update="$ctrl.update(icon)" icons="$ctrl.icons" config="$ctrl.config" expand="$ctrl.expand"></kong-icon-list></div></div><div class="kong-ui__icons__footer"><span class="kong-ui__icons__expand" ng-click="$ctrl.open()">Expand<i class="dashicons dashicons-arrow-up"></i></span></div></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdIcon",{controller:function(){"object"!=t(this.model)&&(this.model={source:"lnr",icon:"home"}),void 0===this.config&&(this.config={requireValue:!0}),this.tabs={LNR:"lnr",FA:"fa"};var e={};e[this.model.source]=this.model.icon,this.setSource=function(t){e[this.model.source]=this.model.icon,this.model.source=t,e.hasOwnProperty(this.model.source)?this.model.icon=e[this.model.source]:"fa"==this.model.source?this.model.icon="adjust":"lnr"==this.model.source&&(this.model.icon="home")},this.faConfig=angular.merge({url:"/font-awesome",source:"fa"},this.config),this.lnrConfig=angular.merge({url:"/linear-icons",source:"lnr"},this.config)},template:'<div class="kong-ui__icon"><div class="kong-ui__icon__tabs"><button ng-repeat="(k,v) in ::$ctrl.tabs" class="kong-ui__icon__tab" ng-bind="::k" ng-click="$ctrl.setSource(v)" ng-class="{\'kong-ui__icon__tab--active\':$ctrl.model.source == v}"></button></div><div class="kong-ui__icon__container"><kong-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'fa\'" config="$ctrl.faConfig"></kong-ed-icons><kong-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'lnr\'" config="$ctrl.lnrConfig"></kong-ed-icons></div></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdSocialIcons",{controller:function(){this.config={url:"/font-awesome-social-icons",source:"fa"}},template:'<kong-ed-icons model="$ctrl.model" config="$ctrl.config"></kong-ed-icons>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdIconButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.setModel(v)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === v}"><i class="lmr lmr-{{::k}}" ></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdId",{controller:function(){var e=/^[a-zA-Z][\w-]*$/;this.checkValid=function(){if(this.model){var t=new RegExp(e);this.invalid=!t.test(this.model)}}},template:'<input app-undo-redo class="kong-ui__input-text" ng-class="{\'kong-ui-invalid\':$ctrl.invalid}" ng-model="$ctrl.model"type="text" ng-model-options="{ debounce: 250 }" ng-change="$ctrl.checkValid()"/>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdIframe",{controller:["$scope",function(e){this.model||(this.model="");var t=this;this.setModel=function(e){this.model=e},e.$watch("$ctrl.model",function(){t.visualModel=t.model}),e.$watch("$ctrl.visualModel",function(){var e=/<iframe .*src="(http[\S^"]+)".*><\/iframe>/g,n=e.exec(t.visualModel);t.model=null!=n?n[1]:t.visualModel})}],template:'<textarea app-undo-redo class="kong-ui__textarea" ng-model="$ctrl.visualModel" rows="5" cols="20"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdImageButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.config"ng-click="$ctrl.setModel(k)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("kong.builder.app").__config.root+"/modules/img/'+v+')'}\"></span></button></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdImageGroup",{controller:["$scope","$KongService","$http",function(e,t,n){var o=this;this.service=t;var i,r;this.upload=function(){i=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!0}),i.on("select",function(){if(r=i.state().get("selection").toJSON(),void 0!==o.config&&void 0!==o.config.full&&o.config.full){var a=[];r.forEach(function(e){a.push({url:e.url,id:e.id,padding:100*e.sizes.full.height/e.sizes.full.width,width:e.sizes.full.width,height:e.sizes.full.height})}),n({method:"GET",cache:!0,url:angular.module("kong.builder.app").__config.global_api+"/image-sizes-group",params:{items:JSON.stringify(a)}}).then(function(e){Array.isArray(e.data)&&e.data.forEach(function(e){var n=t.getChildModel(o.model.tag);n.attrs.image=e,t.addNode(o.model,n)})},function(e){r.forEach(function(e){var n=t.getChildModel(o.model.tag);n.attrs.image=e,t.addNode(o.model,n)})})}else r.forEach(function(n){e.$apply(function(){var e=t.getChildModel(o.model.tag);e.attrs.image.url=n.url,e&&t.addNode(o.model,e)})})}),i.open()},this.openChild=function(e){t.child=e,t.showChild=!0},this.removeAll=function(){t.removeAllChildNodes(this.model),this.show=!1},this.show=!1,this.dropCallback=function(e,n,o){return t.moveNode(o,e,n),n}}],template:'<div class="kong-ui__imageGroup"><div class="kong-ui__imageGroup__empty" ng-if="!$ctrl.model.content.length" ng-click="$ctrl.upload()"><div class="kong-ui__imageGroup__empty__wrap"><i class="lmr lmr-upload2" aria-hidden="true"></i><span>Upload</span></div></div><div class="kong-ui__imageGroup__list"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.model, index)"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.model)"dnd-list="$ctrl.model.content" dnd-horizontal-list="true" dnd-allowed-types="[\'image\']"><div class="kong-ui__imageGroup__item"ng-repeat="child in $ctrl.model.content"dnd-disable-if="$ctrl.model.content.length < 2"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="child"dnd-type="\'image\'"dnd-effect-allowed="move"><div class="kong-ui__imageGroup__item__img" ng-click="$ctrl.openChild(child)" ng-style="{\'background-image\': \'url(\'+child.attrs.image.url+\')\'}"></div><button class="kong-ui__imageGroup__item__remove" ng-click="$ctrl.service.removeNode(child)"><i class="lmr lmr-cross2"></i></button><button class="kong-ui__imageGroup__item__duplicate" ng-click="$ctrl.service.duplicateNodeWithoutScroll(child)"><i class="lmr lmr-copy"></i></button></div></div><div class="kong-ui__itemGroup__action"><div ng-if="$ctrl.show" class="kong-ui__itemGroup__action__confirm"><span class="kong-ui__btn kong-ui__btn--primary kong-ui--marginRight5" ng-click="$ctrl.show=false">No, Never</span><span class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</span></div><div ng-if="!$ctrl.show"><span ng-if="!$ctrl.show && $ctrl.model.content.length > 1" class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover kong-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</span><span class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.upload()">Add Item</span></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdImageSelection",{controller:function(){},template:'<div class="kong-ui__imageSelection"><div class="kong-ui__imageSelection__image"ng-click="$ctrl.model=v"ng-repeat="(k, v) in ::$ctrl.config"ng-class="{\'kong-ui__imageSelection__image--active\':$ctrl.model == v}"><img ng-src="{{\''+angular.module("kong.builder.app").__config.img+'\'+k}}" width="50px" height="50px"/></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdItemGroup",{controller:["$KongService","$timeout",function(e,n){this.service=e,this.show=!1,this.addItem=function(){var t=e.getChildModel(this.model.tag);t&&e.addNode(this.model,t)},this.removeAll=function(){e.removeAllChildNodes(this.model),this.show=!1},this.select=function(t){e.child=t,e.showChild=!0},this.dropCallback=function(t,n,o){return e.moveNode(o,t,n),n},"object"===t(this.config)&&this.config.hasOwnProperty("refer")||(this.config={refer:"name"})}],template:'<div class="kong-ui__itemGroup"><div class="kong-ui__itemGroup__empty" ng-show="!$ctrl.model.content.length" ng-click="$ctrl.addItem()"><div class="kong-ui__itemGroup__empty__icon"><i class="lmr lmr-plus" aria-hidden="true"></i><span>Add Item</span></div></div><div ng-if="$ctrl.model.content.length"><div class="kong-ui__itemGroup__items"dnd-inserted="$ctrl.service.resetChildLinkFromIndex($ctrl.model, index)"dnd-drop="$ctrl.dropCallback(index, item, $ctrl.model)"dnd-list="$ctrl.model.content" dnd-allowed-types="[\'itm\']"><div class="kong-ui__itemGroup__item"ng-repeat="itm in $ctrl.model.content"dnd-disable-if="$ctrl.model.content.length < 2"dnd-moved="$ctrl.service.removeNodeFromParent($ctrl.model, $index)"dnd-draggable="itm"dnd-type="\'itm\'"dnd-effect-allowed="move"><h6 class="kong-ui__itemGroup__item__title" ng-click="$ctrl.select(itm)" ng-bind="itm.attrs[$ctrl.config.refer]?(itm.attrs[$ctrl.config.refer]|shorten:14): itm.name+\' \'+($index+1)"></h6><span class="kong-ui__itemGroup__item__remove" ng-click="$ctrl.service.removeNode(itm)"><i class="lmr lmr-trash2"></i></span><span class="kong-ui__itemGroup__item__duplicate" ng-click="$ctrl.service.duplicateNode(itm)"><i class="lmr lmr-copy"></i></span></div></div><div class="kong-ui__itemGroup__action"><div ng-if="$ctrl.show" class="kong-ui__itemGroup__action__confirm"><span class="kong-ui__btn kong-ui__btn--primary kong-ui--marginRight5" ng-click="$ctrl.show=false">No, Never</span><span class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover" ng-click="$ctrl.removeAll()">Yes</span></div><div ng-if="!$ctrl.show"><span ng-if="!$ctrl.show && $ctrl.model.content.length > 1" class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--remove-hover kong-ui--marginRight5" ng-click="$ctrl.show=true">Remove All</span><span class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.addItem()">Add Item</span></div></div></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdLabelSelection",{controller:function(){this.list=angular.merge({},this.config.list)},template:'<select ng-model="$ctrl.model" class="kong-ui__select"><option ng-bind="$ctrl.config.label"></option><option ng-repeat="(key, value) in ::$ctrl.list" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdLink",{controller:["$scope",function(e){}],template:'<div class="kong-ui__link"><input app-undo-redo class="kong-ui__link__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model.url" type="text" ng-model-options="{debounce:250}"/><span title="Open in a new tab" class="kong-ui__link__newtab" ng-class="{\'kong-ui__link__newtab--active\': $ctrl.model.new_tab}" ng-click="$ctrl.model.new_tab=!$ctrl.model.new_tab"><i class="lmr lmr-share"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdMultiSelect",{controller:["$scope","$KongService","$KongHotKeys",function(e,t,n){var o=this,i=void 0;this.list=angular.merge({},this.config.list),this.formList=function(){i=this.model.split(",");for(var e in this.list)this.list[e].active=-1!=i.indexOf(e)},this.formList(),e.$watch("$ctrl.model",function(){o.formList()}),this.formModel=function(){i.length=0;for(var e in this.list)this.list[e].active&&i.push(e);this.generateModel()},this.checkAll=function(){i.length=0;for(var e in this.list)i.push(e),this.list[e].active=!0;this.generateModel()},this.uncheckAll=function(){i.length=0;for(var e in this.list)this.list[e].active=!1;this.generateModel()},this.generateModel=function(){this.model=i.join(",")},this.show=!1,this.open=function(){this.show||(t.icons_expand=!0,this.show=!0,n.escKeyPressManager.add(function(){return t.icons_expand=!1,o.show=!1,!0}))},this.close=function(){n.escKeyPressManager.execute()},this.isCheckedAll=function(){for(var e in this.list)if(!this.list[e].active)return!1;return!0}}],template:'<div class="kong-ui__multiSelect"><div class="kong-ui__multiSelect__popup" kong-esc-to-close on-esc="$ctrl.close()" ng-if="$ctrl.show"><div class="kong-ui__multiSelect__header"><button ng-click="$ctrl.uncheckAll()" ng-if="$ctrl.isCheckedAll()" class="kong-ui__multiSelect__unCheckAllBtn">Uncheck All</button><button ng-click="$ctrl.checkAll()" class="kong-ui__multiSelect__checkAllBtn">Check All</button><button ng-click="$ctrl.close()" class="kong-ui__multiSelect__closeBtn" title="Close"><i class="lmr lmr-cross"></i></button></div><div class="kong-ui__multiSelect__list"><div class="kong-ui__multiSelect__list__item" ng-repeat="(k, v) in ::$ctrl.list"><label ng-click="$ctrl.formModel()"><span ng-bind="::v.name"></span><input type="checkbox" ng-model="v.active"/></label></div></div></div><div class="kong-ui__multiSelect__openListBtn" ng-click="$ctrl.open()"><span ng-bind="::$ctrl.config.message"></span><i class="lmr lmr-text-align-justify"></i></div><div class="kong-ui__multiSelect__selected"><button ng-repeat="(k, v) in ::$ctrl.list" ng-click="v.active=false; $ctrl.formModel()" ng-show="v.active"><span ng-bind="::v.name"></span><i class="lmr lmr-cross"></i></button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdMultiSocialIcons",{controller:["$scope",function(e){var t=this;this.icons={facebook:!1,twitter:!1,github:!1,dribbble:!1,"stack-overflow":!1,medium:!1,youtube:!1,pinterest:!1,"envelope-square":!1,skype:!1,linkedin:!1,bitbucket:!1,slack:!1,snapchat:!1,behance:!1,codepen:!1,vimeo:!1,soundcloud:!1,whatsapp:!1,vine:!1,tumblr:!1,"google-plus":!1},this.model=this.model||{},this.formList=function(){for(var e in this.icons)this.icons[e]=this.model.hasOwnProperty(e)},e.$watch("$ctrl.model",function(){t.formList()},!0),this.select=function(e){this.icons[e]?(this.icons[e]=!1,delete this.model[e]):(this.icons[e]=!0,this.model[e]="#")}}],template:"<div class=\"kong-ui__icons\"><div class=\"kong-ui__icons__wrap\"><div class='kong-ui__icons__container'><ul class='kong-ui__icons__list'><li class='kong-ui__icons__item' ng-repeat=\"(icon, active) in ::$ctrl.icons\"ng-class=\"{'active':$ctrl.icons[icon]}\"ng-click=\"$ctrl.select(icon)\"><i title=\"{{::icon}}\" class='fa fa-{{::icon}}'></i></li></ul></div></div></div><ul class='kong-ui__icons__links'><li ng-repeat=\"(icon,link) in $ctrl.model\"><span class='fa fa-{{::icon}}'></span><input class=\"kong-ui__input-text\" type='text' ng-model='$ctrl.model[icon]'></li></ul>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdNumber",{controller:function(){this.model||(this.model=0),this.updateNumber=function(e){this.model=e}},template:'<div class="kong-ui__number"><input app-undo-redo class="kong-ui__number__input kong-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config" type="text" ng-trim="true" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdParallax",{controller:function(){},template:'<div class="kong-ui__sub-container"><kong-ed-switch model="$ctrl.model.enable"></kong-ed-switch></div><div class="kong-ui__floatContainer" ng-if="$ctrl.model.enable"><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">X</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.x" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Y</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.y" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Z</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.z" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Scale</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.scale" config="{min:0, max:3, step:0.05}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate X</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotateX" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate Y</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotateY" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div><div class="kong-ui__floatContainer__row"><div class="kong-ui__floatContainer__title">Rotate Z</div><div class="kong-ui__floatContainer__field"><kong-ed-slider model="$ctrl.model.rotateZ" config="{min:-1000, max:1000, step:1}"></kong-ed-slider></div></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdRadio",{controller:function(){var e=new Date;this.uniqueID="radio-uq-"+e.getMilliseconds()},template:'<div ng-repeat="(k, v) in ::$ctrl.config" style="margin-bottom:5px"><label><input type="radio" ng-model="$ctrl.model" name="{{::$ctrl.uniqueID}}" value="{{::v}}"/> {{::k}}</label></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdResClass",{controller:["$scope",function(e){var t=this;"string"!=typeof this.model&&(this.model=""),this.m={},this.setDevice=function(){var e=!0,t=!1,n=void 0;try{for(var o,i=this.config.devices[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value;this.m[r]=-1!=this.model.indexOf(r)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},this.setDevice(),this.formClass=function(e){this.m[e]=!this.m[e];var t=[];for(var n in this.m)this.m[n]&&t.push(this.config.prefix+"--"+n+"-"+this.config.suffix);this.model=t.join(" ")},e.$watch("$ctrl.model",function(){t.setDevice()})}],template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon" ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.m[d]}" ng-repeat="d in ::$ctrl.config.devices" ng-click="$ctrl.formClass(d)"><span class="lmr lmr-{{::d}}"></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};[{type:"text",default:{desktop:0},hasConfig:!0},{type:"slider",default:{desktop:0},hasConfig:!0},{type:"area",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"area2",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"unit",default:{desktop:"0px"},hasConfig:!0},{type:"text-align",default:{desktop:""},hasConfig:!1},{type:"align",default:{desktop:""},hasConfig:!1},{type:"spacing",default:{desktop:{margin:"0px 0px 0px 0px",border:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}},hasConfig:!0},{type:"selection",default:{desktop:""},hasConfig:!0},{type:"v-align",default:{desktop:""},hasConfig:!1},{type:"text-buttons",default:{desktop:""},hasConfig:!0},{type:"image-buttons",default:{desktop:""},hasConfig:!0},{type:"icon-buttons",default:{desktop:""},hasConfig:!0}].forEach(function(e){for(var n=e.type.split("-"),o=0;o<n.length;o++){var i=n[o];n[o]=i.charAt(0).toUpperCase()+i.substring(1)}var r=n.join(""),a={model:"="};e.hasConfig&&(a.config="<"),angular.module("kong.builder.app").component("kongEdRes"+r,{controller:["$KongService",function(n){this.devices=["desktop","tablet","mobile"],this.service=n,void 0!==this.model&&"object"==t(this.model)||(this.model=angular.merge({},e.default)),this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")}}],template:'<div class="kong-ui__resDevice" ng-class="\'kong-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="kong-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="kong-ui__resDevice__editor"><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><kong-ed-'+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.desktop" ng-if="$ctrl.onDesktop()"></kong-ed-'+e.type+"><kong-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.tablet" ng-if="$ctrl.onTablet()"></kong-ed-'+e.type+"><kong-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.mobile" ng-if="$ctrl.onMobile()"></kong-ed-'+e.type+"></div></div>",bindings:a})})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdResImage",{controller:["$KongService",function(e){"object"!==t(this.model)&&(this.model={enable:!1,desktop:"100vw",tablet:"100vw",mobile:"100vw"});var n=function(e){var t=e.split("-");return Math.floor(100*parseInt(t[0])/parseInt(t[1]))};this.autoGenerate=function(){for(var o=e.getParentNode(e.edited);"column"!=o.tag;)if(o=e.getParentNode(o),"object"!=(void 0===o?"undefined":t(o)))return;var i=o.attrs.width;this.model.desktop=n(i.desktop)+"vw",i.hasOwnProperty("tablet")?this.model.tablet=n(i.tablet)+"vw":this.model.tablet=this.model.desktop,i.hasOwnProperty("mobile")?this.model.mobile=n(i.mobile)+"vw":i.hasOwnProperty("tablet")?this.model.mobile=this.model.tablet:this.model.mobile=this.model.desktop}}],template:'<div class="kong-ui__resImage"><div class="kong-ui__sub-container"><kong-ed-switch model="$ctrl.model.enable"></kong-ed-switch><div class="kong-ui--marginTop10"><p class="kong-ui__desc" ng-if="!$ctrl.model.enable">Enable this button to implement responsive mode for the image via <strong>srcset</strong>.</p><p class="kong-ui__desc" ng-if="$ctrl.model.enable">Depending on the context layout, you can choose the optional sizes for images to display on desktop, tablet or mobile.</p></div></div><div ng-if="$ctrl.model.enable"><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.desktop" config="{icon:\'lmr lmr-desktop\'}"></kong-ed-text-icon></div><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.tablet" config="{icon:\'lmr lmr-tablet\'}"></kong-ed-text-icon></div><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.mobile" config="{icon:\'lmr lmr-mobile\'}"></kong-ed-text-icon></div><div class="kong-ui--marginTop15 kong-ui--alignRight"><button class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-click="$ctrl.autoGenerate()">Auto Generate</button></div></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdRichEditor",{controller:["$scope",function(e){this.options={theme:"modern",paste_as_text:!0,menubar:!1,content_css:["//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i"],content_style:"body{font-family:'Open sans',sans-serif!important; font-weight:300!important; font-size:12px!important;}",setup:function(t){t.shortcuts.add("meta+s","Trigger save",function(){e.$emit("promptSave")}),t.on("init",function(){t.formatter.register("serif_font",{inline:"span",classes:"kong-serif"})}),t.addButton("serifFont",{text:"Serif",tooltip:"Serif Font",icon:!1,onclick:function(){t.execCommand("mceToggleFormat",!1,"serif_font")},onpostrender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("serif_font",function(t){e.active(t)})})}})},plugins:["colorpicker hr lists paste textcolor link fullscreen paste"]},"object"==t(this.config)?this.options=angular.merge(this.options,this.config):this.options=angular.merge(this.options,{force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",toolbar1:"bold italic underline strikethrough link unlink fullscreen | forecolor backcolor | serifFont"})}],template:'<textarea ui-tinymce="$ctrl.options" ng-model="$ctrl.model" style="opacity:0"></textarea>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSelection",{controller:function(){},template:'<select ng-model="$ctrl.model" class="kong-ui__select"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSelectionLoader",{controller:["$http",function(e){var t=this;t.items=[],t.update=function(){t.state="loading",e({cache:!1,method:"GET",url:t.config.rest_url?angular.module("kong.builder.app").__config.rest_url+t.config.url:t.config.url}).then(function(e){void 0!==e.data&&(t.items=e.data,t.state="loaded",sessionStorage.setItem(t.config.url,JSON.stringify(e.data)))},function(){t.state="fail"})};var n=sessionStorage.getItem(t.config.url);if(n)try{t.items=JSON.parse(n),t.state="loaded"}catch(e){t.update()}else t.update()}],template:'<div class="kong-ui__loader" ng-class="\'kong-ui__loader--\'+$ctrl.state"><div class="kong-ui__loader__preload"><span></span><span></span><span></span></div><div class="kong-ui__loader__failer">Error! Cannot get data from Server.</div></div><div ng-if="$ctrl.state==\'loaded\'"><kong-selection model="$ctrl.model" list="$ctrl.items" name="$ctrl.config.name"></kong-selection><div class="kong-ui--marginTop7 kong-ui--alignRight" ng-if="::$ctrl.config.add_new_url"><a class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small kong-ui--marginRight3" target="_blank" href="{{$ctrl.config.add_new_url}}">Add New</a><button class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--small" ng-click="$ctrl.update()">Update</button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSlider",{controller:function(){var e=this;isNaN(this.model)&&(this.model=0),this.onBlur=function(){isNaN(e.model)?e.model=e.config.min:e.model>e.config.max?e.model=e.config.max:e.model<e.config.min&&(e.model=e.config.min)},this.update=function(e){this.model=e}},template:'<div class="kong-ui__slider__wrap"><kong-slider config="$ctrl.config" model="$ctrl.model" on-update="$ctrl.update(v)"></kong-slider><input type="number" app-undo-redo ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }" ng-blur="$ctrl.onBlur()"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSpacing",{controller:["$scope",function(e){var t=this;this.link=!1,this.toggleLink=function(){this.link=!this.link},this.reset=function(){void 0===this.model.margin&&(this.model.margin="0px 0px 0px 0px"),void 0===this.model.border&&(this.model.border="0px 0px 0px 0px"),void 0===this.model.padding&&(this.model.padding="0px 0px 0px 0px")},e.$watch("$ctrl.model",function(){t.reset()})}],template:'<div class="kong-ui__spacing"><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.margin" identity="Margin" link="$ctrl.link" config="$ctrl.config.margin" drag-config="{min:-300, max:300, step:1}"></kong-ed-spacing-layer><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.border" identity="Border" link="$ctrl.link" config="$ctrl.config.border" drag-config="{min:0, max:50, step:1}"></kong-ed-spacing-layer><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.padding" identity="Padding" link="$ctrl.link" config="$ctrl.config.padding" drag-config="{min:0, max:500, step:1}"></kong-ed-spacing-layer><div class="kong-ui__spacing__link" ng-click="$ctrl.toggleLink()"><i class="fa fa-{{$ctrl.link?\'link\':\'chain-broken\'}}" aria-hidden="true"></i></div></div>',bindings:{config:"<",model:"="}}),angular.module("kong.builder.app").component("kongEdSpacingLayer",{controller:["$timeout","$scope",function(e,t){var n=this;n.keyPress={isMeta:!1,isShift:!1},this.$onInit=function(){this.reset()},this.reset=function(){e(function(){if(n.model){var e=n.model.split(" ");n.top=e[0],n.right=e[1],n.bottom=e[2],n.left=e[3]}})},t.$watchGroup(["$ctrl.parent","$ctrl.model"],function(){n.reset()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t},this.formModel=function(t){e(function(){if(n.link){var e=n.bottom;n.config[3]&&(n.left=e),n.config[0]&&(n.top=e),n.config[1]&&(n.right=e)}if(n.keyPress.isMeta&&n.keyPress.isShift)n.config[0]&&(n.top=n[t]),n.config[1]&&(n.right=n[t]),n.config[2]&&(n.bottom=n[t]),n.config[3]&&(n.left=n[t]);else if(n.keyPress.isMeta)switch(t){case"top":n.bottom=n.top;break;case"bottom":n.top=n.bottom;break;case"left":n.right=n.left;break;case"right":n.left=n.right}n.model=[n.top,n.right,n.bottom,n.left].join(" ")})}}],template:'<div class="kong-ui__spacing__layer kong-ui__spacing__layer--{{$ctrl.identity}}"><h6 class="kong-ui__spacing__identity" ng-bind="$ctrl.identity"></h6><kong-sp-spacing-input ng-if="$ctrl.config[0]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.top" change="$ctrl.formModel(\'top\')" position="top" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[1]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.right" change="$ctrl.formModel(\'right\')" position="right" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[2]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" model="$ctrl.bottom" change="$ctrl.formModel(\'bottom\')" position="bottom" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[3]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.left" change="$ctrl.formModel(\'left\')" position="left" config="$ctrl.dragConfig"></kong-sp-spacing-input></div>',bindings:{model:"=",parent:"=",link:"<",identity:"@",config:"<",dragConfig:"<"}}),angular.module("kong.builder.app").component("kongSpSpacingInput",{controller:function(){this.updateKeyPress=function(e,t){this.onUpdateKeypress({meta:e,shift:t})}},template:'<div class="kong-ui__spacing__field kong-ui__spacing__field--{{::$ctrl.position}}"><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta, shift)" class="kong-ui__spacing__field__input" type="text" ng-model="$ctrl.model" ng-change="$ctrl.change()" config="$ctrl.config"><span class="kong-ui__spacing__field__model" ng-bind="$ctrl.model"></span></div>',bindings:{model:"=",change:"&",position:"@",config:"<",onUpdateKeypress:"&"}})},function(e,exports){"use strict";var t=0;angular.module("kong.builder.app").component("kongEdSwitch",{controller:function(){this.id="lbswid-"+ ++t},template:'<div class="kong-ui__switch"><input class="kong-ui__switch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="kong-ui__switch__btn" for="{{::$ctrl.id}}"><span class="kong-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTag",{controller:function(){},template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--tag" ng-click="$ctrl.model=tag" ng-repeat="tag in ::$ctrl.config" ng-bind="::tag" ng-class="{\'kong-ui__buttonGroup__btn--active\': $ctrl.model == tag}"></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdText",{controller:function(){},template:'<div class="kong-ui__text"><input app-undo-redo class="kong-ui__text__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="kong-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextAlign",{controller:function(){this.aligns=["left","center","right","justify"],this.active="active",this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextButtons",{controller:function(){this.config.hasOwnProperty("class")?this.class="kong-ui__buttonGroup__btn--"+this.config.class:this.class="kong-ui__buttonGroup__btn--smallText"},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind-html="::v"></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextIcon",{controller:function(){},template:'<div class="kong-ui__text kong-ui__text--hasIcon"><span class="kong-ui__text__icon"><i class="{{::$ctrl.config.icon}}"></i></span><input app-undo-redo class="kong-ui__text__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:500}"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextTransform",{controller:function(){void 0===this.model&&(this.model=""),this.sample={AA:"uppercase",Aa:"capitalize",aa:"lowercase"},this.setModel=function(e){this.model=this.model==e?"":e}},template:'<div class="kong-ui__textTransform"><div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn"ng-repeat="(k, v) in $ctrl.sample"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-click="$ctrl.setModel(v)"><span class="kong-ui__textTransform__value" ng-bind="::k"></span></button></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextarea",{controller:function(){},template:'<textarea app-undo-redo class="kong-ui__textarea" ng-trim="true" ng-model="$ctrl.model" rows="5" cols="20"  ng-model-options="{ debounce: 250 }"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";var t=0;angular.module("kong.builder.app").component("kongEdTinySwitch",{controller:function(){this.id="lbtswid-"+ ++t},template:'<div class="kong-ui__tinySwitch"><input class="kong-ui__tinySwitch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="kong-ui__tinySwitch__btn" for="{{::$ctrl.id}}"><span class="kong-ui__tinySwitch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUiSelect",{controller:function(){},template:'<ui-select ng-model="$ctrl.model" theme="selectize" style="width: 100%;" title="{{::$ctrl.config.title}}"><ui-select-match placeholder="{{::$ctrl.config.placeholder}}">{{$select.selected.key}}</ui-select-match><ui-select-choices repeat="item.value as item in $ctrl.config.options|filter: $select.search"><span ng-bind="item.key"></span></ui-select-choices></ui-select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUnit",{controller:["$scope",function(e){var t=this;void 0===this.config&&(this.config={}),this.config.hasOwnProperty("setting")||(this.config.setting={min:0,max:1e3,step:1}),this.config.hasOwnProperty("units")||(this.config.units=["px","em","%"]);var n=function(){var e=void 0,n=void 0,o=!0,i=!1,r=void 0;try{for(var a,s=t.config.units[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var l=a.value;if(-1!=(e=t.model.lastIndexOf(l))){n=l;break}}}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}if(-1!=e){var c=t.model.substring(0,e);isNaN(c)||(t.number=+c,t.unit=n)}else t.model="0"+t.config.units[0],t.number=0,t.unit=t.config.units[0]};"string"!=typeof this.model?(this.model="0"+this.config.units[0],this.number=0,this.unit=this.config.units[0]):n(),this.formModel=function(e){this.unit=e,this.model=this.number+this.unit},e.$watch("$ctrl.model",function(){n()}),this.updateNumber=function(e){this.number=e,this.model=this.number+this.unit}}],template:'<div class="kong-ui__unit"><input dragnumber class="kong-ui__unit__input"config="$ctrl.config.setting" type="number"app-undo-redo ng-model-options="{debounce: 250}"ng-model="$ctrl.number"on-update-number="$ctrl.updateNumber(number)"ng-change="$ctrl.model=$ctrl.number+$ctrl.unit"/><div class="kong-ui__unit__selector"><span class="kong-ui__unit__selector__btn"ng-repeat="unit in ::$ctrl.config.units"ng-class="{\'kong-ui__unit__selector__btn--active\': $ctrl.unit == unit}"ng-click="$ctrl.formModel(unit)" ng-bind="::unit"></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdUploadImage",{controller:["$scope","$http",function(e,n){var o,i,r=this;"object"!==t(this.model)&&(this.model={url:""}),this.upload=function(){o=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),o.on("select",function(){i=o.state().get("selection").first().toJSON(),void 0!==r.config&&void 0!==r.config.full&&r.config.full?n({method:"GET",cache:!0,url:angular.module("kong.builder.app").__config.global_api+"/image-sizes",params:{id:i.id,url:i.url}}).then(function(e){r.model.url=i.url,r.model.id=i.id,r.model.padding=100*i.sizes.full.height/i.sizes.full.width,r.model.width=i.sizes.full.width,r.model.height=i.sizes.full.height,-1!=e.data?r.model.sizes=e.data:delete r.model.sizes},function(e){r.model.url=i.url,r.model.id=i.id,r.model.padding=100*i.sizes.full.height/i.sizes.full.width,r.model.width=i.sizes.full.width,r.model.height=i.sizes.full.height,delete r.model.sizes}):e.$apply(function(){r.model.url=i.url})}),o.open()},this.remove=function(){this.model.url=""}}],template:'<div class="kong-ui__upload-image"><div class="kong-ui__upload-image__empty" ng-show="!$ctrl.model.url" ng-click="$ctrl.upload()"><div class="kong-ui__upload-image__empty__icon"><i class="lmr lmr-upload2"></i><span>Upload</span></div></div><div class="kong-ui__upload-image__image" ng-class="::{\'kong-ui__upload-image__image--contain\':$ctrl.config.contain}" ng-show="$ctrl.model.url" ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\'}"><span title="Remove the Image" class="kong-ui__upload-image__image__remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></span><span title="Re-Upload Image" class="kong-ui__upload-image__image__reupload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUploadImageV2",{controller:["$scope",function(e){var t,n,o=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),t.on("select",function(){n=t.state().get("selection").first().toJSON(),void 0!==o.config&&void 0!==o.config.full&&o.config.full?$http({method:"GET",cache:!0,url:angular.module("kong.builder.app").__config.global_api+"/image-sizes",params:{id:n.id,url:n.url}}).then(function(e){o.model.url=n.url,o.model.id=n.id,o.model.padding=100*n.sizes.full.height/n.sizes.full.width,-1!=e.data?o.model.sizes=e.data:delete o.model.sizes},function(e){o.model.url=n.url,o.model.id=n.id,o.model.padding=100*n.sizes.full.height/n.sizes.full.width,delete o.model.sizes}):e.$apply(function(){o.model.url=n.url})}),t.open()},this.remove=function(){this.model.url=""},this.updatePosition=function(e){this.model.position=e}}],template:'<div class="kong-ui__upload-image-v2" ng-class="{\'kong-ui__upload-image-v2--empty\': !$ctrl.model.url}"><div class="kong-ui__upload-image-v2__container"><div class="kong-ui__upload-image-v2__empty" ng-click="$ctrl.upload()"><div class="kong-ui__upload-image-v2__empty__icon"><span class="lmr lmr-upload2"></span>Upload Image </div></div><div class="kong-ui__upload-image-v2__image"ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\', \'background-position\':$ctrl.model.position}"drag-position model="$ctrl.model.position" on-update="$ctrl.updatePosition(position)"></div></div><div class="kong-ui__upload-image-v2__btns"><span title="Re-upload" class="kong-ui__upload-image-v2__btn-upload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i> Upload</span><span title="Remove" class="kong-ui__upload-image-v2__btn-remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i> Remove</span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdVAlign",{controller:function(){this.aligns={"align-left":"left","align-center-vertical":"center","align-right":"right"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("appUndoRedo",["$KongService","$KongHotKeys",function(e,t){return{restrict:"A",link:function(n,o){Mousetrap(o[0]).bind(["mod+z"],function(o){return o.preventDefault(),t.active&&n.$apply(function(){e.commandManager.undo()}),!1}).bind(["mod+shift+z"],function(o){return o.preventDefault(),t.active&&n.$apply(function(){e.commandManager.redo()}),!1})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongAutoFocus",function(){return{restrict:"A",link:function(e,t,n){t.focus()}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongBsTabHandler",["$KongService",function(e){return{scope:{kongBsTabHandler:"@"},restrict:"A",link:function(t,n,o){if("editor"==t.kongBsTabHandler){var i=void 0;n.on("mouseenter",function(){void 0!==e.edited&&void 0!==(i=angular.element(e.getIframeElement(".lvh__"+e.getID(e.edited))))&&(i.addClass("kong-dnd__visual--show"),n.on("mouseleave",function(){i.removeClass("kong-dnd__visual--show"),i=void 0,n.unbind("mouseleave")}))}),n.on("click",function(){e.scrollToElement(e.edited)})}}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongDetectHoverNode",["$KongService",function(e){return{scope:{kongDetectHoverNode:"<"},restrict:"A",link:function(t,n,o){n.on("mouseenter",function(){e.hoveredNode=t.kongDetectHoverNode}),n.on("mouseleave",function(){e.hoveredNode=void 0})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("dragnumber",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{onUpdateNumber:"&",ngModel:"<",config:"<"},link:function(n,o,i){function r(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-l;var t=u<0?Math.floor(-u/g):-Math.floor(u/g);t=Math.abs(t)>Math.abs(u)?-u:t;var o=parseInt(p)+t*n.config.step;o>n.config.max&&(o=n.config.max),o<n.config.min&&(o=n.config.min),n.onUpdateNumber({number:o})},10)}function a(){e.off("mousemove",r),e.off("mouseup",a),f.remove()}void 0==n.ngModel&&(n.ngModel=0);var s,l=0,c=0,d=0,u=0,p=0,g=300/((n.config.max-n.config.min)/n.config.step);o.css({cursor:"ns-resize"});var f=angular.element("<div></div>");f.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),o.on("mousedown",function(t){p=n.ngModel,l=t.pageX,c=t.pageY,e.on("mousemove",r),e.on("mouseup",a),angular.element("body").append(f)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("dragPosition",["$document","$timeout",function(e,t){return{restrict:"A",scope:{model:"<",onUpdate:"&"},link:function(n,o,i){function r(e){t.cancel(c),g=e.pageY-u,p=e.pageX-d,l=g<0?0:g>f?100:100*g/f,s=p<0?0:p>_?100:100*p/_,c=t(function(){n.onUpdate({position:s.toFixed(2)+"% "+l.toFixed(2)+"%"})},10)}function a(){e.off("mousemove",r),e.off("mouseup",a)}var s,l,c=void 0,d=0,u=0,p=0,g=0,f=o.height(),_=o.width();n.model||n.onUpdate({position:"50% 50%"});var m=angular.element('<span class="drag-point"></span>');o.append(m),n.$watch("model",function(){var e=n.model.split(" ");p=e[0],g=e[1],g=parseFloat(g.substring(0,g.length-1))*f/100,p=parseFloat(p.substring(0,p.length-1))*_/100,m.css({top:g+"px",left:p+"px"})}),m.on("mousedown",function(t){t.preventDefault(),d=t.pageX-p,u=t.pageY-g,e.on("mousemove",r),e.on("mouseup",a)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongDragUnit",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{ngChange:"&",ngModel:"=",config:"<",onUpdateKeypress:"&"},link:function(n,o,i){function r(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-l;var o=u<0?Math.floor(-u/f):-Math.floor(u/f);o=Math.abs(o)>Math.abs(u)?-u:o,n.ngModel=parseInt(p)+o*n.config.step,n.ngModel>n.config.max&&(n.ngModel=n.config.max),n.ngModel<n.config.min&&(n.ngModel=n.config.min),n.ngModel+=g,n.onUpdateKeypress({meta:e.metaKey,shift:e.shiftKey}),void 0!==n.ngChange&&t(n.ngChange,0)},10)}function a(){e.off("mousemove",r),e.off("mouseup",a),_.remove(),n.onUpdateKeypress({meta:!1,shift:!1})}void 0===n.ngModel&&(n.ngModel="0px");var s=void 0,l=0,c=0,d=0,u=0,p=0,g="px",f=300/((n.config.max-n.config.min)/n.config.step);o.css({cursor:"ns-resize"}),o.on({keydown:function(e){if(32===e.which)return!1},change:function(){this.value=this.value.replace(/\s/g,"")}});var _=angular.element("<div></div>");_.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),o.on("mousedown",function(t){/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.test(n.ngModel)||(n.ngModel="0px");var o=/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.exec(n.ngModel);g=o[o.length-1],p=o[1],l=t.pageX,c=t.pageY,e.on("mousemove",r),e.on("mouseup",a),angular.element("body").append(_)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("embedFontSource",function(){return{restrict:"E",scope:{directiveModel:"<",selector:"@"},link:function(e,t,n){e.$watch("directiveModel",function(){if("google"==e.directiveModel.source){t.html("");var n=jQuery("<link rel='stylesheet'/>"),o=jQuery("<style type='text/css'></style>");if(t.append(n),t.append(o),e.directiveModel.google){var i=e.directiveModel.google.variant.match(/[0-9]+/g),r=e.directiveModel.google.variant.match(/[a-z]+/g),a=null!=i?i:"normal",s="normal";"regular"==r?(a="normal",s="normal"):"italic"==r&&(s="italic"),n.attr("href","https://fonts.googleapis.com/css?family="+e.directiveModel.google.family+":"+e.directiveModel.google.variant+"&subset="+e.directiveModel.google.subset),o.html(e.selector+"{font-family:"+e.directiveModel.google.family+";font-style:"+s+";font-weight:"+a+";}")}}else if("uploaded"==e.directiveModel.source){var l="";if(angular.module("kong.builder.app").__config.uploaded_fonts.hasOwnProperty(e.directiveModel.uploaded)){var c=angular.module("kong.builder.app").__config.uploaded_fonts[e.directiveModel.uploaded];if(c.enable){var d=c.family,u="";c.fallback&&(u=", "+c.fallback),d||(d="font_uploaded_"+e.directiveModel.uploaded),l='<style type="text/css">'+e.selector+" {font-family: '"+d+"'"+u+";}</style>"}}t.html(l)}else if("typekit"==e.directiveModel.source){var o="";e:for(var p in angular.module("kong.builder.app").__config.typekit_fonts)if(angular.module("kong.builder.app").__config.typekit_fonts[p].active){var g=!0,f=!1,_=void 0;try{for(var m,v=angular.module("kong.builder.app").__config.typekit_fonts[p].fonts[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value;if(h.id==e.directiveModel.typekit){var b="";h.fallback&&(b=", "+h.fallback),o='<style type="text/css">'+e.selector+" {font-family: '"+h.family+"'"+b+";}</style>";break e}}}catch(e){f=!0,_=e}finally{try{!g&&v.return&&v.return()}finally{if(f)throw _}}}t.html(o)}else t.html("")},!0)}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongExpandWatcher",function(){return{restrict:"A",scope:{kongExpandWatcher:"<"},link:function(e,t,n){var o=0;e.$watch("kongExpandWatcher",function(){e.kongExpandWatcher?(o=t.scrollTop(),t.scrollTop(0),t.addClass("kong-bs__editor__body--hidden")):(t.removeClass("kong-bs__editor__body--hidden"),t.scrollTop(o))})}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,o){var i=e(o.fileModel),r=i.assign;n.bind("change",function(){t.$apply(function(){r(t,n[0].files[0])})})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("frontendCompile",["$KongService",function(e){return{restrict:"EA",scope:{model:"<",attrs:"<",watchContent:"<",callback:"@",delay:"@",destroyCallback:"@"},link:function(t,n,o){var i=e.getIframeJQuery(),r=i(n);if(Array.isArray(t.attrs)){var a,s=t.attrs.map(function(e){return"model.attrs."+e}),l={},c=t.delay?parseInt(t.delay):500;t.watchContent&&s.push("model.content"),t.$watchGroup(s,function(){clearTimeout(a),a=setTimeout(function(){t.attrs.forEach(function(e){l[e]=t.model.attrs[e]}),t.watchContent&&(l.content=t.model.content),r[t.callback](l)},c)})}else t.callback&&r[t.callback]();n.on("$destroy",function(){a&&clearTimeout(a),t.destroyCallback&&"function"==typeof r[0][t.destroyCallback]&&r[0][t.destroyCallback]()})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("googleFonts",["$http",function(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,n,o){n.append('<div class="kong-ui__loader__preload"><span></span><span></span><span></span></div>'),e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(e){var o=!1;t.$watch("ngModel",function(){function i(e,t){a&&a.empty(),f="";for(var o in e){var i=e[o]==t?" selected = 'selected' ":"";f+='<option value="'+e[o]+'"'+i+">"+e[o]+"</option>"}s?(s.select2("destroy"),s.append(f),s.select2()):(a.append(f),n.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-variants'>Variants</p>").append(a)),s=jQuery(a).select2())}function r(e,t){l&&l.empty(),_="";for(var o in e){var i=e[o]==t?" selected = 'selected' ":"";_+='<option value="'+e[o]+'"'+i+">"+e[o]+"</option>"}c?(c.select2("destroy"),c.append(_),c.select2()):(l.append(_),n.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-subsets'>Subsets</p>").append(l)),c=jQuery(l).select2())}if(o)return void(o=!1);var a,s,l,c,d,u=new Date,p=angular.element('<select id="kong-google-fonts-'+u.getTime()+'" style="width: 100%"></select>'),g="",f="",_="";t.ngModel||(t.ngModel={family:"Open Sans",variant:"regular",subset:"latin"});for(var m in e.data.items){var v=e.data.items[m],h="";v.family==t.ngModel.family&&(h=" selected='selected'",d=v),g+='<option value="'+m+'"'+h+">"+v.family+"</option>"}n.html(""),n.append(p.append(g)),p.select2(),a=angular.element('<select id="google-fonts-variants-'+u.getTime()+'"></select>'),i(d.variants,t.ngModel.variant),l=angular.element('<select id="google-fonts-subsets-'+u.getTime()+'"></select>'),r(d.subsets,t.ngModel.subset),p.on("change",function(){o=!0;var n=e.data.items[jQuery(this).val()];t.$apply(function(){t.ngModel.family=n.family,t.ngModel.category=n.category,t.ngModel.variant=n.variants[0],t.ngModel.subset=n.subsets[0],i(n.variants,n.variants[0]),r(n.subsets,n.subsets[0])})}),s.on("change",function(){o=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.variant=e.val()})}),c.on("change",function(){o=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.subset=e.val()})})},!0)},function(e){n.addClass("kong-ui__loader--fail"),n.html('<div class="kong-ui__loader__failer">Error! Cannot get data.</div>')})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongIconList",function(){return{scope:{model:"<",onUpdate:"&",icons:"<",expand:"<",config:"<"},link:function(e,t,n){var o=!0,i=void 0,r=angular.element("<div id='kong-ui-icon-list' class='kong-ui__icons__container'></div>"),a=angular.element("<input class='kong-ui__icons__search__input kong-ui__input-text search' type='text' class='search' placeholder='Search for icons...'/>"),s=angular.element("<span class='kong-ui__icons__search__clear-btn'><i class='lmr lmr-cross'></i></span>"),l=angular.element("<div class='kong-ui__icons__search'></div>").append(a).append(s),c=angular.element("<ul class='kong-ui__icons__list list'></ul>");e.config.requireValue&&c.addClass("kong-ui__icons__list--requireValue"),r.append(l);var d=!0,u=!1,p=void 0;try{for(var g,f=e.icons[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){var _=g.value,m=angular.element('<li class="kong-ui__icons__item" data-value="'+_+'"><i title="'+_+'" class="'+e.config.source+" "+e.config.source+"-"+_+'"></i></li>');e.model==_&&(m.addClass("active"),i=m),m.on("click",function(){var t=angular.element(this);t.hasClass("active")?t.hasClass("active")&&!e.config.requireValue&&(t.removeClass("active"),i=void 0,e.$apply(function(){e.onUpdate({icon:""})})):(void 0!==i&&i.removeClass("active"),t.addClass("active"),i=t,e.$apply(function(){e.onUpdate({icon:t.attr("data-value")})}))}),c.append(m)}}catch(e){u=!0,p=e}finally{try{!d&&f.return&&f.return()}finally{if(u)throw p}}e.$watch("model",function(){if(o)return void(o=!1);i.removeClass("active");var t=c.children('[data-value="'+e.model+'"]');t.length&&(i=t,i.addClass("active"))}),r.append(c),t.append(r),void 0!==i&&(t.closest(".kong-ui__icons__wrap")[0].scrollTop=i[0].offsetTop);var v=new List("kong-ui-icon-list",{valueNames:[{attr:"title",name:e.config.source}]});s.on("click",function(){a.attr("value",""),v.search()}),e.$watch("expand",function(){e.expand?void 0!==i&&setTimeout(function(){c[0].scrollTop=i[0].offsetTop}):(a.attr("value",""),v.search(),void 0!==i&&setTimeout(function(){t.closest(".kong-ui__icons__wrap")[0].scrollTop=i[0].offsetTop}))}),v.on("searchStart",function(){a.attr("value")?s.addClass("kong-ui__icons__search__clear-btn--active"):s.removeClass("kong-ui__icons__search__clear-btn--active")})}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongInputSectionName",["$KongService","$rootScope",function(e,t){return{restrict:"A",link:function(n,o,i){var r=!0,a=e.getIframeElement("."+e.getID(e.mapped)),s=[a.querySelector(".kong-dnd__visual--lv1 .kong-dnd__visual__label__name span"),a.querySelector(".kong-dnd__empty--lv2 span")];o.on("change keydown paste input",function(){r&&(r=!1,t.$emit("forceEnableSave"));var n=o.val().trim();s.forEach(function(t){t.innerHTML=e.mapped.name=n||"Section"})})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongKeepVisualLabel",["$timeout",function(e){return{restrict:"A",link:function(e,t,n){var o=t.closest(".kong-dnd__visual");t.on("mouseenter",function(){o.addClass("kong-dnd__visual--keep")}),t.on("mouseleave",function(){o.removeClass("kong-dnd__visual--keep")})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("lbMenuVs",["$http",function(e){return{restrict:"E",scope:{ngModel:"=",depth:"@",nodeId:"@"},link:function(t,n,o){var i=void 0,r=angular.element('<div class="kong-dnd__errorMessage"><p>Error in getting data</p></div>'),a=angular.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),s=!1;angular.module("kong.builder.app");t.$watch("ngModel",function(o){if(s)return void(s=!1);clearTimeout(i),i=setTimeout(function(){o?(n.html(a),e({cache:!0,method:"GET",url:angular.module("kong.builder.app").__config.global_api+"/menus/"+o,params:{depth:t.depth,current_menu_type:angular.module("kong.builder.app").__config.current_menu_type,current_menu_object:angular.module("kong.builder.app").__config.current_menu_object}}).then(function(e){e.data?n.html(e.data):(t.ngModel=0,n.html(""),void 0!==t.nodeId&&t.$emit("blink-watchers-"+t.nodeId))},function(e){n.html(r)})):n.html("")},250)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongSelection",function(){return{restrict:"E",scope:{list:"<",name:"<",model:"="},link:function(e,t,n){var o=new Date,i=angular.element('<select id="kong-selection-'+o.getTime()+'" style="width: 100%;"></select>');t.html(i),i.select2();var r=!1;i.on("change",function(){if(r)return void(r=!1);e.$apply(function(){e.model=jQuery(i).val()})}),e.$watch("list",function(){if(Array.isArray(e.list)){i.html(""),i.append('<option value="">Select a '+e.name+"</option>");var t=!0,n=!1,o=void 0;try{for(var r,a=e.list[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value,l=e.model==s.id?' selected="selected"':"";i.append('<option value="'+s.id+'"'+l+">"+s.name+"</option>")}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}}}),e.$watch("model",function(){var t=!1,n=!0,o=!1,a=void 0;try{for(var s,l=e.list[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){if(s.value.id==e.model){t=!0;break}}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}t||(e.model=""),r=!0,i.val(e.model).trigger("change")})}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongShortcode",["$KongService","$http",function(e,t){return{restrict:"E",scope:{tag:"@",addition:"@",model:"<",watchContent:"<",attrs:"<",callback:"<"},link:function(n,o,i){var r=void 0,a=e.getIframeJQuery(),s=angular.element('<div class="kong-dnd__errorMessage"><p>Error in getting data</p></div>'),l=angular.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>');if(Array.isArray(n.attrs)){var c=n.attrs.map(function(e){return"model.attrs."+e});n.watchContent&&c.push("model.content");var d=function(e){if(o.html(e),void 0!==n.callback&&Array.isArray(n.callback)){var t=!0,i=!1,r=void 0;try{for(var s,l=n.callback[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var c=s.value,d=a(o).find(c.selector);void 0!==c.args?d[c.function](c.args):d[c.function]()}}catch(e){i=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(i)throw r}}}};n.$watchGroup(c,function(){clearTimeout(r);var i="["+n.tag,a=!0,c=!1,u=void 0;try{for(var p,g=n.attrs[Symbol.iterator]();!(a=(p=g.next()).done);a=!0){var f=p.value;n.model.attrs.hasOwnProperty(f)&&(i+=" "+f+'="'+n.model.attrs[f]+'"')}}catch(e){c=!0,u=e}finally{try{!a&&g.return&&g.return()}finally{if(c)throw u}}n.addition&&(i+=" "+n.addition+" "),i+="]",n.watchContent&&"string"==typeof n.model.content&&(i+=n.model.content+"[/"+n.tag+"]");var _=e.getSessionData(i);if(_)return void d(_);o.html(l),r=setTimeout(function(){t({method:"POST",url:angular.module("kong.builder.app").__config.global_api+"/shortcodes",data:{shortcodes:i}}).then(function(t){_=t.data,e.setSessionData(i,_),d(t.data)},function(e){o.html(s)})},1e3)},!0)}}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongPostShortcode",["$http","$KongService",function(e,t){return{restrict:"E",scope:{model:"=",format:"@",nodeId:"@"},link:function(n,o,i){var r=void 0,a=angular.element('<div class="kong-dnd__errorMessage"><p>Error in getting data</p></div>'),s=angular.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>'),l=!1;n.$watch("model",function(){if(l)return void(l=!1);var i=n.format.replace("@model",n.model);if(clearTimeout(r),i){var c=t.getSessionData(i);if(c)return void o.html(c);o.html(s),r=setTimeout(function(){n.model?e({method:"GET",url:angular.module("kong.builder.app").__config.api+"/post-shortcode",params:{id:n.model,shortcode:i}}).then(function(e){-1!=e.data?(o.html(e.data),t.setSessionData(i,e.data)):(l=!0,n.model=0,o.html(""),"undefined"!=n.nodeId&&n.$emit("blink-watchers-"+n.nodeId))},function(e){o.html(a)}):o.html("")},1e3)}else o.html("")})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("lbShortcodeVs",["$http","$timeout","$KongService",function(e,t,n){return{restrict:"E",scope:{ngModel:"<",format:"@"},link:function(o,i,r){var a=void 0,s=angular.element('<div class="kong-dnd__errorMessage"><p>Error in getting data</p></div>'),l=angular.element('<div class="kong-dnd__loader"><div class="kong-dnd__loader__wrap"><span></span><span></span><span></span></div></div>');o.$watch("ngModel",function(){if(t.cancel(a),o.ngModel){var r=o.ngModel;void 0!==o.format&&(r=o.format.replace(/@model/g,o.ngModel));var c=n.getSessionData(r);if(c)return void i.html(c);i.html(l),a=t(function(){e({method:"POST",url:angular.module("kong.builder.app").__config.global_api+"/shortcodes",data:{shortcodes:r}}).then(function(e){c=e.data,n.setSessionData(r,c),i.html(e.data)},function(e){i.html(s)})},1e3)}},!0)}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongSlider",function(){return{restrict:"AE",scope:{model:"<",onUpdate:"&",config:"<"},link:function(e,t,n){var o=void 0,i=!1,r=t.find(".kong-ui__slider");r.slider({orientation:"horizontal",range:"max",min:e.config.min,max:e.config.max,step:e.config.step,values:[e.model],slide:function(t,n){e.$apply(function(){e.onUpdate({v:n.value}),i=!0;var t=(n.value-e.config.min)*r.width()/(e.config.max-e.config.min);o.width(t)})},change:function(t,n){var i=(n.value-e.config.min)*r.width()/(e.config.max-e.config.min);o.width(i)},create:function(e,n){o=t.find(".ui-slider-range")}}),e.$watch("model",function(){if(i)return void(i=!1);void 0!==e.model&&r.slider("values",0,e.model)})},template:'<div class="kong-ui__slider"></div>'}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("uploadedFonts",function(){return{restrict:"A",scope:{ngModel:"="},link:function(e,t,n){var o=new Date,i=angular.element('<select id="kong-uploaded-fonts-'+o.getTime()+'" style="width:100%"></select>');if(i.append('<option value="">Select a font</option>'),angular.module("kong.builder.app").__config.uploaded_fonts)for(var r in angular.module("kong.builder.app").__config.uploaded_fonts){var a=angular.module("kong.builder.app").__config.uploaded_fonts[r];if(a.enable){var s="";r==e.ngModel&&(s=" selected"),i.append('<option value="'+r+'"'+s+">"+a.name+"</option>")}}t.html(i),i.select2();var l=!1;i.on("change",function(){if(l)return void(l=!1);var t=jQuery(this).val();e.$apply(function(){e.ngModel=t})}),e.$watch("ngModel",function(){l=!0,i.val(e.ngModel).trigger("change")})}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongVisualHover",["$KongService",function(e){return{scope:{kongVisualHover:"<"},restrict:"A",link:function(t,n,o){n.on("mouseenter",function(){e.keepVisualNode(t.kongVisualHover)}),n.on("mouseleave",function(){e.removeVisualNode()})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongWidgetSearchFocus",["$rootScope",function(e){return{restrict:"A",link:function(t,n,o){e.$on("widget-search-focus",function(){setTimeout(function(){n.focus()},1e3)})}}}])},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.filter("canberepeated",function(){return function(t,n){if(!t)return t;if(!n)return t;var o=(""+n).toLowerCase(),i={};return e.forEach(t,function(e,t){-1!==(""+e).toLowerCase().indexOf(o)&&(i[t]=e)}),i}}),t.filter("dropcap",["$sce",function(e){return function(t){var n="";return t.length&&(t=t.split(""),t[0]="<span class='kong-dropcap__letter'>"+t[0]+"</span>",n=t.join("")),e.trustAsHtml(n)}}]),t.filter("trustashtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),t.filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),t.filter("shorten",[function(){return function(e,t){return e.length>=t?e.substring(0,t-3)+"...":e}}]),t.filter("slash",function(){return function(e){return e?e.replace("-","/"):""}}),t.filter("plus",function(){return function(e){return e?e.replace(" ","+"):""}})}(window.angular)},function(module,exports){"use strict";!function(angular){var app=angular.module("kong.builder.app");angular.module("kongOutputGenerator",["kongService"]).factory("$KongOutputGenerator",["$timeout","$rootScope","$KongService",function($timeout,$rootScope,$KongService){return{prefix:app.__config.class_prefix+"-",template_generated:!1,shortcode_templates:{},style_templates:{},responsive_style_templates:{},directive_templates:{},shortcode_count:1,style_object:{},tablet_style_object:{},mobile_style_object:{},style_link_array:[],uploaded_fonts:[],google_fonts:{},minify_box_value:function(e){for(var t=/(-?[0-9]+px -?[0-9]+px -?[0-9]+?px -?[0-9]+px)/g,n=e.split(t),o=[],i=0,r=n.length;i<r;i++)-1!==n[i].search(t)&&(o=n[i].split(" "),o[0]!==o[1]?o[0]===o[2]&&o[1]===o[3]&&(n[i]=n[i].replace(t,o[0]+" "+o[1])):o[0]===o[2]&&o[0]===o[3]&&(n[i]=n[i].replace(t,o[0])));return n.join("")},generate_css:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],o=0,i={};for(var r in e){var a=[];for(var s in e[r]){var l=e[r][s];""!=l&&a.push([s,":",l].join(""))}var c=a.join(";");i.hasOwnProperty(c)?i[c].push(r):c&&(i[c]=[r])}for(var d in i)n[o++]=i[d].join(",").replace(/\s?(>|,)\s?/g,"$1"),n[o++]="{",n[o++]=this.minify_box_value(d),n[o++]="}";return t&&n.length?[t,"{",n.join(""),"}"].join(""):n.join("")},generate_font_css:function(e){var t=[],n=0,o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var l=a.value;if(app.__config.uploaded_fonts.hasOwnProperty(l)){var c=app.__config.uploaded_fonts[l];if(c.enable){var d=c.family;d||(d="font_uploaded_"+l);c.fallback&&", "+c.fallback;var u="",p="",g=[];c.eot_link&&(u="src:url('"+c.eot_link+"');",g.push("url('"+c.eot_link+"?#iefix') format('embedded-opentype')")),c.woff_link&&g.push("url('"+c.woff_link+"') format('woff')"),c.woff2_link&&g.push("url('"+c.woff2_link+"') format('woff2')"),c.ttf_link&&g.push("url('"+c.ttf_link+"') format('truetype')"),c.svg_link&&g.push("url('"+c.svg_link+"#"+d+"') format('svg')"),g.length&&(p="src:"+g.join(",")+";"),t[n++]="@font-face{font-family:'"+d+"';"+u+p+"}"}}}}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return t.join("")},generate_save_data:function(e){this.template_generated||(this.shortcode_templates=angular.merge(this.shortcode_templates,window.kong_widget_manager.get_shortcode_templates()),this.style_templates=angular.merge(this.style_templates,window.kong_widget_manager.get_style_templates()),this.responsive_style_templates=angular.merge(this.responsive_style_templates,window.kong_widget_manager.get_responsive_style_templates()),this.directive_templates=angular.merge(this.directive_templates,window.kong_widget_manager.get_directive_templates()),this.template_generated=!0),this.shortcode_count=1,this.style_object={},this.tablet_style_object={},this.mobile_style_object={},this.style_link_array=[],this.google_fonts={};var t=this.generate_models(e),n=[this.generate_font_css(this.uploaded_fonts),this.generate_css(this.style_object),this.generate_css(this.tablet_style_object,"@media screen and (max-width: 768px)"),this.generate_css(this.mobile_style_object,"@media screen and (max-width: 512px)")];for(var o in this.google_fonts)this.style_link_array.push("https://fonts.googleapis.com/css?family="+o+":"+this.google_fonts[o].variants.join(",")+"&subset="+this.google_fonts[o].subsets.join(","));return{shortcodes:t,styles:{style:n.join(""),link:this.style_link_array}}},generate_models:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:app.__config.shortcode_prefix,n="",o="";if(angular.isArray(e)){var i=!0,r=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;o=""+this.prefix+this.shortcode_count,this.shortcode_count++,this.generate_tag_style(o,c.tag,c.attrs),this.generate_tag_responsive_style(o,c.tag,c.attrs),this.generate_tag_directive(o,c.tag,c.attrs),n+=this.generate_tag_shortcode(o,c,t)}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}}else o=""+this.prefix+this.shortcode_count,this.shortcode_count++,this.generate_tag_style(o,e.tag,e.attrs),this.generate_tag_responsive_style(o,e.tag,e.attrs),this.generate_tag_directive(o,e.tag,e.attrs),n+=this.generate_tag_shortcode(o,e,t);return n},generate_tag_style:function generate_tag_style(id,tag,attrs){if(this.style_templates.hasOwnProperty(tag)){var template=this.style_templates[tag];for(var attr in template){var attr_styles=template[attr],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=attr_styles[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var attr_style=_step3.value;if((!attr_style.hasOwnProperty("condition")||eval(attr_style.condition))&&(!attr_style.hasOwnProperty("when")||eval(attr_style.when)))for(var selector in attr_style.styles){var real_selector=selector.replace(/@id/g,"."+id);this.style_object.hasOwnProperty(real_selector)||(this.style_object[real_selector]={});for(var prop in attr_style.styles[selector]){var val=attr_style.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=expressions[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var expression=_step4.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*attrs(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g);if(expression=expression.replace(/(\d*[\/\*\+\-])*attrs(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model"),expression_models&&expression_models.length){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=expression_models[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var expression_model=_step5.value;expression=expression.replace("%model",eval(expression_model))}}catch(e){_didIteratorError5=!0,_iteratorError5=e}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}val=val.replace("%expression",expression)}}catch(e){_didIteratorError4=!0,_iteratorError4=e}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),this.style_object[real_selector][prop]=val}}}}catch(e){_didIteratorError3=!0,_iteratorError3=e}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}},generate_tag_responsive_style:function generate_tag_responsive_style(id,tag,attrs){if(this.responsive_style_templates.hasOwnProperty(tag)){var template=this.responsive_style_templates[tag];for(var attr in template){var attr_styles=template[attr],_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=attr_styles[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var attr_style=_step6.value,condition="";if((!attr_style.hasOwnProperty("condition")||eval(attr_style.condition))&&(!attr_style.hasOwnProperty("when")||eval(attr_style.when)))for(var selector in attr_style.styles){var real_selector=selector.replace(/@id/g,"."+id);this.style_object.hasOwnProperty(real_selector)||(this.style_object[real_selector]={}),attrs[attr].hasOwnProperty("tablet")&&!this.tablet_style_object.hasOwnProperty(real_selector)&&(this.tablet_style_object[real_selector]={}),attrs[attr].hasOwnProperty("mobile")&&!this.mobile_style_object.hasOwnProperty(real_selector)&&(this.mobile_style_object[real_selector]={});for(var prop in attr_style.styles[selector]){var val=attr_style.styles[selector][prop],tablet_val=attr_style.styles[selector][prop],mobile_val=attr_style.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression"),tablet_val=val.replace(/{{[^{}]+}}/g,"%expression"),mobile_val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _iterator7=expressions[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var expression=_step7.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*attrs(\.[a-z0-9_@]+)*([\/\*\+\-]\d*)*/g);expression=expression.replace(/(\d*[\/\*\+\-])*attrs(\.[a-z0-9_@]+)*([\/\*\+\-]\d*)*/g,"%model");var tablet_expression="",mobile_expression="";if(expression_models&&expression_models.length){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _iterator8=expression_models[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var expression_model=_step8.value;attrs[attr].hasOwnProperty("tablet")&&(tablet_expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"tablet")))),attrs[attr].hasOwnProperty("mobile")&&(mobile_expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"mobile")))),expression=expression.replace("%model",eval(expression_model.replace(/@device/g,"desktop")))}}catch(e){_didIteratorError8=!0,_iteratorError8=e}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}val=val.replace("%expression",expression),tablet_val=tablet_val.replace("%expression",tablet_expression),mobile_val=mobile_val.replace("%expression",mobile_expression)}}catch(e){_didIteratorError7=!0,_iteratorError7=e}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),this.style_object[real_selector][prop]=val,attrs[attr].hasOwnProperty("tablet")&&(this.tablet_style_object[real_selector][prop]=tablet_val),attrs[attr].hasOwnProperty("mobile")&&(this.mobile_style_object[real_selector][prop]=mobile_val)}}}}catch(e){_didIteratorError6=!0,_iteratorError6=e}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}}},generate_tag_directive:function generate_tag_directive(id,tag,attrs){if(this.directive_templates.hasOwnProperty(tag)){var template=this.directive_templates[tag];for(var attr in template){var attr_directive=template[attr];if(!attr_directive.hasOwnProperty("condition")||eval(attr_directive.condition)){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _iterator9=attr_directive.directives[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var directive=_step9.value,func_name=directive.tag.replace(/-/g,"_"),args=angular.merge({model:attrs[attr],id:id},directive.attrs);this[func_name](args)}}catch(e){_didIteratorError9=!0,_iteratorError9=e}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}}}},generate_tag_shortcode:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:app.__config.shortcode_prefix;if(angular.isObject(t)&&this.shortcode_templates.hasOwnProperty(t.tag)){var o="",i="",r=this.shortcode_templates[t.tag],a=n;if(r.hasOwnProperty("native")&&r.native||(a=""),"string"==typeof t.tag){if(""!==a&&(i="_"),o+="["+a+i+t.tag+' class_id="'+e+'"',angular.isObject(t.attrs)){var s=!0,l=!1,c=void 0;try{for(var d,u=r.attrs[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var p=d.value;if(t.attrs.hasOwnProperty(p)){var g=t.attrs[p];angular.isObject(g)&&(g.hasOwnProperty("$$hashKey")&&delete g.$$hashKey,g=JSON.stringify(g)),"string"!=typeof g&&(g=g.toString()),o+=" "+p+"='"+g.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\[/g,"_kong_bracket_open_").replace(/\]/g,"_kong_bracket_close_")+"'"}}}catch(e){l=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}}o+="]","string"==typeof t.content?o+=t.content:angular.isArray(t.content)&&(o+=this.generate_models(t.content,n)),o+="[/"+a+i+t.tag+"]"}return o}return""},add_style:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(var o in t){var i=t[o];o=o.replace(/@id/g,"."+n),e.hasOwnProperty(o)||(e[o]={}),e[o]=angular.merge(e[o],i)}},embed_font_source:function(e){if("google"==e.model.source){var t=angular.isObject(e.model.google)?e.model.google:{family:"Open Sans",variant:"regular",subset:"latin"},n=t.variant.match(/[0-9]+/g),o=t.variant.match(/[a-z]+/g),i=null!=n?n:"normal",r="normal";"regular"==o?(i="normal",r="normal"):"italic"==o&&(r="italic");var a=t.family.replace(/\s/g,"+");this.google_fonts.hasOwnProperty(a)||(this.google_fonts[a]={variants:[],subsets:[]}),-1==this.google_fonts[a].variants.indexOf(t.variant)&&this.google_fonts[a].variants.push(t.variant),-1==this.google_fonts[a].subsets.indexOf(t.subset)&&this.google_fonts[a].subsets.push(t.subset);var s={};s[e.selector]={"font-family":t.family,"font-weight":i,"font-style":r},this.add_style(this.style_object,s,e.id)}else if("uploaded"==e.model.source){if(app.__config.uploaded_fonts.hasOwnProperty(e.model.uploaded)){-1==this.uploaded_fonts.indexOf(e.model.uploaded)&&this.uploaded_fonts.push(e.model.uploaded);var l=app.__config.uploaded_fonts[e.model.uploaded];if(l.enable){var c=l.family,d="";l.fallback&&(d=", "+l.fallback),c||(c="font_uploaded_"+e.model.uploaded);var u={};u[e.selector]={"font-family":"'"+c+"'"+d},this.add_style(this.style_object,u,e.id)}}}else if("typekit"==e.model.source)e:for(var p in app.__config.typekit_fonts)if(app.__config.typekit_fonts[p].active){var g=!0,f=!1,_=void 0;try{for(var m,v=app.__config.typekit_fonts[p].fonts[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value;if(h.id==e.model.typekit){var b="";h.fallback&&(b=", "+h.fallback);var k={};k[e.selector]={"font-family":"'"+h.family+"'"+b},this.add_style(this.style_object,k,e.id);break e}}}catch(e){f=!0,_=e}finally{try{!g&&v.return&&v.return()}finally{if(f)throw _}}}}}}])}(window.angular)},function(e,exports){"use strict";!function(e){e.module("kongPopup",["kongService","kongHotKeys"]).factory("$KongPopup",["$timeout","$rootScope","$KongService","$KongHotKeys",function(t,n,o,i){return{showFsPopup:function(t){if(!document.querySelector(".kong-bs__fsPopup")){var n=e.element('<div class="kong-bs__fsPopup"><h6 class="kong-bs__fsPopup__title">'+t.title+'</h6><div class="kong-bs__fsPopup__body">'+t.message+'</div><div class="kong-bs__fsPopup__footer"></div></div><div class="kong-bs__fsPopup__backdrop"></div>'),o=n.find(".kong-bs__fsPopup__footer");e.element("body").append(n);var r=function(){n.remove(),"function"==typeof t.onClose&&t.onClose(n)},a=void 0;if(void 0===t.esc&&(t.esc=!0),t.esc?(a=function(){i.escKeyPressManager.execute()},i.escKeyPressManager.add(function(){return r(),!0})):a=function(){r()},Array.isArray(t.buttons))t.buttons.forEach(function(t){var n=e.element('<button class="kong-ui__btn"></button>');t.hasOwnProperty("text")?n.html(t.text):n.html("Dismiss"),t.hasOwnProperty("class")?n.addClass(t.class):n.addClass("kong-ui__btn--primary"),n.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),a()}),o.append(n)});else{var s=e.element('<button class="kong-ui__btn kong-ui__btn--primary">Dismiss</button>');o.append(s),s.on("click",function(e){e.preventDefault(),a()})}"function"==typeof t.onInit&&t.onInit(n)}}}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.__editableStack=[];var n={name:"bold",action:"bold",aria:"bold",tagNames:["strong","b"],useQueryState:!0,contentDefault:"<strong>B</strong>",contentFA:'<i class="fa fa-bold"></i>'},o={name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],useQueryState:!1,contentDefault:"<i>I</i>",contentFA:'<i class="fa fa-italic"></i>'};t.__config.editorSetting={0:{buttonLabels:"fontawesome",spellcheck:!1,toolbar:{allowMultiParagraphSelection:!0,buttons:[n,o,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight"]}},2:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!1,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[n,o,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight"]}},1:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!0,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[n,o,"underline","strikethrough"]}},3:{buttonLabels:"fontawesome",spellcheck:!1,disableReturn:!0,disableDoubleReturn:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:[n,o,"anchor","underline","strikethrough"]}},4:{buttonLabels:"fontawesome",spellcheck:!1,toolbar:{allowMultiParagraphSelection:!0,buttons:["h1","h2","h3","h4","h5","h6",n,o,"underline","anchor","strikethrough","justifyLeft","justifyCenter","justifyRight","orderedlist","unorderedlist","subscript","superscript","quote","pre","indent","outdent"]}}},t.directive("kongEditable",["$KongService","$sce","$rootScope",function(e,n,o){return{restrict:"A",scope:{model:"<",config:"<"},link:function(i,r,a){var s=void 0;o.$on("setEditableMode",function(){var o=function o(){if(r[0].removeEventListener("click",o),void 0===s){var a=e.getIframeWindow();s=a.setMediumEditor(r,t.__config.editorSetting[i.config.editorType]),"content"==i.config.target?s.setContent(n.trustAsHtml(i.model.content)):"-1"!=i.config.target.indexOf("attrs")&&s.setContent(n.trustAsHtml(i.model.attrs[i.config.target.split(".")[1]])),r.focus(),t.__editableStack.push(function(){"content"==i.config.target?i.model.content=s.getContent(0):"-1"!=i.config.target.indexOf("attrs")&&(i.model.attrs[i.config.target.split(".")[1]]=s.getContent(0)),s.destroy(),s=void 0})}};r[0].addEventListener("click",o),t.__editableStack.push(function(){r[0].removeEventListener("click",o)})}),i.$on("$destroy",function(){void 0!==s&&s.destroy()})}}}]),t.directive("kongTagWrap",["$KongService","$sce","$rootScope",function(n,o,i){return{restrict:"AE",scope:{tagName:"<",tagClass:"<",model:"<",prefix:"@"},link:function(r,a,s){var l=s.selector,c=document.createElement(r.tagName);r.$watch("tagName",function(){c=document.createElement(r.tagName),c.className=r.prefix?"kong-"+r.tagName+" "+l:l,c.innerHTML=r.model.content,a.empty().append(e.element(c))}),r.$watch("model.content",function(){c&&(c.innerHTML=r.model.content)}),r.$watch("tagClass",function(){c&&(c.className=r.prefix?"kong-"+r.tagName+" "+r.tagClass+" "+l:r.tagClass+" "+l)});var d=void 0;i.$on("setEditableMode",function(){var e=function e(){if(a[0].removeEventListener("click",e),void 0===d){var i=n.getIframeWindow();d=i.setMediumEditor(c,t.__config.editorSetting[3]),d.setContent(o.trustAsHtml(r.model.content)),a.focus(),t.__editableStack.push(function(){r.model.content=d.getContent(0),d.destroy(),d=void 0})}};a[0].addEventListener("click",e),t.__editableStack.push(function(){a[0].removeEventListener("click",e)})}),r.$on("$destroy",function(){void 0!==d&&d.destroy()})}}}]),t.component("editorMode",{controller:["$KongService","$rootScope","$timeout","$KongHotKeys",function(e,n,o,i){var r=this;this.service=e,n.$on("openEditableMode",function(){r.open()}),this.open=function(){e.editableMode||(e.editableMode=!0,i.pause(),setTimeout(function(){n.$emit("setEditableMode"),e.deactivateDraggable(),i.escKeyPressManager.add(function(){return Array.isArray(t.__editableStack)&&(t.__editableStack.forEach(function(e){"function"==typeof e&&e()}),t.__editableStack.length=0),i.resume(),e.editableMode=!1,setTimeout(function(){e.reactivateDraggable()}),!0})},1e3))},this.close=function(){i.escKeyPressManager.execute()}}],template:'<div class="kong-bs__editorMode"><button class="kong-bs__editorMode__openBtn" ng-click="$ctrl.open()"><span class="lmr lmr-pencil"></span></button><button class="kong-bs__editorMode__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button></div>'})}(window.angular)}]);