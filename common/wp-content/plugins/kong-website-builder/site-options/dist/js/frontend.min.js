!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){"use strict";t(1),t(77),t(5),t(84)},function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(){var e=function(){function e(){t(this,e),this.panels=JSON.parse(window.kong_app_data.panels),this.config={}}return n(e,[{key:"get_config_object",value:function(e){return this.config.hasOwnProperty(e)?this.config[e]:{}}},{key:"generate_panel",value:function(e,t){return this.config[t]={},this.generate_tag(e,this.config[t])}},{key:"generate_tag",value:function(e,t){for(var n="",o=0;o<e.length;o++){var i=e[o];if(i.hasOwnProperty("tag")||(i.tag="div"),"watch"!=i.tag){var l="",r="";i.hasOwnProperty("if")&&i.if?(l=i.if,l=l.replace(/@options/g,"$ctrl.service.options"),i.hasOwnProperty("attrs")&&i.attrs.hasOwnProperty("ng-if")&&delete i.attrs["ng-if"]):i.hasOwnProperty("show")&&i.show&&(r=i.show,r=r.replace(/@options/g,"$ctrl.service.options"),i.hasOwnProperty("attrs")&&i.attrs.hasOwnProperty("ng-show")&&delete i.attrs["ng-show"]),n+="<"+i.tag,l&&(n+=' ng-if="'+l+'"'),r&&(n+=' ng-show="'+r+'"'),i.bind_to&&(n+=' model="$ctrl.service.options.'+i.bind_to+'"',n+=' bind_to="'+i.bind_to+'"'),i.attrs&&angular.forEach(i.attrs,function(e,o){"config"==o?(n+=' config="$ctrl.config.'+i.bind_to+'"',t[i.bind_to]=i.attrs.config):("ng-if"!=o&&"ng-show"!=o||(e=e.replace(/@options/g,"$ctrl.service.options")),n+=" "+o+'="'+e+'"')}),n+=">",i.content&&(n+=this.generate_tag(i.content,t)),n+="</"+i.tag+">"}}return n}},{key:"get_models",value:function(){return this.panels}}]),e}();window.kong_theme_option=new e}()},,,,function(e,exports,t){"use strict";t(6),t(7),t(8),t(9),t(10),t(11)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.config(["$provide","$httpProvider",function(e,n){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,n){return{request:function(n){return n.headers["X-WP-Nonce"]=t.__config.nonce,n||e.when(n)},responseError:function(t){return void 0!==t.data&&"rest_cookie_invalid_nonce"==t.data.code&&n.$emit("expired_session"),e.reject(t)}}}]),n.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(t.__config.enable_debug)}])}(window.angular)},function(e,exports){"use strict";!function(e){e.module("kong.builder.app").directive("editList",["$KongService","$compile",function(t,n){return{restrict:"E",scope:{panel:"<"},link:function(t,o,i){var l=t.panel.replace("_","-"),r=e.element("<to-panel-"+l+"></to-panel-"+l+">");o.append(r),n(r)(t)}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=e.module("kong.builder.app");n.component("editorContainer",{transclude:!0,controller:function(){void 0===this.collapsed&&(this.collapsed=!1)},template:n.__config.is_front_end?'<div class="kong-ui__container" data-name="{{::$ctrl.label.toLowerCase()}}" ng-class="{\'kong-ui__container--collapsed\':$ctrl.collapsed}"><h4 class="kong-ui__container__title">{{::$ctrl.label}}<span class="kong-ui__container__collapseBtn" ng-click="$ctrl.collapsed=!$ctrl.collapsed"></span></h4><div class="kong-ui__container__content" ng-transclude></div></div>':'<div class="kong-ui__longContainer"><h4 class="kong-ui__longContainer__title" ng-bind="::$ctrl.label"></h4><div class="kong-ui__longContainer__content" ng-transclude></div></div>',bindings:{label:"@",collapsed:"<"}}),n.component("editorField",{controller:["$KongService","$scope","$timeout","$attrs","$state",function(n,o,i,l,r){var s=this;if("rich-editor"!=l.type&&"code-editor"!=l.type){var a,c=Date.now(),d=!0,u=null,p={};p.field=s.bindTo,p.panel=r.current.name,o.$watch("$ctrl.model",function(l,r){if(d)return void(d=!1);n.commandManager.free&&(n.reloadModels.hasOwnProperty(s.bindTo)&&o.$emit("reload",[{field:s.bindTo,value:r}]),Date.now()-c<500&&a&&i.cancel(a),null==u&&(u=r),c=Date.now(),a=i(function(){if(l!=u){var o=e.merge({},p);Array.isArray(l)?(o.newVal=e.merge([],l),o.oldVal=e.merge([],u)):"object"==(void 0===l?"undefined":t(l))?(o.newVal=e.merge({},l),o.oldVal=e.merge({},u)):(o.newVal=l,o.oldVal=u),n.reloadModels.hasOwnProperty(s.bindTo)?n.setChangeAttrReload(o):n.setChangeAttr(o),u=null,n.commandManager.free=!0}},500))},!0)}}],template:["$element","$attrs",function(e,t){return n.__config.is_front_end?'<div class="kong-ui__field" ng-class="::{\'kong-ui__field--fullwidth\':$ctrl.fullwidth}"><span class="kong-ui__field__label" ng-bind="::$ctrl.label"></span><div class="kong-ui__field__input"><kong-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></kong-ed-'+t.type+'><small class="kong-ui__field__desc" ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></small></div></div>':'<div class="kong-ui__longField" ng-class="::{\'kong-ui__longField--fullWidth\':$ctrl.fullwidth}"><h6 class="kong-ui__longField__label" ng-if="::$ctrl.label" ng-bind="::$ctrl.label"></h6><div class="kong-ui__longField__container"><div class="kong-ui__longField__input"><kong-ed-'+t.type+' model="$ctrl.model" config="$ctrl.config"></kong-ed-'+t.type+'></div><div class="kong-ui__longField__desc"><p ng-if="::$ctrl.desc" ng-bind-html="::$ctrl.desc"></p></div></div></div>'}],bindings:{type:"@",desc:"@",label:"@",config:"<",model:"=",bindTo:"@",fullwidth:"<",panel:"@"}}),n.component("kongEdLayoutSelection",{controller:function(){this.layouts=["fullwidth","sidebar-left","sidebar-left-left","sidebar-left-right","sidebar-right","sidebar-right-right","blank"]},template:'<div class="kong-ui-image-selection"><div class="kong-ui-is-item"ng-click="$ctrl.model=item"ng-class="{\'__active\':$ctrl.model == item}"ng-repeat="item in ::$ctrl.layouts"><img ng-src="'+n.__config.img_url+'/{{::item}}.png"/></div></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdMediaQueryUnit",{controller:["$scope",function(e){this.screen_width=1200,this.currentIndex=-1,this.model||(this.model=[]),this.create=function(){if(this.isValid()){var e={};e.screen_width=this.screen_width,e.value="100%",this.model.push(e)}},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.isValid=function(){return this.screen_width>199}}],template:'<div class="kong-ui__mediaQueryWidth"><div class="kong-ui__mediaQueryWidth__header"><div class="kong-ui__mediaQueryWidth__screen"><input class="kong-ui__mediaQueryWidth__input kong-ui__input-number" type="number" max="2000" min="200" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.screen_width"/> <span>px</span></div><button class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><ul class="kong-ui__mediaQueryWidth__list"><li class="kong-ui__mediaQueryWidth__item" ng-repeat="query in $ctrl.model"><button class="kong-ui__mediaQueryWidth__removeBtn" ng-click="$ctrl.model.splice($index, 1)"><span class="lmr lmr-trash2"></span></button><div class="kong-ui__mediaQueryWidth__query"><input type="number" max="2000" min="200" ng-model="query.screen_width"/></div><div class="kong-ui__mediaQueryWidth__edit"><kong-ed-unit model="query.value" config="{setting:{min:0, max:2000, step:1}, units:[\'px\',\'%\']}"></kong-ed-unit></div></li></ul></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdSidebarSelection",{controller:function(){this.sidebars=void 0!==n.__config.sidebars?n.__config.sidebars:{}},template:'<div><div list-selection ng-model="$ctrl.model" ng-list="$ctrl.sidebars" ng-default="{id:0, name:\'Select a Sidebar\'}"></div></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdClassSelection",{controller:["$scope","$KongService",function(t,n){var o=this;t.$watch("$ctrl.model",function(t,i){e.element(n.getIframeElement(o.config.selector)).removeClass(i).addClass(t)})}],template:'<select class="kong-ui__select" ng-model="$ctrl.model"><option ng-repeat="(key, value) in ::$ctrl.config.classes" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}}),n.component("kongEdClassTextButtons",{controller:["$scope","$KongService",function(t,n){var o=this;this.config.hasOwnProperty("class")?this.class="kong-ui__buttonGroup__btn--"+this.config.class:this.class="kong-ui__buttonGroup__btn--smallText",t.$watch("$ctrl.model",function(t,i){e.element(n.getIframeElement(o.config.selector)).removeClass(i).addClass(t)})}],template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind="::v"></button></div>',bindings:{model:"=",config:"<"}});var o=0;n.component("kongEdToggleClass",{controller:["$scope","$KongService",function(t,n){var i=this;this.id="lbswid-"+ ++o,void 0!==this.config.selector&&t.$watch("$ctrl.model",function(t,o){var l=e.element(n.getIframeElement(i.config.selector));t?l.addClass(i.config.class):l.removeClass(i.config.class)})}],template:'<div class="kong-ui__switch"><input class="kong-ui__switch__checkbox" type="checkbox" ng-model-options="{debounce: 250}" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="kong-ui__switch__btn" for="{{::$ctrl.id}}"><span class="kong-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdNumberWatchAttr",{controller:["$scope","$KongService",function(t,o){var i=this,l=null;isNaN(this.model)&&(this.model=0),n.__config.is_front_end&&t.$watch("$ctrl.model",function(){(l=e.element(o.getIframeDoc()).find(i.config.selector))&&l.attr(i.config.attr,i.model)}),this.updateNumber=function(e){this.model=e}}],template:'<div class="kong-ui__number"><input  class="kong-ui__number__input kong-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config.setting" type="number" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdGoogleFontMultiVariants",{controller:function(){},template:['<div class="kong-ui-gfont-multi-variants" google-fonts-v2 ng-model="$ctrl.model"></div>'].join(""),bindings:{model:"=",config:"<"}}),n.component("kongEdUploadedFonts",{controller:["$KongHotKeys","$timeout",function(e,t){var n=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.fontCount=function(){var e=Object.keys(this.model).length;return e+" Font"+(e>1?"s":"")},this.add=function(){var e=new Date,o=e.getTime();this.model[o]={name:"Unnamed Font",family:"",fallback:"sans-serif",enable:!1,ttf_link:"",woff_link:"",woff2_link:"",svg_link:"",eot_link:"",id:e.getTime()},t(function(){n.edit(o)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return e.resume(),n.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="kong-ui__itemList"><div class="kong-ui__itemList__header"><span class="kong-ui__itemList__count" ng-bind="$ctrl.fontCount()"></span> <span class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="kong-ui__itemList__list"><kong-ed-upload-font model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></kong-ed-upload-font></div><kong-ed-edit-font model="$ctrl.edited" active="$ctrl.active" on-close="$ctrl.close()"></kong-ed-edit-font></div>',bindings:{model:"="}}),n.component("kongEdUploadFont",{controller:function(){},template:'<div class="kong-ui__itemList__item"><div class="kong-ui__itemList__name"><h6 ng-bind="$ctrl.model.name"></h6><kong-ed-tiny-switch model="$ctrl.model.enable"></kong-ed-tiny-switch></div><div class="kong-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="kong-ui__itemList__removeConfirm"><span class="kong-ui__itemList__message">Are your sure?</span> <span class="kong-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="kong-ui__separator">|</span><span class="kong-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="kong-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="kong-ui__separator">|</span><span class="kong-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),n.component("kongEdEditFont",{controller:function(){this.$onDestroy=function(){this.active&&this.onClose()}},template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Upload Font</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Name</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.name"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Family</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.family"></kong-ed-text><p>The value is used for the CSS font-family property.</p></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Fallback</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.fallback"></kong-ed-text><p>The font fallback(s) in the case this font is unable to load.</p></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">TTF</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="ttf" model="$ctrl.model.ttf_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">WOFF</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="woff" model="$ctrl.model.woff_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">WOFF2</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="woff2" model="$ctrl.model.woff2_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">SVG</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="svg" model="$ctrl.model.svg_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">EOT</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="eot" model="$ctrl.model.eot_link"></kong-ed-upload-field></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),n.component("kongEdUploadField",{controller:["$scope",function(e){var t,n,o=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select"},multiple:!1}),t.on("select",function(){n=t.state().get("selection").first().toJSON(),e.$apply(function(){o.model=n.url})}),t.open()}}],template:'<div class="kong-ui__uploadField"><input class="kong-ui__input-text kong-ui__uploadField" type="text" ng-model="$ctrl.model" ng-model-options="{ debounce: 500 }"/><span class="kong-ui__uploadField__uploadBtn" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span><div class="kong-ui__uploadField__remove" ng-show="$ctrl.model" ng-if="::$ctrl.config.text_clear"><small class="kong-ui__uploadField__remove__btn" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i> Remove</small></div></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdFontSearcher",{controller:["$KongService",function(e){this.fonts=e.options.uploaded_fonts,this.model||(this.model="0")}],template:'<div class="kong-ui-font-searcher" list-selection ng-model="$ctrl.model" ng-list="$ctrl.fonts" ng-default="{id:\'0\', name: \'Select a Font\'}"></div>',bindings:{model:"="}}),n.component("kongEdFieldGenerator",{controller:function(){this.sidebarName="",this.currentIndex=-1,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.create=function(){if(this.isValid()){var e=new Date;this.model[e.getTime()]={id:e.getTime(),name:this.sidebarName},this.sidebarName=""}},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.isValid=function(){return this.sidebarName.trim()},this.remove=function(e){delete this.model[e]}},template:'<div class="kong-ui__fieldGenerator"><div class="kong-ui__fieldGenerator__header"><input class="kong-ui__input-text" type="text" maxlength="{{::$ctrl.config.maxlength}}" ng-trim="true" placeholder="{{::$ctrl.config.placeholder}}" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.sidebarName"/><button class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><ul class="kong-ui__fieldGenerator__list"><li class="kong-ui__fieldGenerator__item" ng-trim="true" ng-repeat="(id, sidebar) in $ctrl.model"><span class="kong-ui__fieldGenerator__index" ng-bind="$index+1"></span><input type="text" class="kong-ui__fieldGenerator__input" maxlength="{{::$ctrl.config.maxlength}}" ng-model="sidebar.name" ng-model-options="{debounce:500}"/><span class="kong-ui__fieldGenerator__removeBtn lmr lmr-trash2" ng-click="$ctrl.remove(id)"></span></li></ul></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdTypographyFont",{controller:["$KongService",function(e){this.uploaded_fonts=e.options.uploaded_fonts}],template:'<select ng-model="$ctrl.model.source" class="kong-ui__select" style="margin-bottom:10px"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::value}}" ng-bind="::key"></option></select><div ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div ng-if="$ctrl.model.source == \'uploaded\'" class="kong-ui-font-searcher" list-selection ng-model="$ctrl.model.uploaded" ng-list="$ctrl.uploaded_fonts" ng-default="{id:\'0\', name: \'Select a Font\'}"></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdGeneralFont",{controller:function(){this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"},void 0!==this.config&&this.config.hasOwnProperty("has_inherit")&&this.config.has_inherit||delete this.sample.inherit},template:'<div class="kong-ui__buttonGroup kong-ui--marginBottom10"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+n.__config.img_url+'/icons/\'+k+\'.svg)\'}"></span></button></div><div ng-if="$ctrl.model.source == \'google\'" class="kong-ui-gfont-multi-variants" google-fonts-v2 ng-model="$ctrl.model.google"></div><kong-ed-selection-loader ng-if="$ctrl.model.source == \'uploaded\'" model="$ctrl.model.uploaded" config="{url: \''+n.__config.global_api+"/uploaded-fonts', name: 'font'}\"></kong-ed-selection-loader><kong-ed-selection-loader ng-if=\"$ctrl.model.source == 'typekit'\" model=\"$ctrl.model.typekit\" config=\"{url: '"+n.__config.global_api+"/typekit-fonts', name: 'font'}\"></kong-ed-selection-loader>",bindings:{model:"=",config:"<"}}),n.component("kongEdTextWatch",{controller:["$scope",function(e){var t=this;n.__config.is_front_end&&e.$watch("$ctrl.model",function(){jQuery("#kong-bs-iframe").contents().find(t.config.selector).html(t.model)})}],template:'<div class="kong-ui__text"><input app-undo-redo class="kong-ui__text__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="kong-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdModuleList",{controller:["$KongService","$scope",function(t,o){var i=this;i.panels=n.__config.frontend_modules,o.$watch("$ctrl.model",function(){for(var e in i.panels)if(i.panels[e].hasOwnProperty("childs")){var t=!1;for(var n in i.panels[e].childs)-1==i.model.indexOf(n)?(i.panels[e].childs[n].checked=!0,t=!0):i.panels[e].childs[n].checked=!1;i.panels[e].checked=t}else i.panels[e].checked=-1==i.model.indexOf(e)},!0),i.changeLv1=function(t){if(i.panels[t].hasOwnProperty("childs")){var n=e.merge([],i.model);for(var o in i.panels[t].childs)i.panels[t].checked?-1!=n.indexOf(o)&&n.splice(n.indexOf(o),1):-1==n.indexOf(o)&&n.push(o);i.model=e.merge([],n)}else i.panels[t].checked?i.model.splice(i.model.indexOf(t),1):i.model.push(t)},i.changeLv2=function(e,t){i.panels[e].childs[t].checked?i.model.splice(i.model.indexOf(t),1):i.model.push(t)}}],template:'<ul class="kong-ui__moduleList"><li ng-repeat="(panelName, panel) in ::$ctrl.panels"><label class="kong-ui__moduleList__name"><span ng-bind="::panel.name"></span><input type="checkbox" ng-model="panel.checked" ng-change="$ctrl.changeLv1(panelName)" /></label><ul ng-if="::panel.childs"><li ng-repeat="(childPanelName, childPanel) in ::panel.childs"><label  class="kong-ui__moduleList__childName"><span ng-bind="::childPanel.name"></span><input type="checkbox" ng-model="childPanel.checked" ng-change="$ctrl.changeLv2(panelName, childPanelName)" /></label></li></ul></li></ul>',bindings:{model:"="}}),n.component("kongEdEnqueueScripts",{controller:["$KongHotKeys","$timeout",function(e,t){var n=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.itemCount=function(){var e=Object.keys(this.model).length;return e+" Item"+(e>1?"s":"")},this.add=function(){var e=new Date,o=e.getTime();this.model[o]={handle:"Unnamed Script",src:"",deps:"",ver:"",in_footer:!1,id:e.getTime()},t(function(){n.edit(o)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return n.active=!1,e.resume(),!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="kong-ui__itemList"><div class="kong-ui__itemList__header"><span class="kong-ui__itemList__count" ng-bind="$ctrl.itemCount()"></span> <span class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="kong-ui__itemList__list"><kong-ed-enqueue-script model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></kong-ed-enqueue-script></div><kong-ed-edit-script model="$ctrl.edited" on-close="$ctrl.close()" active="$ctrl.active"></kong-ed-edit-script></div>',bindings:{model:"="}}),n.component("kongEdEnqueueScript",{controller:function(){},template:'<div class="kong-ui__itemList__item"><div class="kong-ui__itemList__name"><h6 ng-bind="$ctrl.model.handle"></h6><kong-ed-tiny-switch model="$ctrl.model.enable"></kong-ed-tiny-switch></div><div class="kong-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="kong-ui__itemList__removeConfirm"><span class="kong-ui__itemList__message">Are your sure?</span> <span class="kong-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="kong-ui__separator">|</span><span class="kong-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="kong-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="kong-ui__separator">|</span><span class="kong-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),n.component("kongEdEditScript",{controller:function(){var e=this;this.$onDestroy=function(){e.active&&e.onClose()}},template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Script</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Name</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.handle"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Src</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="js" model="$ctrl.model.ttf_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Deps</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.deps"></kong-ed-text><p>Separate each dependent script by a comma.</p></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Version</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.ver"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">In Footer</div><div class="kong-ui__popup__input"><kong-ed-switch model="$ctrl.model.in_footer"></kong-ed-switch></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),n.component("kongEdEnqueueStyles",{controller:["$KongHotKeys","$timeout",function(e,t){var n=this;this.edited=void 0,"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={}),this.itemCount=function(){var e=Object.keys(this.model).length;return e+" Item"+(e>1?"s":"")},this.add=function(){var e=new Date,o=e.getTime();this.model[o]={handle:"Unnamed Style",src:"",deps:"",ver:"",media:"all",id:e.getTime()},t(function(){n.edit(o)})},this.remove=function(e){delete this.model[e]},this.edit=function(t){this.edited=this.model[t],this.active=!0,e.pause(),e.escKeyPressManager.add(function(){return n.active=!1,e.resume(),!0})},this.close=function(){e.escKeyPressManager.execute()}}],template:'<div class="kong-ui__itemList"><div class="kong-ui__itemList__header"><span class="kong-ui__itemList__count" ng-bind="$ctrl.itemCount()"></span> <span class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-click="$ctrl.add()">Add New</span></div><div class="kong-ui__itemList__list"><kong-ed-enqueue-style model="font" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id)" ng-repeat="(id, font) in $ctrl.model"></kong-ed-enqueue-style></div><kong-ed-edit-style model="$ctrl.edited" on-close="$ctrl.close()" active="$ctrl.active"></kong-ed-edit-style></div>',bindings:{model:"="}}),n.component("kongEdEnqueueStyle",{controller:function(){},template:'<div class="kong-ui__itemList__item"><div class="kong-ui__itemList__name"><h6 ng-bind="$ctrl.model.handle"></h6><kong-ed-tiny-switch model="$ctrl.model.enable"></kong-ed-tiny-switch></div><div class="kong-ui__itemList__action"><div ng-if="$ctrl.askToRemove" class="kong-ui__itemList__removeConfirm"><span class="kong-ui__itemList__message">Are your sure?</span> <span class="kong-ui__hardAction" ng-click="$ctrl.onRemove()">Yes</span><span class="kong-ui__separator">|</span><span class="kong-ui__softAction" ng-click="$ctrl.askToRemove=false">No</span></div><div><span class="kong-ui__softAction" ng-click="$ctrl.onEdit()">Edit</span><span class="kong-ui__separator">|</span><span class="kong-ui__hardAction" ng-click="$ctrl.askToRemove=true">Remove</span></div></div></div>',bindings:{model:"=",onRemove:"&",onEdit:"&"}}),n.component("kongEdEditStyle",{controller:["$KongHotKeys",function(e){var t=this;this.$onDestroy=function(){t.active&&t.onClose()}}],template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Stylesheet</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Name</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.handle"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Src</div><div class="kong-ui__popup__input"><kong-ed-upload-field extension="css" model="$ctrl.model.ttf_link"></kong-ed-upload-field></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Deps</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.deps"></kong-ed-text><p>Separate each dependent style by a comma.</p></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Version</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.ver"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Media</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.media"></kong-ed-text></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),n.component("kongEdResImage",{controller:function(){"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={desktop:"100vw",tablet:"100vw",mobile:"100vw"})},template:'<div class="kong-ui__resImage"><div class="kong-ui--marginTop10"><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.desktop" config="{icon:\'lmr lmr-desktop\'}"></kong-ed-text-icon></div><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.tablet" config="{icon:\'lmr lmr-tablet\'}"></kong-ed-text-icon></div><div class="kong-ui__sub-container"><kong-ed-text-icon model="$ctrl.model.mobile" config="{icon:\'lmr lmr-mobile\'}"></kong-ed-text-icon></div></div></div>',bindings:{model:"="}}),n.component("kongEdTypekit",{controller:["$KongPopup","$KongHotKeys",function(e,n){"[object Object]"!==Object.prototype.toString.call(this.model)&&(this.model={});var o=this;this.edited=void 0,this.active=!1,this.id="",this.create=function(){this.isValid()?(this.model[this.id]={active:!0,fonts:[]},this.id=""):e.show({title:"Invalid Input",message:"Your Typekit ID seems to be incorrect or existing."})},this.isValid=function(){return this.id&&7==this.id.length&&!this.model.hasOwnProperty(this.id)},this.pressToCreate=function(e){13==e.keyCode&&(this.create(),e.target.blur())},this.remove=function(e){this.model.hasOwnProperty(e)&&delete this.model[e]},this.edit=function(e,i){this.model.hasOwnProperty(e)&&"object"===t(this.model[e].fonts[i])&&(this.edited=this.model[e].fonts[i],this.active=!0,n.pause(),n.escKeyPressManager.add(function(){return o.active=!1,n.resume(),!0}))},this.close=function(){n.escKeyPressManager.execute()}}],template:'<div class="kong-ui__typekit"><div class="kong-ui__typekit__header"><input class="kong-ui__input-text" type="text" maxlength="7" ng-trim="true" placeholder="Your Kit ID" ng-keypress="$ctrl.pressToCreate($event)" ng-model="$ctrl.id"/><button class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small" ng-disabled="!$ctrl.isValid()" ng-click="$ctrl.create()">Create</button></div><div class="kong-ui__typekit__list"><ed-typekit-item kit-id="id" model="kit" ng-repeat="(id, kit) in $ctrl.model" on-remove="$ctrl.remove(id)" on-edit="$ctrl.edit(id, index)"></ed-typekit-item></div><ed-edit-typekit-font model="$ctrl.edited" active="$ctrl.active" on-close="$ctrl.close()"></ed-edit-typekit-font></div>',bindings:{model:"="}}),n.component("edTypekitItem",{controller:function(){this.remove=function(){this.onRemove({id:this.kitId})},this.add=function(){var e=this.model.fonts.length,t=new Date;this.model.fonts[e]={id:t.getTime(),name:"unnamed",family:"",fallback:"sans-serif"},this.onEdit({id:this.kitId,index:e})},this.edit=function(e){this.onEdit({id:this.kitId,index:e})},this.removeFont=function(e){this.model.fonts.splice(e,1)}},template:'<div class="kong-ui__typekit__item" ng-class="{\'kong-ui__typekit__item--active\':$ctrl.model.active}"><div class="kong-ui__typekit__item__header"><label class="kong-ui__typekit__item__id"><input type="checkbox" ng-model="$ctrl.model.active"/> #<span ng-bind="::$ctrl.kitId"></span></label><div class="kong-ui__typekit__item__action"><span class="kong-ui__typekit__item__add" ng-click="$ctrl.add()" title="Add Font"><i class="lmr lmr-plus"></i></span><span class="kong-ui__typekit__item__remove kong-ui__hardAction-hover" ng-click="$ctrl.remove()" title="Remove Kit"><i class="lmr lmr-trash2"></i></span></div></div><div class="kong-ui__typekit__fonts"><div class="kong-ui__typekit__font" ng-repeat="font in $ctrl.model.fonts"><span class="kong-ui__typekit__font__name" ng-click="$ctrl.edit($index)" ng-bind="font.name"></span><div  class="kong-ui__typekit__font__action"><span ng-click="$ctrl.edit($index)" class="lmr lmr-pencil3" title="Edit"></span><span ng-click="$ctrl.removeFont($index)" class=" kong-ui__hardAction-hover lmr lmr-trash2" title="Remove"></span></div></div></div></div>',bindings:{model:"<",kitId:"<",onEdit:"&",onRemove:"&"}}),n.component("edEditTypekitFont",{controller:function(){this.$onDestroy=function(){this.active&&this.onClose()}},template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Font Setting</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.onClose()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Name</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.name"></kong-ed-text></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Family</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.family"></kong-ed-text><p>The value is used for the CSS font-family property.</p></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Fallback</div><div class="kong-ui__popup__input"><kong-ed-text model="$ctrl.model.fallback"></kong-ed-text></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.onClose()"></div>',bindings:{model:"=",active:"<",onClose:"&"}}),n.component("kongEdTextButtons",{controller:["$scope","$KongService",function(t,o){var i=this;this.config.hasOwnProperty("class")?this.class="kong-ui__buttonGroup__btn--"+this.config.class:this.class="kong-ui__buttonGroup__btn--smallText","attr"==this.config.watch&&n.__config.is_front_end&&t.$watch("$ctrl.model",function(t,n){e.element(o.getIframeElement(i.config.selector)).attr(i.config.attr,t)})}],template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn {{::$ctrl.class}}"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.model=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == k}" ng-bind="::v"></button></div>',bindings:{model:"=",config:"<"}}),n.component("kongEdIconButtons",{controller:["$KongService","$scope",function(t,n){var o=this;this.setModel=function(e){this.model=this.model===e?"":e},void 0!==o.config.selector&&n.$watch("$ctrl.model",function(n,i){e.element(t.getIframeElement(o.config.selector)).removeClass(i).addClass(n)})}],template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="(k, v) in ::$ctrl.config.options"ng-click="$ctrl.setModel(k)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === k}"><i ng-class="::v" ></i></button></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";!function(e){function t(t,o){if(o){var i=t.split("_");e.forEach(i,function(e,t){i[t]=e.charAt(0).toUpperCase()+e.slice(1)}),i=i.join(""),n.component("toPanel"+i,{controller:["$KongService",function(e){this.$onInit=function(){this.config=window.kong_theme_option.get_config_object(t)},this.service=e}],template:window.kong_theme_option.generate_panel(o,t)})}}var n=e.module("kong.builder.app");e.forEach(window.kong_theme_option.get_models(),function(n,o){n.hasOwnProperty("childs")?e.forEach(n.childs,function(e,n){t(n,e.models)}):t(o,n.models)})}(window.angular)},function(module,exports){"use strict";!function(angular){angular.module("kongService",[]).service("$KongService",["$timeout","$rootScope",function($timeout,$rootScope){var self=this;self.model={},self.lv2Model=null,self.editModel=null,self.options={},self.previewDevice="desktop",self.sidebar_collapse=!1,self.showCustomCodePanel=!1,self.noWatch=!1,self.templates=[],self.origin={},self.changeTemplate=!1,self.defaultModels={},self.sectionModels={},self.undoGroup=!1,self.timeReset=0,self.histories=[],self.historyIndex=-1,self.preview={},self.direct_links={},self.panels={},self.reloadModels=[],self.private_options=[],self.reload_model_histories={},self.panels=window.kong_theme_option.get_models(),self.initData=function(e){for(var t in self.panels)if("frontend"==e&&(self.getDirectLinks(t,self.panels[t]),self.getPreview(t,self.panels[t])),self.panels[t].hasOwnProperty("childs"))for(var n in self.panels[t].childs)"frontend"==e&&(self.getDirectLinks(n,self.panels[t].childs[n]),self.getPreview(n,self.panels[t].childs[n])),self.panels[t].childs[n].hasOwnProperty("models")&&self.getPrivateOptions(self.panels[t].childs[n].models);else self.panels[t].hasOwnProperty("models")&&self.getPrivateOptions(self.panels[t].models);self.generateDefaultModels()},self.getPrivateOptions=function(e){if(Array.isArray(e)){var t=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var r=i.value;r.hasOwnProperty("content")?self.getPrivateOptions(r.content):r.hasOwnProperty("bind_to")&&self.private_options.push(r.bind_to)}}catch(e){n=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw o}}}},self.getDirectLinks=function(e,t){t.hasOwnProperty("direct_links")&&(self.direct_links[e]=t.direct_links)},self.getPreview=function(e,t){t.hasOwnProperty("models")&&(self.preview.hasOwnProperty(e)||(self.preview[e]={}),self.preview[e].hasOwnProperty("directives")||(self.preview[e].directives=[]),self.preview[e].hasOwnProperty("styles")||(self.preview[e].styles=[]),self.preview[e].hasOwnProperty("condition_styles")||(self.preview[e].condition_styles=[]),self.preview[e].hasOwnProperty("responsive_styles")||(self.preview[e].responsive_styles=[]),self.generatePreview(e,t.models))},self.generatePreview=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!0,i=!1,l=void 0;try{for(var r,s=t[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var a=r.value,c=n;if(a.hasOwnProperty("if")&&a.if?(c=a.if,c=c.replace(/@options/g,"$ctrl.service.options")):a.hasOwnProperty("show")&&a.show?(c=a.show,c=c.replace(/@options/g,"$ctrl.service.options")):a.hasOwnProperty("attrs")&&a.attrs.hasOwnProperty("ng-if")&&a.attrs["ng-if"]?(c=a.attrs["ng-if"],c=c.replace(/@options/g,"$ctrl.service.options")):a.hasOwnProperty("attrs")&&a.attrs.hasOwnProperty("ng-show")&&a.attrs["ng-show"]&&(c=a.attrs["ng-show"],c=c.replace(/@options/g,"$ctrl.service.options")),a.hasOwnProperty("content"))self.generatePreview(e,a.content,c);else if(a.hasOwnProperty("bind_to")){if(a.hasOwnProperty("directives")&&(self.preview[e].directives[a.bind_to]={},self.preview[e].directives[a.bind_to].directives=a.directives,c&&(self.preview[e].directives[a.bind_to].condition=c)),a.hasOwnProperty("styles")){if(c){var d={};d.condition=c,d.styles={};for(var u in a.styles){d.styles.hasOwnProperty(u)||(d.styles[u]={});for(var p in a.styles[u])d.styles[u][p]=a.styles[u][p].replace(/@model/g,"$ctrl.service.options."+a.bind_to)}self.preview[e].condition_styles.push(d)}else for(var g in a.styles){self.preview[e].styles.hasOwnProperty(g)||(self.preview[e].styles[g]={});for(var f in a.styles[g])self.preview[e].styles[g][f]=a.styles[g][f].replace(/@model/g,"$ctrl.service.options."+a.bind_to)}}if(a.hasOwnProperty("responsive_styles")){var _={};c&&(_.condition=c),_.bind_to=a.bind_to,_.styles={};for(var m in a.responsive_styles){var v=a.responsive_styles[m];_.styles.hasOwnProperty(m)||(_.styles[m]={});for(var h in v)_.styles[m][h]=v[h].replace(/@model/g,"$ctrl.service.options."+a.bind_to+".@device");self.preview[e].responsive_styles.push(_)}}}}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}},self.generateDefaultModels=function(){angular.forEach(self.panels,function(e,t){e.hasOwnProperty("childs")?angular.forEach(e.childs,function(e,t){self.getDefaultModels(e.models,t)}):self.getDefaultModels(e.models,t)}),self.options=angular.merge({},self.defaultModels)},self.getDefaultModels=function(e,t){angular.forEach(e,function(e){e.hasOwnProperty("content")?self.getDefaultModels(e.content,t):e.hasOwnProperty("bind_to")&&(self.defaultModels[e.bind_to]=e.default_value,e.hasOwnProperty("reload")&&e.reload&&(self.reloadModels[e.bind_to]=t))})},self.removeProperty=function(e,t){e.hasOwnProperty(t)&&delete e[t]},self.deeplyRemoveProperties=function(e,t){for(var n=0,o=t.length;n<o;n++)self.removeProperty(e,t[n]);if(angular.isArray(e.content))for(var i=0,l=e.content.length;i<l;i++)self.deeplyRemoveProperties(e.content[i],t)},self.simplifyModelToSave=function(e){var t=angular.merge({},e);return self.deeplyRemoveProperties(t,["$$hashKey"]),JSON.stringify(t).replace(/\\/g,"\\\\\\")},self.push_template=function(e,t){var n={name:e,id:t};self.templates.unshift(n)},self.loop_through_template=function(e){angular.forEach(self.templates,function(t,n){angular.isFunction(e)&&e(t)})},self.reset=function(e,t){var n={};n.panels=t,n.fields=[],angular.forEach(e,function(e){var t={};t.field=e,angular.isArray(self.defaultModels[e])?(t.oldVal=angular.merge([],self.options[e]),t.newVal=angular.merge([],self.defaultModels[e])):angular.isObject(self.defaultModels[e])?(t.oldVal=angular.merge({},self.options[e]),t.newVal=angular.merge({},self.defaultModels[e])):(t.oldVal=self.options[e],t.newVal=self.defaultModels[e]),n.fields.push(t)}),self.setReset(n)},self.getModelsOfSection=function(e,t){e.hasOwnProperty("no_reset")||self.getModels(e.models,t)},self.getModels=function(e,t){angular.forEach(e,function(e){e.hasOwnProperty("content")?self.getModels(e.content,t):e.hasOwnProperty("bind_to")&&"watch"!=e.tag&&(self.sectionModels[t]||(self.sectionModels[t]=[]),self.sectionModels[t].push(e.bind_to))})},self.preview_typography_font_embed=function(e){var t=e.model||{},n=e.selector||"";if(t.source)switch(t.source){case"google":if(t.google){var o="https://fonts.googleapis.com/css?family="+t.google.family.replace(/ /g,"+")+":"+t.google.variant+"&amp;subset="+t.google.subset;self.link_array.push(o);var i=t.google.variant.match(/\d+/),l="normal";i&&(l=i[0]),i=t.google.variant.match(/\D+/);var r="normal";i&&(r=i[0]),"regular"==r&&(l="normal",r="normal"),self.style_array.hasOwnProperty(n)||(self.style_array[n]={}),self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+t.google.family+"'","font-weight":l,"font-style":r})}break;case"uploaded":if(kong_app_data.uploaded_fonts.hasOwnProperty(t.uploaded)){var s=kong_app_data.uploaded_fonts[t.uploaded];self.font_uploaded_array[t.uploaded]=s;var a=s.family,c=s.fallback?", "+s.fallback:"";a||(a="font_uploaded_"+t.uploaded),self.style_array.hasOwnProperty(n)||(self.style_array[n]={}),self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+a+"'"+c})}break;case"typekit":e:for(var d in kong_app_data.typekit_fonts){var u=!0,p=!1,g=void 0;try{for(var f,_=kong_app_data.typekit_fonts[d].fonts[Symbol.iterator]();!(u=(f=_.next()).done);u=!0){var m=f.value;if(m.id==t.typekit){self.style_array.hasOwnProperty(n)||(self.style_array[n]={});var v=m.fallback?", "+m.fallback:"";self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+m.family+"'"+v});break e}}}catch(e){p=!0,g=e}finally{try{!u&&_.return&&_.return()}finally{if(p)throw g}}}}},self.preview_responsive_embed=function(e){var t=e.model||{},n=e.selector||"",o=e.property||"",i=e.suffix||"",l=e.prefix||"";if(t){self.style_array.hasOwnProperty(n)||(self.style_array[n]={});var r={};if(r[o]=l+t.desktop+i,self.style_array[n]=angular.merge(self.style_array[n],r),t.tablet_enable){self.tablet_style_array.hasOwnProperty(n)||(self.tablet_style_array[n]={});var s={};s[o]=l+t.tablet+i,self.tablet_style_array[n]=angular.merge(self.tablet_style_array[n],s)}if(t.mobile_enable){self.mobile_style_array.hasOwnProperty(n)||(self.mobile_style_array[n]={});var a={};a[o]=l+t.mobile+i,self.mobile_style_array[n]=angular.merge(self.mobile_style_array[n],a)}}},self.preview_screen_queries=function(e){var t=e.model||{},n=e.selector||"",o=e.property||"";if(t)for(var i in t){var l=t[i],r="";l.screen_width>1366?r=1366:l.screen_width>768&&l.screen_width<=1366?r=769:l.screen_width>520&&l.screen_width<=768&&(r=521),self.media_query_array.push({"max-width":l.screen_width,"min-width":r,selector:n,prop:o,value:l.value})}},self.preview_general_font_embed=function(e){var t=e.model||{},n=e.selector||"";if(t.source&&n)switch(t.source){case"google":if(t.google){var o="https://fonts.googleapis.com/css?family="+t.google.family.replace(/ /g,"+");t.google.variants.length&&(o+=":"+t.google.variants.join(",")),t.google.subsets.length&&(o+="&amp;subset="+t.google.subsets.join(",")),self.style_array.hasOwnProperty(n)||(self.style_array[n]={}),self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+t.google.family+"'"}),self.link_array.push(o)}break;case"uploaded":if(kong_app_data.uploaded_fonts.hasOwnProperty(t.uploaded)){var i=kong_app_data.uploaded_fonts[t.uploaded];self.font_uploaded_array[t.uploaded]=i;var l=i.family;i.family||(l="font_uploaded_"+t.uploaded),self.style_array.hasOwnProperty(n)||(self.style_array[n]={});var r=i.fallback?", "+i.fallback:"";self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+l+"'"+r})}break;case"typekit":e:for(var s in kong_app_data.typekit_fonts){var a=!0,c=!1,d=void 0;try{for(var u,p=kong_app_data.typekit_fonts[s].fonts[Symbol.iterator]();!(a=(u=p.next()).done);a=!0){var g=u.value;if(g.id==t.typekit){self.style_array.hasOwnProperty(n)||(self.style_array[n]={});var f=g.fallback?", "+g.fallback:"";self.style_array[n]=angular.merge(self.style_array[n],{"font-family":"'"+g.family+"'"+f});break e}}}catch(e){c=!0,d=e}finally{try{!a&&p.return&&p.return()}finally{if(c)throw d}}}}},self.add_styles=function(){self.style_array={},self.mobile_style_array={},self.tablet_style_array={},self.media_query_array=[],self.link_array=[],self.font_uploaded_array=[];for(var e in self.panels){var t=self.panels[e];if(t.hasOwnProperty("childs"))for(var n in t.childs){var o=t.childs[n];o.hasOwnProperty("side")&&"frontend"!=o.side||!o.hasOwnProperty("models")||self.add_style(o.models)}else t.hasOwnProperty("side")&&"frontend"!=t.side||!t.hasOwnProperty("models")||self.add_style(t.models)}},self.add_style=function(models){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=models[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var model=_step5.value;if(model.hasOwnProperty("if")&&model.if){var condition=model.if;if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("show")&&model.show){var condition=model.show;if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("attrs")&&model.attrs.hasOwnProperty("ng-if")&&model.attrs["ng-if"]){var condition=model.attrs["ng-if"];if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}else if(model.hasOwnProperty("attrs")&&model.attrs.hasOwnProperty("ng-show")&&model.attrs["ng-show"]){var condition=model.attrs["ng-show"];if(condition=condition.replace(/(\$ctrl\.service\.options)|(@options)/g,"self.options"),!eval(condition))continue}if(model.hasOwnProperty("content"))self.add_style(model.content);else if(self.options[model.bind_to]){if(model.hasOwnProperty("directives")){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=model.directives[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var directive=_step6.value,func_name=directive.tag.replace(/-/g,"_"),args={model:self.options[model.bind_to]};if(directive.hasOwnProperty("attrs")&&directive.attrs)for(var attr in directive.attrs)args[attr]=directive.attrs[attr];var func=self[func_name];void 0!==func&&func(args)}}catch(e){_didIteratorError6=!0,_iteratorError6=e}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}if(model.hasOwnProperty("styles"))for(var selector in model.styles){self.style_array.hasOwnProperty(selector)||(self.style_array[selector]={});for(var prop in model.styles[selector]){var val=model.styles[selector][prop],expressions=val.match(/{{[^{}]+}}/g);if(null!=expressions){val=val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _iterator7=expressions[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var expression=_step7.value;expression=expression.replace(/[{} ]/g,"");var expression_models=expression.match(/(\d*[\/\*\+\-])*@model(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g);if(expression=expression.replace(/(\d*[\/\*\+\-])*@model(\.[a-zA-Z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model"),expression_models&&expression_models.length){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _iterator8=expression_models[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var expression_model=_step8.value;expression_model=expression_model.replace("@model","self.options."+model.bind_to),expression=expression.replace("%model",eval(expression_model))}}catch(e){_didIteratorError8=!0,_iteratorError8=e}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}val=val.replace("%expression",expression)}}catch(e){_didIteratorError7=!0,_iteratorError7=e}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}prop=prop.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),self.style_array[selector][prop]=val}}if(model.hasOwnProperty("responsive_styles"))for(var _selector3 in model.responsive_styles){self.style_array.hasOwnProperty(_selector3)||(self.style_array[_selector3]={}),self.tablet_style_array.hasOwnProperty(_selector3)||(self.tablet_style_array[_selector3]={}),self.mobile_style_array.hasOwnProperty(_selector3)||(self.mobile_style_array[_selector3]={});for(var _prop3 in model.responsive_styles[_selector3]){var _val=model.responsive_styles[_selector3][_prop3],tablet_val=model.responsive_styles[_selector3][_prop3],mobile_val=model.responsive_styles[_selector3][_prop3],_expressions=_val.match(/{{[^{}]+}}/g);if(null!=_expressions){_val=_val.replace(/{{[^{}]+}}/g,"%expression"),tablet_val=_val.replace(/{{[^{}]+}}/g,"%expression"),mobile_val=_val.replace(/{{[^{}]+}}/g,"%expression");var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _iterator9=_expressions[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){var _expression=_step9.value;_expression=_expression.replace(/[{} ]/g,"");var expression_models=_expression.match(/(\d*[\/\*\+\-])*@model(\.[a-z0-9_]+)*([\/\*\+\-]\d*)*/g);_expression=_expression.replace(/(\d*[\/\*\+\-])*@model(\.[a-z0-9_]+)*([\/\*\+\-]\d*)*/g,"%model");var tablet_expression="",mobile_expression="";if(expression_models&&expression_models.length){var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var _iterator10=expression_models[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=!0){var _expression_model=_step10.value;_expression_model=_expression_model.replace("@model","self.options."+model.bind_to+".@device"),tablet_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"tablet"))),mobile_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"mobile"))),_expression=_expression.replace("%model",eval(_expression_model.replace(/@device/g,"desktop")))}}catch(e){_didIteratorError10=!0,_iteratorError10=e}finally{try{!_iteratorNormalCompletion10&&_iterator10.return&&_iterator10.return()}finally{if(_didIteratorError10)throw _iteratorError10}}}_val=_val.replace("%expression",_expression),tablet_val=tablet_val.replace("%expression",tablet_expression),mobile_val=mobile_val.replace("%expression",mobile_expression)}}catch(e){_didIteratorError9=!0,_iteratorError9=e}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}_prop3=_prop3.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),self.style_array[_selector3][_prop3]=_val,self.options[model.bind_to].hasOwnProperty("tablet")&&(self.tablet_style_array[_selector3][_prop3]=tablet_val),self.options[model.bind_to].hasOwnProperty("mobile")&&(self.mobile_style_array[_selector3][_prop3]=mobile_val)}}}}}catch(e){_didIteratorError5=!0,_iteratorError5=e}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}},self.minify_box_value=function(e){var t=/(-?[0-9]+px -?[0-9]+px -?[0-9]+?px -?[0-9]+px)/g;if(!t.test(e))return e;for(var n=e.split(t),o=[],i=0,l=n.length;i<l;i++)-1!==n[i].search(t)&&(o=n[i].split(" "),o[0]!==o[1]?o[0]===o[2]&&o[1]===o[3]&&(n[i]=n[i].replace(t,o[0]+" "+o[1])):o[0]===o[2]&&o[0]===o[3]&&(n[i]=n[i].replace(t,o[0])));return n.join("")},self.generate_styles=function(){var e=[],t=[],n=0;if(self.style_array&&(e[n++]=self.generate_style(self.style_array)),self.tablet_style_array){var o=self.generate_style(self.tablet_style_array);o&&(e[n++]="@media screen and (max-width:768px){",e[n++]=o,e[n++]="}")}if(self.mobile_style_array){var i=self.generate_style(self.mobile_style_array);i&&(e[n++]="@media screen and (max-width:512px){",e[n++]=i,e[n++]="}")}if(self.media_query_array){var l=!0,r=!1,s=void 0;try{for(var a,c=self.media_query_array[Symbol.iterator]();!(l=(a=c.next()).done);l=!0){var d=a.value;e[n++]="@media only screen and (max-width:"+d["max-width"]+"px) and (min-width:"+d["min-width"]+"px){"+d.selector+"{"+d.prop+":"+d.value+"}}"}}catch(e){r=!0,s=e}finally{try{!l&&c.return&&c.return()}finally{if(r)throw s}}}if(self.link_array&&(t=self.link_array),self.font_uploaded_array)for(var u in self.font_uploaded_array){var p=self.font_uploaded_array[u],g=p.family;g||(g="font_uploaded_"+u);p.fallback&&", "+p.fallback;var f="",_="",m=[];p.eot_link&&(f="src:url('"+p.eot_link+"');",m.push("url('"+p.eot_link+"?#iefix') format('embedded-opentype')")),p.woff_link&&m.push("url('"+p.woff_link+"') format('woff')"),p.woff2_link&&m.push("url('"+p.woff2_link+"') format('woff2')"),p.ttf_link&&m.push("url('"+p.ttf_link+"') format('truetype')"),p.svg_link&&m.push("url('"+p.svg_link+"#"+g+"') format('svg')"),m.length&&(_="src:"+m.join(",")+";"),e[n++]="@font-face{font-family:'"+g+"';"+f+_+"}"}return{style:self.minify_output(e.join("")),links:t}},self.minify_output=function(e){return self.minify_box_value(e.replace(/\s?(,|>)\s?/g,"$1"))},self.generate_style=function(e){var t=[],n=0;for(var o in e){t[n++]=o,t[n++]="{";for(var i in e[o]){var l=e[o][i];""!=l&&(t[n++]=i,t[n++]=":",t[n++]=l,t[n++]=";")}n--,";"==t[n]?t[n++]="}":(t.splice(n--,1),t.splice(n,1))}return t.join("")},self.getIframeElement=function(e){return self.getIframeDoc().querySelector(e)},self.getIframeDoc=function(){var e=document.getElementById("kong-bs-iframe");return e.contentDocument||e.contentWindow.document},self.jQuery=void 0,self.getIframeJQuery=function(){var e=document.getElementById("kong-bs-iframe"),t=e.contentWindow||e;return self.jQuery=function(e){return t.jQuery(e,document)},self.jQuery},self.getIframeJQueryObject=function(){var e=document.getElementById("kong-bs-iframe");return(e.contentWindow||e).jQuery},self.getIframeWindow=function(){var e=document.getElementById("kong-bs-iframe");return e.contentWindow||e},self.highlightContainer=function(e){var t=jQuery(document.querySelector('.kong-ui__container[data-name="'+e.toLowerCase()+'"]'));if(t){t.addClass("kong-ui__container--highlighted");t.closest(".kong-bs__editor__body")[0].scrollTop=t[0].offsetTop,setTimeout(function(){t.removeClass("kong-ui__container--highlighted")},500)}},self.removeHashKey=function(e){if(angular.isObject(e)){e.hasOwnProperty("$$hashKey")&&delete e.$$hashKey;for(var t in e)self.removeHashKey(e[t])}else if(angular.isArray(e)){var n=!0,o=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var s=l.value;self.removeHashKey(s)}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}}},self.getDataForComparingToSave=function(e){return self.removeHashKey(e),JSON.stringify(e)},self.filterOptions=function(){for(var e in self.options)-1==self.private_options.indexOf(e)&&delete self.options[e]},self.scopeIterateSiblings=function(e,t,n){for(;e=e.$$nextSibling;)t(e,n),self.scopeIterateChildren(e,t,n)},self.scopeIterateChildren=function(e,t,n){for(;e=e.$$childHead;)t(e,n),self.scopeIterateSiblings(e,t,n)},self.scopeStoreWatchers=function(e,t){t.childs[e.$id]=e.$$watchers,e.$$watchers=[]},self.scopeReturnWatchers=function(e,t){void 0!==t.childs[e.$id]&&(e.$$watchers=t.childs[e.$id],delete t.childs[e.$id])},self.returnWatchers=function(e,t){t.self.length&&(e.$$watchers=angular.merge([],t.self)),t.childs.length&&self.scopeIterateChildren(e,self.scopeReturnWatchers,t),t.self=[]},self.storeWatchers=function(e,t){t.self=angular.merge([],e.$$watchers),e.$$watchers=[],self.scopeIterateChildren(e,self.scopeStoreWatchers,t)},self.commandManager={list:[],free:!0,currentIndex:0,limit:100,addCommand:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.list.length;n>this.currentIndex;)this.list.pop(),n--;if(this.list.length==this.limit?this.list.shift():this.currentIndex++,this.list.push(e),t){var o=this;o.free=!1,e.execute(),setTimeout(function(){o.free=!0},300),e.hasOwnProperty("panels")&&this.safeCheck(e.panels)}},undo:function(){var e=this;if(this.currentIndex>0&&this.free){this.free=!1,this.currentIndex--;var t=this.list[this.currentIndex];$timeout(function(){t.undo()}),t.hasOwnProperty("panels")&&this.safeCheck(t.panels),this.blinkUndo(),setTimeout(function(){e.free=!0},300)}},redo:function(){var e=this;if(this.currentIndex<this.list.length&&this.free){this.free=!1;var t=this.list[this.currentIndex];$timeout(function(){t.execute()}),t.hasOwnProperty("panels")&&this.safeCheck(t.panels),this.currentIndex++,this.blinkRedo(),setTimeout(function(){e.free=!0},300)}},safeCheck:function(e){$rootScope.$emit("blink-watchers",e)},canUndo:function(){return this.currentIndex>0},canRedo:function(){return this.currentIndex<this.list.length},init:function(){this.undoBtn=angular.element('[class*="__undoBtn"]'),this.redoBtn=angular.element('[class*="__redoBtn"]')},blinkUndo:function(){var e=this;e.undoBtn.addClass("kong-ui--blink"),setTimeout(function(){e.undoBtn.removeClass("kong-ui--blink")},200)},blinkRedo:function(){var e=this;e.redoBtn.addClass("kong-ui--blink"),setTimeout(function(){e.redoBtn.removeClass("kong-ui--blink")},200)}},self.setChangeAttr=function(e){self.commandManager.addCommand({panels:[e.panel],execute:function(){self.options[e.field]=e.newVal},undo:function(){self.options[e.field]=e.oldVal}},!1)},self.setChangeAttrReload=function(e){self.commandManager.addCommand({panels:[e.panel],execute:function(){self.options[e.field]=e.newVal,$rootScope.$emit("reload",[{field:e.field,value:e.oldVal}])},undo:function(){self.options[e.field]=e.oldVal,$rootScope.$emit("reload",[{field:e.field,value:e.newVal}])}},!1)},self.setReset=function(e){self.commandManager.addCommand({panels:e.panels,execute:function(){var t=[],n=!0,o=!1,i=void 0;try{for(var l,r=e.fields[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var s=l.value;self.options[s.field]=s.newVal,self.reloadModels.hasOwnProperty(s.field)&&t.push({field:s.field,value:s.oldVal})}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}t.length&&$rootScope.$emit("reload",t)},undo:function(){var t=[],n=!0,o=!1,i=void 0;try{for(var l,r=e.fields[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var s=l.value;self.options[s.field]=s.oldVal,self.reloadModels.hasOwnProperty(s.field)&&t.push({field:s.field,value:s.newVal})}}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}t.length&&$rootScope.$emit("reload",t)}})},self.setTemplate=function(e){var t=angular.merge({},self.options);self.commandManager.addCommand({panels:"all",execute:function(){var t=[];for(var n in self.reloadModels)t.push({field:n,value:self.options[n]});self.options=angular.merge({},e),t.length&&$rootScope.$emit("reload",t)},undo:function(){var e=[];for(var n in self.reloadModels)e.push({field:n,value:self.options[n]});self.options=t,e.length&&$rootScope.$emit("reload",e)}})}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.directive("googleFontsV2",["$http","$rootScope","$KongService",function(t,n,o){return{restrict:"A",scope:{ngModel:"="},link:function(n,o,i){o.append('<div class="kong-ui__loader__preload"><span></span><span></span><span></span></div>'),t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(t){var i=!1;n.$watch("ngModel",function(){function l(t,n){var o="";v="<option>Select a subset</option>",e.forEach(t,function(e){-1==n.indexOf(e)?v+='<option value="'+e+'">'+e+"</option>":o+='<li data-index="'+n.indexOf(e)+'">'+e+"</li>"}),u.html()?(u.html(v),p.html(o)):(u.append(v),p.append(o),d.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-subsets'>Subsets</p>").append(u)),u.select2(),d.append(p))}function r(t,n){var o="";h="<option>Select a variant</option>",e.forEach(t,function(e){-1==n.indexOf(e)?h+='<option value="'+e+'">'+e+"</option>":o+='<li data-index="'+n.indexOf(e)+'">'+e+"</li>"}),f.html()?(f.html(h),_.html(o)):(f.append(h),_.append(o),g.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-variants'>Variants</p>").append(f)),f.select2(),g.append(_))}if(i)return void(i=!1);n.ngModel||(n.ngModel={family:"Open Sans",variants:["regular"],subsets:["latin"]});var s=e.element('<div class="kong-google-font"></div>'),a=e.element('<div class="kong-google-font-family"></div>'),c=e.element("<select></select>"),d=e.element('<div class="kong-ui-google-font-subset"></div>'),u=e.element('<select class="kong-ui-font-subset-select"></select>'),p=e.element('<ul class="kong-font-subset-selected-list kong-ui-font-selected-list"></ul>'),g=e.element('<div class="kong-ui-google-font-variant"></div>'),f=e.element('<select class="kong-ui-font-variant-select"></select>'),_=e.element('<ul class="kong-font-variant-selected-list kong-ui-font-selected-list"></ul>'),m="",v="",h="",k={},b=e.merge([],n.ngModel.subsets),y=e.merge([],n.ngModel.variants);e.forEach(t.data.items,function(e,t){var o="";n.ngModel.family==e.family&&(o=' selected="selected"',k=e),m+='<option value="'+t+'"'+o+">"+e.family+"</option>"}),c.append(m),s.append(a.append(c)),c.select2(),c.on("change",function(){i=!0,k=t.data.items[jQuery(this).val()],b=[],y=[],l(k.subsets,b),r(k.variants,y),n.$apply(function(){n.ngModel={family:k.family,variants:y,subsets:b}})}),jQuery(document).on("change",".kong-ui-font-subset-select",function(){i=!0;var t=jQuery(this).val();b.push(t),l(k.subsets,b),n.$apply(function(){n.ngModel.subsets=e.merge([],b)})}),jQuery(document).on("change",".kong-ui-font-variant-select",function(){i=!0;var t=jQuery(this).val();y.push(t),r(k.variants,y),n.$apply(function(){n.ngModel.variants=e.merge([],y)})}),jQuery(document).on("click",".kong-font-subset-selected-list li",function(){var t=jQuery(this).data("index");b.splice(t,1),l(k.subsets,b),n.$apply(function(){n.ngModel.subsets=e.merge([],b)})}),jQuery(document).on("click",".kong-font-variant-selected-list li",function(){var t=jQuery(this).data("index");y.splice(t,1),r(k.variants,y),n.$apply(function(){n.ngModel.variants=e.merge([],y)})}),l(k.subsets,b),s.append(d),r(k.variants,y),s.append(g),o.html(s)},!0)},function(e){o.html('<div class="kong-ui__loader__failer">Error! Cannot get data.</div>')})}}}]),t.directive("blinkClick",function(){return{restrict:"A",link:function(e,t,n){t.on("click",function(){t.addClass("__blinked"),setTimeout(function(){t.removeClass("__blinked")},75)})}}})}(window.angular)},,function(e,exports,t){"use strict";t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21)},function(e,exports){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},function(e,exports){"use strict";angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,o){return function(i,l,r){l.attr("draggable","true"),r.dndDisableIf&&i.$watch(r.dndDisableIf,function(e){l.attr("draggable",!e)}),l.on("dragstart",function(s){if(s=s.originalEvent||s,"false"==l.attr("draggable"))return!0;s.dataTransfer.setData("Text",angular.toJson(i.$eval(r.dndDraggable))),s.dataTransfer.effectAllowed=r.dndEffectAllowed||"move",l.addClass("dndDragging"),t(function(){l.addClass("dndDraggingSource")},0),n.dropEffect="none",o.isDragging=!0,o.dragType=r.dndType?i.$eval(r.dndType):void 0,s._dndHandle&&s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(l[0],0,0),e(r.dndDragstart)(i,{event:s}),s.stopPropagation()}),l.on("dragend",function(s){s=s.originalEvent||s;var a=n.dropEffect;i.$apply(function(){switch(a){case"move":e(r.dndMoved)(i,{event:s});break;case"copy":e(r.dndCopied)(i,{event:s});break;case"none":e(r.dndCanceled)(i,{event:s})}e(r.dndDragend)(i,{event:s,dropEffect:a})}),l.removeClass("dndDragging"),t(function(){l.removeClass("dndDraggingSource")},0),o.isDragging=!1,s.stopPropagation()}),l.on("click",function(t){r.dndSelected&&(t=t.originalEvent||t,i.$apply(function(){e(r.dndSelected)(i,{event:t})}),t.stopPropagation())}),l.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,o){return function(t,i,l){function r(e,t,n){var o=_?e.offsetX||e.layerX:e.offsetY||e.layerY,i=_?t.offsetWidth:t.offsetHeight,l=_?t.offsetLeft:t.offsetTop;return l=n?l:0,o<l+i/2}function s(){return Array.prototype.indexOf.call(f.children,g)}function a(e){if(!o.isDragging&&!m)return!1;if(!u(e.dataTransfer.types))return!1;if(l.dndAllowedTypes&&o.isDragging){var n=t.$eval(l.dndAllowedTypes);if(angular.isArray(n)&&-1===n.indexOf(o.dragType))return!1}return!l.dndDisableIf||!t.$eval(l.dndDisableIf)}function c(){return p.remove(),i.removeClass("dndDragover"),!0}function d(n,i,l,r){return e(n)(t,{event:i,index:l,item:r||void 0,external:!o.isDragging,type:o.isDragging?o.dragType:void 0})}function u(e){if(!e)return!0;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return!0;return!1}var p=function(){var e;return angular.forEach(i.children(),function(t){var n=angular.element(t);n.hasClass("dndPlaceholder")&&(e=n)}),e||angular.element("<div class='dndPlaceholder' id='dndPlaceholder'></div>")}(),g=p[0],f=i[0];p.remove();var _=l.dndHorizontalList&&t.$eval(l.dndHorizontalList),m=!1;i.on("dragenter",function(e){if(e=e.originalEvent||e,!a(e))return!0;e.preventDefault()}),i.on("dragover",function(e){if(e=e.originalEvent||e,!a(e))return!0;if(g.parentNode!=f&&i.append(p),e.target!==f){for(var t=e.target;t.parentNode!==f&&t.parentNode;)t=t.parentNode;t.parentNode===f&&t!==g&&(r(e,t)?(angular.element(g).addClass("dirty-checking"),f.insertBefore(g,t)):f.insertBefore(g,t.nextSibling))}else if(r(e,g,!0))for(;g.previousElementSibling&&(r(e,g.previousElementSibling,!0)||0===g.previousElementSibling.offsetHeight);)f.insertBefore(g,g.previousElementSibling);else for(;g.nextElementSibling&&!r(e,g.nextElementSibling,!0);)f.insertBefore(g,g.nextElementSibling.nextElementSibling);return l.dndDragover&&!d(l.dndDragover,e,s())?c():(i.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),i.on("drop",function(e){if(e=e.originalEvent||e,!a(e))return!0;e.preventDefault();var o,i=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{o=JSON.parse(i)}catch(e){return c()}var r=s();return l.dndDrop&&!(o=d(l.dndDrop,e,r,o))?c():(!0!==o&&t.$apply(function(){t.$eval(l.dndList).splice(r,0,o)}),d(l.dndInserted,e,r,o),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?n.dropEffect=e.dataTransfer.effectAllowed:n.dropEffect=e.ctrlKey?"copy":"move":n.dropEffect=e.dataTransfer.dropEffect,c(),e.stopPropagation(),!1)}),i.on("dragleave",function(e){e=e.originalEvent||e,i.removeClass("dndDragover"),setTimeout(function(){i.hasClass("dndDragover")||p.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),t.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,o=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(n+=e.scrollLeft,o+=e.scrollTop):(n+=document.documentElement.scrollLeft||e.scrollLeft,o+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:o}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,o){e/=255,t/=255,n/=255;var i,l,r,s;return r=Math.max(e,t,n),s=r-Math.min(e,t,n),i=0===s?null:r===e?(t-n)/s:r===t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,l=0===s?0:s/r,{h:i||1,s:l,b:r,a:o||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var o=e.stringParsers[n],i=o.re.exec(t),l=i&&o.parse(i);if(l)return this.value=this.RGBtoHSB.apply(null,l),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,o){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,l,r,s,a;return e=e%360/60,a=n*t,s=a*(1-Math.abs(e%2-1)),i=l=r=n-a,e=~~e,i+=[a,s,0,0,s,a][e],l+=[s,a,a,s,0,0][e],r+=[0,0,s,a,a,s][e],{r:Math.round(255*i),g:Math.round(255*l),b:Math.round(255*r),a:o||this.value.a}},toHex:function(e,t,n,o){var i=this.toRGB(e,t,n,o);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(o,i){var l=e.closestSlider(o.target),r=e.getOffset(l,i),s=l.getBoundingClientRect(),a=o.clientX-s.left,c=o.clientY-s.top;t.knob=l.children[0].style,t.left=o.pageX-r.left-window.pageXOffset+r.scrollX,t.top=o.pageY-r.top-window.pageYOffset+r.scrollY,n={left:o.pageX-(a-t.left),top:o.pageY-(c-t.top)}},setSaturation:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n,o,i){t={maxLeft:o,maxTop:i,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).factory("colorRecentPicked",["colorPreset",function(e){function t(t){var d=angular.element(a.rpInfo().parentNode),u=e.presetInfo().parentNode;c=t.target,c.classList.contains("dragged")||c.classList.add("dragged"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("element",c),d[0].addEventListener("dragover",n,!1),d[0].addEventListener("dragend",i,!1),d[0].addEventListener("dragleave",o,!1),u&&(u.draggable=!0,u.addEventListener("dragover",l,!1),u.addEventListener("dragleave",r,!1),u.addEventListener("drop",s,!1))}function n(e){var t=e.target,n=angular.element(a.rpInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!1,setTimeout(function(){if(!d){t.nextSibling?n[0].insertBefore(c,t.nextSibling!==c&&t.nextSibling||t):n[0].appendChild(c),d=!0;var e=a.rpInfo().collection,o=n.children();for(var i in e)delete e[i];for(var l=0,r=o.length;l<r;l++){e[o[l].getAttribute("data-color")]=!0}}},20))}function o(e){var t=e.target;t&&t!==c&&t.classList.contains("color-rp__item")&&(d=!0)}function i(t){var d=(t.target,angular.element(a.rpInfo().parentNode)),u=e.presetInfo().parentNode;t.preventDefault(),c.classList.contains("dragged")&&c.classList.remove("dragged"),d[0].removeEventListener("dragover",n,!1),d[0].removeEventListener("dragend",i,!1),d[0].removeEventListener("dragleave",o,!1),u&&(u.removeEventListener("dragover",l,!1),u.removeEventListener("dragleave",r,!1),u.removeEventListener("drop",s,!1),u.draggable=!1)}function l(t){t.preventDefault();var n=e.presetInfo().parentNode,o=e.presetInfo().collection,i=e.isFull(o),l=c.getAttribute("data-color");i||o.hasOwnProperty(l)?n.classList.contains("not-allowed")||n.classList.add("not-allowed"):n.classList.contains("dragged")||n.classList.add("dragged")}function r(t){t.preventDefault();var n=e.presetInfo().parentNode;n.classList.contains("dragged")&&n.classList.remove("dragged"),n.classList.contains("not-allowed")&&n.classList.remove("not-allowed")}function s(t){var n=t.target,o=e.presetInfo().parentNode;if(n.classList.contains("color-preset")||n.classList.contains("color-collection__list")){var i=c.getAttribute("data-color");e.addColor(angular.element(o),e.presetInfo().collection,i,u,p),o.classList.contains("dragged")&&o.classList.remove("dragged"),o.classList.contains("not-allowed")&&o.classList.remove("not-allowed")}}var a={},c=void 0,d=!1,u=void 0,p=void 0,g=void 0,f=void 0,_=void 0;return a.addColor=function(e,t,n){if(a.isFull(t)){var o=Object.keys(t)[0];if(o===n||!t.hasOwnProperty(n)){for(var i=angular.element(e).children(),l=[],r=void 0,s=0,c=i.length;s<c;s++)i[s].classList.contains("color-rp__item")&&l.push(i[s]);for(var d=0,u=l.length;d<u;d++)if(l[d].getAttribute("data-color")===o){r=l[d];break}r.parentNode.removeChild(r),delete t[o],t[n]=!0,a.addElements(e,t,n)}}else n&&!t.hasOwnProperty(n)&&(t[n]=!0,a.addElements(e,t,n))},a.isFull=function(e){var t=0,n=Object.keys(e);return n&&(t=n.length),t>=14},a.addElements=function(e,t,n){var o=angular.element("<span class='color-rp color-rp__item'></span>");o.css("backgroundColor",n),o.attr("data-color",n),a.initEvent(o),e.append(o),a.sortable(e,o)},a.initEvent=function(e){e.on("click",function(){var t=e.parent().children(),n=e.attr("data-color");p&&u.$apply(p.$setViewValue(n)),_();for(var o=0,i=t.length;o<i;o++)t[o].classList.contains("active")&&t[o].classList.remove("active");e.addClass("active");for(var l=e.parent().parent().parent().find("color-preset")[0].querySelectorAll(".color-collection__item"),r=0,s=l.length;r<s;r++)l[r].classList.contains("active")&&l[r].classList.remove("active")})},a.showColorRecentPicked=function(e,t,n,o,i){u=n,p=o,_=i,a.setRPInfo(e,t),e.empty();for(var l in t)a.addElements(e,t,l)},a.sortable=function(e,n){n.hasClass("color-rp__item")&&(n[0].draggable=!0,n[0].addEventListener("dragstart",t,!1))},a.setRPInfo=function(e,t){g=e[0],f=t},a.rpInfo=function(){return{parentNode:g,collection:f,listClass:"color-rp__list",itemClass:"color-rp__item"}},a}]).factory("colorPreset",[function(){function e(e){var r=angular.element(i.presetInfo().parentNode);l=e.target,l.classList.contains("dragged")||l.classList.add("dragged"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("element",l),r[0].addEventListener("dragover",t,!1),r[0].addEventListener("dragend",o,!1),r[0].addEventListener("dragleave",n,!1)}function t(e){var t=e.target,n=angular.element(i.presetInfo().parentNode);e.preventDefault(),e.dataTransfer.dropEffect="move",t&&t!==l&&t.classList.contains("color-collection__item")&&(r=!1,setTimeout(function(){if(!r){n[0].insertBefore(l,t.nextSibling!==l&&t.nextSibling||t),r=!0;var e=i.presetInfo().collection,o=n.children();for(var s in e)delete e[s];for(var a=0,c=o.length;a<c;a++)if(o[a].classList.contains("color-collection__item")){var d=o[a].getAttribute("data-color");e[d]=!0}}},20))}function n(e){var t=e.target;t&&t!==l&&t.classList.contains("color-collection__item")&&(r=!0)}function o(e){e.preventDefault();var r=angular.element(i.presetInfo().parentNode);l.classList.contains("dragged")&&l.classList.remove("dragged"),r[0].removeEventListener("dragover",t,!1),r[0].removeEventListener("dragend",o,!1),r[0].removeEventListener("dragleave",n,!1)}var i={},l=void 0,r=!1,s=void 0,a=void 0,c=void 0;return i.addColor=function(e,t,n,o,l){if(!t.hasOwnProperty(n)&&n&&(i.isFull(t)||(t[n]=!0,i.addElements(e,t,n,o,l)),i.isFull(t))){e.children().eq(-1).attr("disabled","disabled")}},i.isFull=function(e){var t=0,n=Object.keys(e);return n&&(t=n.length),t>=7},i.showColorPreset=function(e,t,n,o,l){i.setPresetInfo(e,t),c=l;for(var r=angular.element(e).children(),s=0,a=r.length;s<a;s++)r[s].classList.contains("color-collection__item")&&r[s].remove();for(var d in t)i.addElements(e,t,d,n,o);var u=angular.element(e).children().eq(-1);i.isFull(t)?u.attr("disabled","disabled"):u.removeAttr("disabled")},i.initEvent=function(e,t,n,o,i,l){t.on("contextmenu",function(e){e.target===t[0]&&(e.preventDefault(),n.addClass("active"),o.addClass("active"))}),t.on("click",function(e){if(e.target===t[0]){for(var n=t.parent().parent().parent().find("color-recent-picked")[0].querySelectorAll(".color-rp__item"),o=0,r=n.length;o<r;o++)if(n[o].classList.contains("active")){n[o].classList.remove("active");break}if(e.ctrlKey||e.metaKey)t.hasClass("active")?t.removeClass("active"):t.addClass("active");else{for(var s=t.parent().children(),a=0,d=s.length;a<d;a++)s[a].classList.contains("active")&&s[a].classList.remove("active");t.addClass("active");var u=t.attr("data-color");l&&i.$apply(l.$setViewValue(u)),c()}}}),n.on("click",function(t){var n=angular.element(t.target).parent(),o=n.parent(),i=o.children().eq(-1);if(n.hasClass("active"))for(var l=o.children(),r=0,s=l.length;r<s;r++)l[r].classList.contains("active")&&(delete e[angular.element(l[r]).attr("data-color")],angular.element(l[r]).remove());else delete e[n.attr("data-color")],n.remove();i.attr("disabled")&&i.removeAttr("disabled")}),o.on("click",function(e){e.target!==n[0]&&(n.removeClass("active"),o.removeClass("active"))})},i.addElements=function(e,t,n,o,l){var r=angular.element("<div class='color-preset color-collection__item'></div>"),s=angular.element("<span class='color-preset__removeBtn'>Remove</span>"),a=angular.element("<div class='color-preset__backdrop'></div>"),c=e.children().eq(-1);r.css("backgroundColor",n),r.attr("data-color",n),i.initEvent(t,r,s,a,o,l),r.append(s).append(a),c.parent()[0].insertBefore(r[0],c[0]),i.sortable(e,r)},i.sortable=function(t,n){n.hasClass("color-collection__item")&&(n[0].draggable=!0,n[0].addEventListener("dragstart",e,!1))},i.setPresetInfo=function(e,t){s=e[0],a=t},i.presetInfo=function(){return{parentNode:s,collection:a,listClass:"color-collection__list",itemClass:"color-collection__item"}},i}]).directive("colorpicker",["$document","$compile","$KongHotKeys","colorRecentPicked","colorPreset","Color","Slider","Helper",function(e,n,o,i,l,r,s,a){return{require:"?ngModel",restrict:"A",link:function(c,d,u,p){function g(){e.on("mousemove",m),e.on("mouseup",v)}function f(){var e=!1;[{parent:ne,childClass:".color-collection__item"},{parent:Z,childClass:".color-rp__item"}].forEach(function(t){if(t.parent&&!e)for(var n=t.parent[0].querySelectorAll(t.childClass),o=0,i=n.length;o<i;o++)n[o].classList.contains("active")&&(n[o].classList.remove("active"),e=!0)})}function _(){try{q.css("backgroundColor",z[O]())}catch(e){q.css("backgroundColor",z.toHex())}V.css("backgroundColor",z.toHex(z.value.h,1,1,1)),"rgba"===O&&(P.css.backgroundColor=z.toHex())}function m(e){var t=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s.getLeftPosition(e)),n=s.getTopPosition(e),o=s.getSlider();O=1===z.value.a?"hex":"rgba",!C&&n>=F.top-F.offset&&(n=F.top-F.offset),s.setKnob(n,t),o.callLeft&&(C?z[o.callLeft].call(z,t/K.width):z[o.callLeft].call(z,t/F.left)),o.callTop&&(C?z[o.callTop].call(z,n/K.height):z[o.callTop].call(z,n/(F.top-F.offset))),_();var i=z[O]();return d.val(i),p&&c.$apply(p.$setViewValue(i)),I&&re.val(i),E=!1,!1}function v(){w("colorpicker-selected"),e.off("mousemove",m),e.off("mouseup",v)}function h(e){z.value=H,d.val(p.$viewValue),z.setColor(d.val()),I&&!e&&re.val(d.val()),Y.eq(0).css({left:z.value.s*K.width+"px",top:K.height-z.value.b*K.height+"px"}),Y.eq(1).css("top",(F.top-F.offset)*(1-z.value.h)+"px"),Y.eq(1).css("left",F.left+"px"),Y.eq(2).css("top",(F.top-F.offset)*(1-z.value.a)+"px"),Y.eq(2).css("left",F.left+"px"),H=z.value,_()}function k(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a.getOffset(d[0]);angular.isDefined(u.colorpickerParent)&&(n.left=0,n.top=0);var o=document.getElementsByClassName("colorpicker-visible")[0],i=angular.element(o).children()[0],l=i.offsetHeight,r=window.innerHeight-(d[0].offsetHeight+n.top+N.top),s=n.top-N.top;return t||(r>=l||s<l?(T="bottom",i.classList.contains("dropdown-menu-top")&&i.classList.remove("dropdown-menu-top"),i.classList.contains("dropdown-menu-bottom")||i.classList.add("dropdown-menu-bottom")):(T="top",i.classList.contains("dropdown-menu-bottom")&&i.classList.remove("dropdown-menu-bottom"),i.classList.contains("dropdown-menu-top")||i.classList.add("dropdown-menu-top"))),"top"===T?e={top:n.top-l-2-N.top,left:n.left-N.left}:"right"===T?e={top:n.top,left:n.left+d[0].offsetWidth+2}:"bottom"===T?e={top:n.top+d[0].offsetHeight+2+N.top,left:n.left-N.left}:"left"===T&&(e={top:n.top,left:n.left-J-2}),{top:e.top+"px",left:e.left+"px"}}function b(){x()}function y(){if(!R.hasClass("colorpicker-visible")){if(h(),!1===L&&e.on("mousedown",b),W){if(localStorage.getItem("kongColorCollection"))try{ie=JSON.parse(localStorage.getItem("kongColorCollection")),"object"!==(void 0===ie?"undefined":t(ie))&&(ie={})}catch(e){}l.showColorPreset(ne,ie,c,p,h)}if(U){if(localStorage.getItem("kongRPCollection"))try{ee=JSON.parse(localStorage.getItem("kongRPCollection")),"object"!==(void 0===ee?"undefined":t(ee))&&(ee={})}catch(e){}i.showColorRecentPicked(Z,ee,c,p,h)}localStorage.getItem("kongHeaderState")&&(M=JSON.parse(localStorage.getItem("kongHeaderState"))),M&&(U&&(M.rp?X.hasClass("active")||X.addClass("active"):X.hasClass("active")&&X.removeClass("active")),W&&(M.collection?te.hasClass("active")||te.addClass("active"):te.hasClass("active")&&te.removeClass("active"))),S=!1,o.escKeyPressManager.add(function(){return S=!0,x(),!0}),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!0,c.$$phase&&c.$root.$$phase||c.$digest()),R.addClass("colorpicker-visible").css(k()),w("colorpicker-shown")}}function w(e){p&&c.$emit(e,{name:u.ngModel,value:p.$modelValue})}function x(){R.hasClass("colorpicker-visible")&&(R.removeClass("colorpicker-visible"),w("colorpicker-closed"),e.off("mousedown",b),i.addColor(Z,ee,p.$viewValue),localStorage.setItem("kongColorCollection",JSON.stringify(ie)),localStorage.setItem("kongRPCollection",JSON.stringify(ee)),U&&(X.hasClass("active")?M.rp=!0:M.rp=!1),W&&(te.hasClass("active")?M.collection=!0:M.collection=!1),localStorage.setItem("kongHeaderState",JSON.stringify(M)),u.colorpickerIsOpen&&(c[u.colorpickerIsOpen]=!1,c.$$phase&&c.$root.$$phase||c.$digest()),S||(S=!0,o.escKeyPressManager.pop()))}var P,S=!0,C=!0,E=!0,M={},O="rgba",T="bottom",L=!!angular.isDefined(u.colorpickerInline)&&u.colorpickerInline,A=!!angular.isDefined(u.colorpickerFixedPosition)&&u.colorpickerFixedPosition,D=angular.isDefined(u.colorpickerParent)?d.parent():angular.element(document.body),I=!!angular.isDefined(u.colorpickerWithInput)&&u.colorpickerWithInput,K={width:150,height:112},F={left:0,top:112,offset:1},N={top:5,left:15},j=I?'<input type="text" name="colorpicker-input" spellcheck="false">':"",B='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+j+"<color-recent-picked class='color-rp__container'></color-recent-picked><color-preset class='color-preset__container'></color-preset></div><colorpicker-backdrop class='colorpicker-backdrop'></div></div>",R=angular.element(B),z=r,H={h:1,s:0,b:1,a:1},G=R.find("colorpicker-hue"),V=R.find("colorpicker-saturation"),q=R.find("colorpicker-preview"),U=R.find("color-recent-picked"),W=R.find("color-preset"),Q=R.find("colorpicker-backdrop"),Y=R.find("i"),J=parseInt(K.width)+29+("rgba"===O?15:0);if(n(R)(c),R.css("min-width",J+"px"),V.css({width:K.width+"px",height:K.height+"px"}),U){var X=angular.element("<div class='color-rp__header colorpicker__header active'><span></span>Recent Picked</div>"),Z=angular.element("<div class='color-rp__list'></div>");U.append(X).append(Z);var ee={};X.find("span").on("click",function(){X.toggleClass("active"),"top"===T&&(R.addClass("colorpicker-visible").css(k(!0)),w("colorpicker-shown"))})}if(W){var te=angular.element("<div class='color-preset__header colorpicker__header active'><span></span>Presets</div>"),ne=angular.element("<div class='color-collection__list'></div>"),oe=angular.element("<span class='color-preset color-preset__addBtn'></span>");W.append(te).append(ne),ne.append(oe);var ie={},le=te.find("span");oe.on("click",function(){l.addColor(ne,ie,p.$viewValue,c,p)}),le.on("click",function(){te.toggleClass("active"),"top"===T&&(R.addClass("colorpicker-visible").css(k(!0)),w("colorpicker-shown"))})}if(Q&&(Q.on("click",function(e){e.target===Q[0]&&x()}),Q.on("scroll",function(e){e.preventDefault()})),I){var re=R.find("input");re.css("width",K.width),re.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;d.val(e),p&&p.$modelValue!==e&&(c.$apply(p.$setViewValue(e)),h(!0))})}R.addClass("alpha"),P=R.find("colorpicker-alpha"),P.on("click",function(e){s.setAlpha(e,A,F.left,F.top-F.offset),C=!1,m(e,!1)}).on("mousedown",function(e){s.setAlpha(e,A,F.left,F.top-F.offset),C=!1,g()}).on("mouseup",function(e){w("colorpicker-selected-alpha"),f()}),G.on("click",function(e){s.setHue(e,A,F.left,F.top-F.offset),C=!1,m(e,!1)}).on("mousedown",function(e){s.setHue(e,A,F.left,F.top-F.offset),C=!1,g()}).on("mouseup",function(e){w("colorpicker-selected-hue"),f()}),V.on("click",function(e){s.setSaturation(e,A,K.width,K.height),C=!0,m(e,!1),angular.isDefined(u.colorpickerCloseOnSelect)&&x()}).on("mousedown",function(e){s.setSaturation(e,A,K.width,K.height),C=!0,g()}).on("mouseup",function(e){w("colorpicker-selected-saturation"),f()}),A&&R.addClass("colorpicker-fixed-position"),R.addClass("colorpicker-position-"+T),"true"===L&&R.addClass("colorpicker-inline"),D.append(R),p&&(p.$render=function(){d.val(p.$viewValue),h()}),d.on("blur keyup change",function(){h()}),d.on("$destroy",function(){S||(S=!0,o.escKeyPressManager.pop()),R.remove()}),!1===L?d.on("click",y):y(),R.on("mousedown",function(e){e.stopPropagation()}),R.find("button").on("click",function(){x()}),u.colorpickerIsOpen&&c.$watch(u.colorpickerIsOpen,function(e){!0===e?y():!1===e&&x()})}}}])},function(e,exports){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,n){if(angular.isDefined(n.workerPath)){window.ace.require("ace/config").set("workerPath",n.workerPath)}angular.isDefined(n.require)&&n.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(n.showGutter)&&e.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&t.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&e.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&e.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&t.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&e.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&e.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&t.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?t.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&t.setOption("firstLineNumber",n.firstLineNumber()));var o,i;if(angular.isDefined(n.advanced))for(o in n.advanced)i={name:o,value:n.advanced[o]},e.setOption(i.name,i.value);if(angular.isDefined(n.rendererOptions))for(o in n.rendererOptions)i={name:o,value:n.rendererOptions[o]},e.renderer.setOption(i.name,i.value);angular.forEach(n.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(n,o,i,l){var r,s,a=e.ace||{},c=angular.extend({},a,n.$eval(i.uiAce)),d=window.ace.edit(o[0]),u=d.getSession(),p=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&n.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},g={onChange:function(e){return function(t){var o=u.getValue();!l||o===l.$viewValue||n.$$phase||n.$root.$$phase||n.$evalAsync(function(){l.$setViewValue(o)}),p(e,t,d)}},onBlur:function(e){return function(){p(e,d)}}};i.$observe("readonly",function(e){d.setReadOnly(!!e||""===e)}),l&&(l.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),l.$render=function(){u.setValue(l.$viewValue)});var f=function(e,o){e!==o&&(c=angular.extend({},a,n.$eval(i.uiAce)),c.callbacks=[c.onLoad],c.onLoad!==a.onLoad&&c.callbacks.unshift(a.onLoad),u.removeListener("change",r),r=g.onChange(c.onChange),u.on("change",r),d.removeListener("blur",s),s=g.onBlur(c.onBlur),d.on("blur",s),t(d,u,c))};n.$watch(i.uiAce,f,!0),f(a),o.on("$destroy",function(){d.session.$stopWorker(),d.destroy()}),n.$watch(function(){return[o[0].offsetWidth,o[0].offsetHeight]},function(){d.resize(),d.renderer.updateFull()},!0)}}}])},function(e,exports){"use strict";angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,o,i,l){l=l||{};var r=0;return l.baseUrl&&(tinymce.baseURL=l.baseUrl),{require:["ngModel","^?form"],priority:999,link:function(s,a,c,d){function u(e){e?(p(),f&&f.getBody().setAttribute("contenteditable",!1)):(p(),f&&!f.settings.readonly&&f.getBody().setAttribute("contenteditable",!0))}function p(){f||(f=tinymce.get(c.id))}if(o.tinymce){var g,f,_=d[0],m=d[1]||null,v={},h=function(t){var n=t.getContent({format:v.format}).trim();n=i.trustAsHtml(n),_.$setViewValue(n),e.$$phase||s.$digest()};c.$set("id","ui-tinymce-"+r++),g={},angular.extend(g,s.$eval(c.uiTinymce));var k=function(e){var t;return function(e){n.cancel(t),t=n(function(){return function(e){e.save(),h(e)}(e)},400)}}(),b={setup:function(e){e.on("init",function(){_.$render(),_.$setPristine(),_.$setUntouched(),m&&m.$setPristine()}),e.on("ExecCommand change NodeChange ObjectResized",function(){k(e)}),e.on("blur",function(){a[0].blur(),_.$setTouched(),s.$digest()}),e.on("remove",function(){a.remove()}),g.setup&&g.setup(e,{updateView:h})},format:g.format||"html",selector:"#"+c.id};angular.extend(v,l,g,b),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL),tinymce.init(v),u(s.$eval(c.ngDisabled))}),_.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),_.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),_.$render=function(){p();var e=_.$viewValue?i.getTrustedHtml(_.$viewValue):"";f&&f.getDoc()&&(f.setContent(e),f.fire("change"))},c.$observe("disabled",u),s.$on("$tinymce:refresh",function(e,n){var o=c.id;if(angular.isUndefined(n)||n===o){var i=a.parent(),l=a.clone();l.removeAttr("id"),l.removeAttr("style"),l.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,o),i.append(t(l)(s))}}),s.$on("$destroy",function(){p(),f&&(f.remove(),f=null)})}}}}])},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n,o){function i(e,n){return(void 0===e?"undefined":t(e))===n}function l(e,t){return!!~(""+e).indexOf(t)}function r(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):w?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function a(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,n){var o;for(var l in e)if(e[l]in t)return!1===n?e[l]:(o=t[e[l]],i(o,"function")?a(o,n||t):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function u(){var e=n.body;return e||(e=r(w?"svg":"body"),e.fake=!0),e}function p(e,t,o,i){var l,s,a,c,d="modernizr",p=r("div"),g=u();if(parseInt(o,10))for(;o--;)a=r("div"),a.id=i?i[o]:d+(o+1),p.appendChild(a);return l=r("style"),l.type="text/css",l.id="s"+d,(g.fake?g:p).appendChild(l),g.appendChild(p),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(n.createTextNode(e)),p.id=d,g.fake&&(g.style.background="",g.style.overflow="hidden",c=y.style.overflow,y.style.overflow="hidden",y.appendChild(g)),s=t(p,e),g.fake?(g.parentNode.removeChild(g),y.style.overflow=c,y.offsetHeight):p.parentNode.removeChild(p),!!s}function g(t,n){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(d(t[i]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var l=[];i--;)l.push("("+d(t[i])+":"+n+")");return l=l.join(" or "),p("@supports ("+l+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return o}function f(e,t,n,a){function c(){u&&(delete E.style,delete E.modElem)}if(a=!i(a,"undefined")&&a,!i(n,"undefined")){var d=g(e,n);if(!i(d,"undefined"))return d}for(var u,p,f,_,m,v=["modernizr","tspan","samp"];!E.style&&v.length;)u=!0,E.modElem=r(v.shift()),E.style=E.modElem.style;for(f=e.length,p=0;f>p;p++)if(_=e[p],m=E.style[_],l(_,"-")&&(_=s(_)),E.style[_]!==o){if(a||i(n,"undefined"))return c(),"pfx"!=t||_;try{E.style[_]=n}catch(e){}if(E.style[_]!=m)return c(),"pfx"!=t||_}return c(),!1}function _(e,t,n,o,l){var r=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+P.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?f(s,t,o,l):(s=(e+" "+S.join(r+" ")+r).split(" "),c(s,t,n))}function m(e,t,n){return _(e,o,o,t,n)}var v=[],h=[],k={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){h.push({name:e,fn:t,options:n})},addAsyncTest:function(e){h.push({name:null,fn:e})}},b=function(){};b.prototype=k,b=new b;var y=n.documentElement,w="svg"===y.nodeName.toLowerCase(),x="Moz O ms Webkit",P=k._config.usePrefixes?x.split(" "):[];k._cssomPrefixes=P;var S=k._config.usePrefixes?x.toLowerCase().split(" "):[];k._domPrefixes=S;var C={elem:r("modernizr")};b._q.push(function(){delete C.elem});var E={style:C.elem.style};b._q.unshift(function(){delete E.style}),k.testAllProps=_,k.testAllProps=m,b.addTest("flexbox",m("flexBasis","1px",!0)),b.addTest("flexwrap",m("flexWrap","wrap",!0)),function(){var e,t,n,o,l,r,s;for(var a in h)if(h.hasOwnProperty(a)){if(e=[],t=h[a],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,l=0;l<e.length;l++)r=e[l],s=r.split("."),1===s.length?b[s[0]]=o:(!b[s[0]]||b[s[0]]instanceof Boolean||(b[s[0]]=new Boolean(b[s[0]])),b[s[0]][s[1]]=o),v.push((o?"":"no-")+s.join("-"))}}(),function(e){var t=y.className,n=b._config.classPrefix||"";if(w&&(t=t.baseVal),b._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}b._config.enableClasses&&(t+=" "+n+e.join(" "+n),w?y.className.baseVal=t:y.className=t)}(v),delete k.addTest,delete k.addAsyncTest;for(var M=0;M<b._q.length;M++)b._q[M]();e.Modernizr=b}(window,document)},function(e,exports,t){var n,o;"function"==typeof Symbol&&Symbol.iterator;!function(i,l){n=l,void 0!==(o="function"==typeof n?n.call(exports,t,exports,e):n)&&(e.exports=o)}(0,function(){function e(e,t){var n=Object.prototype.toString.call(e),o="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,l=e.length;if(o)for(;i<l;i++)t(e[i]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return window.ResizeSensor=function(n,o){function i(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;t<n;t++)e[t].call()},this.remove=function(o){var i=[];for(t=0,n=e.length;t<n;t++)e[t]!==o&&i.push(e[t]);e=i},this.length=function(){return e.length}}function l(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function r(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new i,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var o="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",r="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=o,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==l(e,"position")&&(e.style.position="relative");var s,a,c,d,u=e.resizeSensor.childNodes[0],p=u.childNodes[0],g=e.resizeSensor.childNodes[1],f=e.offsetWidth,_=e.offsetHeight,m=function(){p.style.width="100000px",p.style.height="100000px",u.scrollLeft=1e5,u.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5};m();var v=function(){a=0,s&&(f=c,_=d,e.resizedAttached&&e.resizedAttached.call())},h=function(){c=e.offsetWidth,d=e.offsetHeight,s=c!=f||d!=_,s&&!a&&(a=t(v)),m()},k=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};k(u,"scroll",h),k(g,"scroll",h)}e(n,function(e){r(e,o)}),this.detach=function(e){ResizeSensor.detach(n,e)}},ResizeSensor.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},ResizeSensor})},function(e,exports,t){var n;!function(o,i,l){function r(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return b[e.which]?b[e.which]:y[e.which]?y[e.which]:String.fromCharCode(e.which).toLowerCase()}function a(e,t){return e.sort().join(",")===t.sort().join(",")}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function u(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(){if(!k){k={};for(var e in b)e>95&&e<112||b.hasOwnProperty(e)&&(k[b[e]]=e)}return k}function f(e,t,n){return n||(n=g()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function _(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function m(e,t){var n,o,i,l=[];for(n=_(e),i=0;i<n.length;++i)o=n[i],x[o]&&(o=x[o]),t&&"keypress"!=t&&w[o]&&(o=w[o],l.push("shift")),p(o)&&l.push(o);return t=f(o,l,t),{key:o,modifiers:l,action:t}}function v(e,t){return null!==e&&e!==i&&(e===t||v(e.parentNode,t))}function h(e){function t(e){e=e||{};var t,n=!1;for(t in b)e[t]?n=!0:b[t]=0;n||(x=!1)}function n(e,t,n,o,i,l){var r,s,c=[],d=n.type;if(!v._callbacks[e])return[];for("keyup"==d&&p(e)&&(t=[e]),r=0;r<v._callbacks[e].length;++r)if(s=v._callbacks[e][r],(o||!s.seq||b[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!n.metaKey&&!n.ctrlKey||a(t,s.modifiers))){var u=!o&&s.combo==i,g=o&&s.seq==o&&s.level==l;(u||g)&&v._callbacks[e].splice(r,1),c.push(s)}return c}function o(e,t,n,o){v.stopCallback(t,t.target||t.srcElement,n,o)||!1===e(t,n)&&(d(t),u(t))}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&y===t?void(y=!1):void v.handleKey(t,c(e),e)}function g(){clearTimeout(k),k=setTimeout(t,1e3)}function f(e,n,i,l){function r(n){o(i,n,e),"keyup"!==l&&(y=s(n)),setTimeout(t,10)}b[e]=0;for(var a=0;a<n.length;++a){var c=a+1===n.length,d=c?r:function(t){return function(){x=t,++b[e],g()}}(l||m(n[a+1]).action);_(n[a],d,l,e,a)}}function _(e,t,o,i,l){v._directMap[e+":"+o]=t,e=e.replace(/\s+/g," ");var r,s=e.split(" ");if(s.length>1)return void f(e,s,t,o);r=m(e,o),v._callbacks[r.key]=v._callbacks[r.key]||[],n(r.key,r.modifiers,{type:r.action},i,e,l),v._callbacks[r.key][i?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:i,level:l,combo:e})}var v=this;if(e=e||i,!(v instanceof h))return new h(e);v.target=e,v._callbacks={},v._directMap={};var k,b={},y=!1,w=!1,x=!1;v._handleKey=function(e,i,l){var r,s=n(e,i,l),a={},c=0,d=!1;for(r=0;r<s.length;++r)s[r].seq&&(c=Math.max(c,s[r].level));for(r=0;r<s.length;++r)if(s[r].seq){if(s[r].level!=c)continue;d=!0,a[s[r].seq]=1,o(s[r].callback,l,s[r].combo,s[r].seq)}else d||o(s[r].callback,l,s[r].combo);var u="keypress"==l.type&&w;l.type!=x||p(e)||u||t(a),w=d&&"keydown"==l.type},v._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)_(e[o],t,n)},r(e,"keypress",l),r(e,"keydown",l),r(e,"keyup",l)}if(o){for(var k,b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},P=1;P<20;++P)b[111+P]="f"+P;for(P=0;P<=9;++P)b[P+96]=P.toString();h.prototype.bind=function(e,t,n){var o=this;return e=e instanceof Array?e:[e],o._bindMultiple.call(o,e,t,n),o},h.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},h.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},h.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},h.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!v(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},h.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},h.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(b[t]=e[t]);k=null},h.init=function(){var e=h(i);for(var t in e)"_"!==t.charAt(0)&&(h[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},h.init(),o.Mousetrap=h,void 0!==e&&e.exports&&(e.exports=h),void 0!==(n=function(){return h}.call(exports,t,exports,e))&&(e.exports=n)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,o,i,l){var r=this;return!!r.paused||!t[i]&&!t[l]&&n.call(r,e,o,i)},e.prototype.bindGlobal=function(e,n,o){if(this.bind(e,n,o),e instanceof Array)for(var i=0;i<e.length;i++)t[e[i]]=!0;else t[e]=!0},e.init()}(Mousetrap),Mousetrap=function(e){var t=e,n=t.stopCallback,o=!0;return t.stopCallback=function(e,t){return!o||n(e,t)},t.pause=function(){o=!1},t.unpause=function(){o=!0},t}(Mousetrap)},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdAlign",{controller:function(){this.aligns=["left","center","right"],this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdArea",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;t.keyPress={isMeta:!1,isShift:!1},this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.formModel=function(e){if(t.keyPress.isMeta&&t.keyPress.isShift)this.top=this[e],this.right=this[e],this.bottom=this[e],this.left=this[e];else if(t.keyPress.isMeta)switch(e){case"top":t.bottom=t.top;break;case"bottom":t.top=t.bottom;break;case"left":t.right=t.left;break;case"right":t.left=t.right}this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="kong-ui__area"><div class="kong-ui__area__indicators"><span class="kong-ui__area__indicator">TP</span><span class="kong-ui__area__indicator">RT</span><span class="kong-ui__area__indicator">BT</span><span class="kong-ui__area__indicator">LT</span></div><div class="kong-ui__area__inputs"><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.right" ng-change="$ctrl.formModel(\'right\')" placeholder="Right"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input app-undo-redo kong-drag-unit class="kong-ui__area__input" on-update-keypress="$ctrl.updateKeyPress(meta, shift)" config="$ctrl.config" type="text" ng-model="$ctrl.left" ng-change="$ctrl.formModel(\'left\')" placeholder="Left"/></div><div class="kong-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdArea2",{controller:["$scope",function(e){void 0!==this.model&&/^((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%)) ((-|\+)?\d+(px|vh|vw|em|%)) ((-|\+)?0(px|vh|vw|em|%))$/g.test(this.model)||(this.model="0px 0px 0px 0px");var t=this;this.setUnits=function(){var e=this.model.split(" ");this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]},this.setUnits(),this.keyPress={isMeta:!1,isShift:!1},this.formModel=function(e){this.keyPress.isMeta&&(this.top=this[e],this.bottom=this[e]),this.model=[this.top,this.right,this.bottom,this.left].join(" ")},e.$watch("$ctrl.model",function(){t.setUnits()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t}}],template:'<div class="kong-ui__area"><div class="kong-ui__area__indicators"><span class="kong-ui__area__indicator">TP</span><span class="kong-ui__area__indicator kong-ui__area__indicator--disabled">RT</span><span class="kong-ui__area__indicator">BT</span><span class="kong-ui__area__indicator kong-ui__area__indicator--disabled">LT</span></div><div class="kong-ui__area__inputs"><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="kong-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.top" ng-change="$ctrl.formModel(\'top\')" placeholder="Top"/><input class="kong-ui__area__input kong-ui__area__input--disabled" value="0px"/><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta,shift)" class="kong-ui__area__input" config="$ctrl.config" type="text" ng-model="$ctrl.bottom" ng-change="$ctrl.formModel(\'bottom\')" placeholder="Bottom"/><input class="kong-ui__area__input kong-ui__area__input--disabled" value="0px"/></div><div class="kong-ui__area__desc"><small>Accept <strong>px</strong><strong>rem</strong><strong>em</strong><strong>%</strong>. Example <strong>10px</strong>.</small></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBackgroundProps",{controller:["$KongHotKeys",function(e){var t=this;this.active=!1,this.close=function(){this.active=!1},this.open=function(){t.active=!0,e.escKeyPressManager.add(function(){return t.active=!1,!0})},this.close=function(){e.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&e.escKeyPressManager.pop()}}],template:'<div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Background Props</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><kong-ed-background-position model="$ctrl.model.position"></kong-ed-background-position><kong-ed-background-size model="$ctrl.model.size"></kong-ed-background-size><kong-ed-background-repeat model="$ctrl.model.repeat"></kong-ed-background-repeat><kong-ed-background-attachment model="$ctrl.model.attachment"></kong-ed-background-attachment></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div><a class="kong-ui__setting-btn" ng-click="$ctrl.open()">Background Properties</a>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundPosition",{controller:function(){this.updatePosition=function(e){this.model=e}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__background-position" drag-position model="$ctrl.model" on-update="$ctrl.updatePosition(position)"><i class="lmr lmr-plus"></i></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundSize",{controller:function(){this.options={Auto:"auto",Length:"100px 100px",Percentage:"100% 100%",Cover:"cover",Contain:"contain",Initial:"initial"},this.selectSize=function(e){this.model=e,this.show=!1}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Size</div><div class="kong-ui__popup__input"><div class="kong-ui__background-size"><input app-undo-redo type=\'text\' class="kong-ui__input-text" ng-model=\'$ctrl.model\' ng-model-option="{debounce:250}"}/><span class="kong-ui__background-size__btn" ng-click="$ctrl.show=true"><i class="lmr lmr-plus"></i></span><div ng-show="$ctrl.show"><ul class="kong-ui__background-size__options"><li ng-repeat="(k,v) in ::$ctrl.options" ng-click="$ctrl.selectSize(v)" ng-bind="::k"></li></ul><div class="kong-ui__background-size__backdrop" ng-click="$ctrl.show=false"></div></div></div></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundRepeat",{controller:function(){this.config={options:{"no-repeat":"None","repeat-x":"X","repeat-y":"Y",repeat:"XY"}}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Repeat</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></kong-ed-text-buttons></div></div>',bindings:{model:"="}}),angular.module("kong.builder.app").component("kongEdBackgroundAttachment",{controller:function(){this.config={options:{fixed:"Fixed",scroll:"Scroll",local:"Local"}}},template:'<div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Attach</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model" config="$ctrl.config"></kong-ed-text-buttons></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBackgroundStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={cross:"none","eye-dropper":"color",picture:"image",gradient:"gradient","film-play":"video"}},template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--small"ng-click="$ctrl.model=v"ng-if="::$ctrl.config[v]"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><i class="lmr lmr-{{::k}}"></i></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBorderStyle",{controller:function(){void 0===this.model&&(this.model="none"),this.sample={None:"none",___:"solid","...":"dotted","- -":"dashed"},void 0!==this.config&&this.config.no_none_border&&delete this.sample.none},template:'<div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn"ng-click="$ctrl.model=v"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-repeat="(k, v) in ::$ctrl.sample"><span class="kong-ui__borderStyle__item"><i class="kong-ui__borderStyle__icon kong-ui__borderStyle__icon--{{::v}}" ng-bind="::k"></i></span></button></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdBoxShadow",{controller:["$scope","$KongHotKeys",function(e,t){var n=this;this.model||(this.model="none");var o=function(){if(/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.test(n.model)){n.shadow={};var e=/(-?\d+)px (-?\d+)px (-?\d+)px (.+)/g.exec(n.model);n.shadow.x=parseInt(e[1]),n.shadow.y=parseInt(e[2]),n.shadow.blur=parseInt(e[3]),n.shadow.color=e[4]}else n.shadow={x:0,y:0,blur:10,color:"rgba(0,0,0,0.1)"}},i=e.$watch("$ctrl.shadow",function(){i()});this.open=function(){o(),e.$watch("$ctrl.shadow",function(){n.model=n.shadow.x+"px "+n.shadow.y+"px "+n.shadow.blur+"px "+n.shadow.color},!0),this.active=!0,t.escKeyPressManager.add(function(){return i(),n.active=!1,!0})},this.setToNone=function(){this.model="none"},this.close=function(){t.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&t.escKeyPressManager.pop()}}],template:'<div class="kong-ui__boxshadow"><input type="text" class="kong-ui__input-text" ng-model="$ctrl.model" readonly/><div class="kong-ui__boxshadow__btns kong-ui--alignRight kong-ui--paddingTop7"><span class="kong-ui__btn kong-ui__btn--small kong-ui__btn--plain kong-ui--marginRight3" ng-disabled="$ctrl.model == \'none\'" ng-click="$ctrl.setToNone()">Set as None</span><span class="kong-ui__btn kong-ui__btn--small kong-ui__btn--primary" ng-click="$ctrl.open()">Edit</span></div></div><div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Shadow</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">X</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.x" config="{min:-50, max:50, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Y</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.y" config="{min:-50, max:50, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Blur</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.shadow.blur" config="{min:0, max:100, step:1}"></kong-ed-slider></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.shadow.color" config="{\'format\':\'rgba\'}"></kong-ed-colorpicker></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdCodeEditor",{controller:["$scope","$KongHotKeys","$timeout",function(e,n,o){var i=this;this.expand=!1;var l,r,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;clearTimeout(r),r=setTimeout(function(){l.resize(),l.renderer.updateFull()},e)};this.resizeBox=function(){this.expand?n.escKeyPressManager.execute():(this.expand=!0,s(),n.escKeyPressManager.add(function(){return i.expand=!1,s(),!0}))},this.widenBox=function(){this.widen=!this.widen,s()},this.options={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"html",onLoad:function(e){l=e,s(0)}},"object"==t(this.config)&&(this.options=angular.merge(this.options,this.config)),this.$onDestroy=function(){this.expand&&n.escKeyPressManager.pop()}}],template:'<div class="kong-ui__codeEditor" ng-class="{\'kong-ui__codeEditor--expanded\':$ctrl.expand, \'kong-ui__codeEditor--widen\': $ctrl.widen}"><a class="kong-ui__codeEditor__expandBtn" ng-click="$ctrl.resizeBox()"><span class="lmr lmr-{{$ctrl.expand?\'contract\':\'expand\'}}"></span></a><a class="kong-ui__codeEditor__widenBtn" ng-click="$ctrl.widenBox()"><span class="lmr lmr-arrow-{{$ctrl.widen?\'left\':\'right\'}}"></span></a><div class="kong-ui__codeEditor__wrap" ui-ace="$ctrl.options" ng-model="$ctrl.model" ng-model-options="{debounce: 500}"></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdColorpicker",{controller:function(){this.update=function(e){this.model=e}},template:'<div class="kong-ui__colorpicker"><small class="kong-ui__colorpicker__transparent-btn" ng-show="$ctrl.model != \'transparent\'" ng-click="$ctrl.model=\'transparent\'" title="Transparent"><i class="fa fa-genderless" aria-hidden="true"></i></small><input class="kong-ui__colorpicker__input kong-ui__input-text" ng-model="$ctrl.model" type="text" app-undo-redo/><span class="kong-ui__colorpicker__select-btn" colorpicker ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }"><i ng-style="{\'background-color\':$ctrl.model}"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdDesc",{controller:function(){},transclude:!0,template:'<p class="kong-ui__desc" ng-bind-html="::$ctrl.config.message"></p>',bindings:{config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdFontSource",{controller:function(){void 0===this.model&&(this.model={source:"inherit",google:{family:"Open Sans",variant:"regular",subset:"latin"},uploaded:"",typekit:""}),this.sample={inherit:"Inherit",google:"Google Fonts",uploaded:"Uploaded Fonts",typekit:"Typekit Fonts"}},template:'<div class="kong-ui__fontSource"><div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.sample"title="{{::v}}"ng-click="$ctrl.model.source=k"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model.source === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("kong.builder.app").__config.root+'/modules/img/\'+k+\'.svg)\'}"></span></button></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'google\'" google-fonts ng-model="$ctrl.model.google"></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'uploaded\'"><kong-ed-selection-loader model="$ctrl.model.uploaded" config="{url: \''+angular.module("kong.builder.app").__config.global_api+'/uploaded-fonts\', name: \'font\'}"></kong-ed-selection-loader></div><div class="kong-ui__fontSource__source" ng-if="$ctrl.model.source == \'typekit\'"><kong-ed-selection-loader model="$ctrl.model.typekit" config="{url: \''+angular.module("kong.builder.app").__config.global_api+"/typekit-fonts', name: 'font'}\"></kong-ed-selection-loader></div></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=[["#DBE6F6","#C5796D"],["#3494E6","#EC6EAD"],["#67B26F","#4ca2cd"],["#F3904F","#3B4371"],["#ee0979","#ff6a00"],["#A770EF","#CF8BF3","#FDB99B"],["#833ab4","#fd1d1d","#fcb045"],["#FEAC5E","#C779D0","#4BC0C8"],["#f4c4f3","#fc67fa"],["#f4c4f3","#fc67fa"],["#ff7e5f","#feb47b"],["#ff00cc","#333399"],["#de6161","#2657eb"],["#ef32d9","#89fffd"],["#A1FFCE","#FAFFD1"],["#BE93C5","#7BC6CC"],["#bdc3c7","#2c3e50"],["#ffd89b","#19547b"],["#fceabb","#f8b500"],["#f85032","#e73827"],["#56ab2f","#a8e063"],["#000428","#004e92"],["#42275a","#734b6d"],["#141E30","#243B55"],["#EECDA3","#EF629F"],["#5614B0","#DBD65C"],["#fd746c","#ff9068"],["#eacda3","#d6ae7b"],["#457fca","#5691c8"],["#B24592","#F15F79"],["#C02425","#F0CB35"],["#c2e59c","#64b3f4"],["#FFB75E","#ED8F03"],["#00c6ff","#0072ff"],["#70e1f5","#ffd194"],["#606c88","#3f4c6b"],["#E6DADA","#274046"],["#ddd6f3","#faaca8"],["#ECE9E6","#FFFFFF"],["#4776E6","#8E54E9"],["#CC95C0","#DBD4B4","#7AA1D2"],["#02AAB0","#00CDAC"],["#396afc","#2948ff"],["#0cebeb","#20e3b2","#29ffc6"],["#36D1DC","#5B86E5"],["#56CCF2","#2F80ED"],["#F7971E","#FFD200"],["#00c3ff","#ffff1c"]];e.module("kong.builder.app").component("kongEdGradient",{controller:["$scope","$KongHotKeys",function(e,o){var i=this;this.presets=n,this.active=!1,this.collectionShow=!1,"object"!=t(this.model)&&(this.model={color_1:"rgba(0,0,0,0.4)",color_2:"rgba(0,0,0,0.4)",color_3:"rgba(0,0,0,0.4)",angle:180,radial:!1,radial_x:"center",radial_y:"bottom"}),this.radialConfigX={options:{left:"Left",center:"Center",right:"Right"},class:"column"},this.radialConfigY={options:{Top:"Top",center:"Center",bottom:"Bottom"},class:"column"},this.open=function(){e.$watch("$ctrl.model",function(){i.formModel()},!0),this.active=!0,o.escKeyPressManager.add(function(){return l(),i.active=!1,!0})},this.showCollection=function(){this.collectionShow=!0,o.escKeyPressManager.add(function(){return i.collectionShow=!1,!0})},this.formGradient=function(e){return e.radial?e.color_3?"radial-gradient(circle at "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"radial-gradient(circle at  "+e.radial_y+" "+e.radial_x+", "+e.color_1+", "+e.color_2+")":"":e.color_3?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+", "+e.color_3+")":e.color_1&&e.color_2?"linear-gradient("+e.angle+"deg, "+e.color_1+", "+e.color_2+")":""},this.formModel=function(){this.model.value=this.formGradient(this.model)},this.formPreset=function(e){return e[2]?"linear-gradient(90deg, "+e[0]+", "+e[1]+", "+e[2]+")":"linear-gradient(90deg, "+e[0]+", "+e[1]+")"},this.setPreset=function(e){this.model.color_1=e[0],this.model.color_2=e[1],this.model.color_3=e[2]?e[2]:"",this.model.value=this.formGradient(this.model)};var l=e.$watch("$ctrl.model",function(){l()});this.close=function(){o.escKeyPressManager.execute()},this.$onDestroy=function(){this.active&&o.escKeyPressManager.pop()}}],template:'<div class="kong-ui__gradient"><div class="kong-ui__gradient__bg"  ng-click="$ctrl.open()"><span ng-style="{\'background\':$ctrl.model.value}"></span></div><span class="kong-ui__gradient__edit" ng-click="$ctrl.open()">Edit</span><span class="kong-ui__gradient__openPresets" ng-click="$ctrl.showCollection()"><i class="lmr lmr-icons2"></i></span></div><div class="kong-ui__gradient__collection" ng-class="{\'kong-ui__gradient__collection--show\':$ctrl.collectionShow}"><div class="kong-ui__gradient__header"><span class="kong-ui__gradient__back lmr lmr-chevron-left" ng-click="$ctrl.close()"></span><h6>Gradient Presets</h6></div><div class="kong-ui__gradient__list"><div class="kong-ui__gradient__preset" ng-repeat="preset in ::$ctrl.presets" ng-style="::{\'background-image\':$ctrl.formPreset(preset)}" ng-click="$ctrl.setPreset(preset)"></div></div></div><div class="kong-ui__popup" ng-class="{\'kong-ui__popup--show\':$ctrl.active}"><h6 class="kong-ui__popup__title">Gradient</h6><span class="kong-ui__popup__close lmr lmr-cross" ng-click="$ctrl.close()"></span><div class="kong-ui__popup__container"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 1</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_1"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 2</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_2"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Color 3</div><div class="kong-ui__popup__input"><kong-ed-colorpicker model="$ctrl.model.color_3"></kong-ed-colorpicker></div></div><div class="kong-ui__popup__row" ng-if="!$ctrl.model.radial"><div class="kong-ui__popup__label">Angle</div><div class="kong-ui__popup__input"><kong-ed-slider model="$ctrl.model.angle" config="{min:0, max:270, step:1}"></kong-ed-slider></div></div><div ng-if="::$ctrl.config.radial"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Radial</div><div class="kong-ui__popup__input"><kong-ed-switch model="$ctrl.model.radial"></kong-ed-switch></div></div><div ng-if="$ctrl.model.radial"><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">X</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model.radial_x" config="$ctrl.radialConfigX"></kong-ed-text-buttons></div></div><div class="kong-ui__popup__row"><div class="kong-ui__popup__label">Y</div><div class="kong-ui__popup__input"><kong-ed-text-buttons model="$ctrl.model.radial_y" config="$ctrl.radialConfigY"></kong-ed-text-buttons></div></div></div></div></div></div><div class="kong-ui__popup__backdrop" ng-click="$ctrl.close()"></div>',bindings:{model:"=",config:"<"}})}(window.angular)},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdHAlign",{controller:function(){this.aligns={"align-top":"top","align-center-horizontal":"middle","align-bottom":"bottom"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdIconBox",{controller:function(){var e=this;this.setModel=this.config.requireValue?function(t){e.model!=t&&(e.model=t)}:function(t){e.model=e.model==t?"":t}},template:'<div class="kong-ui__iconBox" ng-class="::{\'kong-ui__iconBox--requireValue\': $ctrl.config.requireValue}"><button class="kong-ui__iconBox__item" ng-click="$ctrl.setModel(icon)" ng-repeat="icon in ::$ctrl.config.icons" ng-class="{\'kong-ui__iconBox__item--active\': $ctrl.model == icon}"><span class="{{::icon}}"></span></button></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdIcons",{controller:["$KongService","$KongHotKeys","$http","$timeout",function(e,t,n,o){var i=this;this.service=e,i.state="loading",void 0===this.config&&(this.config={requireValue:!0}),n({cache:!0,method:"GET",url:""+angular.module("kong.builder.app").__config.global_api+i.config.url}).then(function(n){Array.isArray(n.data)?(i.icons=n.data,i.state="loaded",i.search="",i.select=function(e){i.model=i.model===e?"":e},i.expand=!1,i.open=function(){i.expand=!0,e.icons_expand=this.expand,t.escKeyPressManager.add(function(){return i.expand=!1,e.icons_expand=i.expand,!0})},i.close=function(){t.escKeyPressManager.execute()},i.$onDestroy=function(){e.icons_expand&&(e.icons_expand=!1),i.expand&&t.escKeyPressManager.pop()},i.update=function(e){i.model=e}):i.state="fail"},function(){i.state="fail"})}],template:'<div class="kong-ui__loader" ng-class="\'kong-ui__loader--\'+$ctrl.state"><div class="kong-ui__loader__preload"><span></span><span></span><span></span></div><div class="kong-ui__loader__failer">Error! cannot get data.</div></div><div ng-if="$ctrl.state == \'loaded\'"><div class="kong-ui__icons" ng-class="{\'kong-ui__icons--expand\':$ctrl.expand}"><div class="kong-ui__icons__wrap"><span class="kong-ui__icons__shorten" ng-show="$ctrl.expand" ng-click="$ctrl.close()">Shorten<i class="dashicons dashicons-arrow-down"></i></span><kong-icon-list model="$ctrl.model" on-update="$ctrl.update(icon)" icons="$ctrl.icons" config="$ctrl.config" expand="$ctrl.expand"></kong-icon-list></div></div><div class="kong-ui__icons__footer"><span class="kong-ui__icons__expand" ng-click="$ctrl.open()">Expand<i class="dashicons dashicons-arrow-up"></i></span></div></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdIcon",{controller:function(){"object"!=t(this.model)&&(this.model={source:"lnr",icon:"home"}),void 0===this.config&&(this.config={requireValue:!0}),this.tabs={LNR:"lnr",FA:"fa"};var e={};e[this.model.source]=this.model.icon,this.setSource=function(t){e[this.model.source]=this.model.icon,this.model.source=t,e.hasOwnProperty(this.model.source)?this.model.icon=e[this.model.source]:"fa"==this.model.source?this.model.icon="adjust":"lnr"==this.model.source&&(this.model.icon="home")},this.faConfig=angular.merge({url:"/font-awesome",source:"fa"},this.config),this.lnrConfig=angular.merge({url:"/linear-icons",source:"lnr"},this.config)},template:'<div class="kong-ui__icon"><div class="kong-ui__icon__tabs"><button ng-repeat="(k,v) in ::$ctrl.tabs" class="kong-ui__icon__tab" ng-bind="::k" ng-click="$ctrl.setSource(v)" ng-class="{\'kong-ui__icon__tab--active\':$ctrl.model.source == v}"></button></div><div class="kong-ui__icon__container"><kong-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'fa\'" config="$ctrl.faConfig"></kong-ed-icons><kong-ed-icons model="$ctrl.model.icon" ng-if="$ctrl.model.source == \'lnr\'" config="$ctrl.lnrConfig"></kong-ed-icons></div></div>',bindings:{model:"=",config:"<"}}),angular.module("kong.builder.app").component("kongEdSocialIcons",{controller:function(){this.config={url:"/font-awesome-social-icons",source:"fa"}},template:'<kong-ed-icons model="$ctrl.model" config="$ctrl.config"></kong-ed-icons>',bindings:{model:"="}})},,function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdId",{controller:function(){var e=/^[a-zA-Z][\w-]*$/;this.checkValid=function(){if(this.model){var t=new RegExp(e);this.invalid=!t.test(this.model)}}},template:'<input app-undo-redo class="kong-ui__input-text" ng-class="{\'kong-ui-invalid\':$ctrl.invalid}" ng-model="$ctrl.model"type="text" ng-model-options="{ debounce: 250 }" ng-change="$ctrl.checkValid()"/>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdIframe",{controller:["$scope",function(e){this.model||(this.model="");var t=this;this.setModel=function(e){this.model=e},e.$watch("$ctrl.model",function(){t.visualModel=t.model}),e.$watch("$ctrl.visualModel",function(){var e=/<iframe .*src="(http[\S^"]+)".*><\/iframe>/g,n=e.exec(t.visualModel);t.model=null!=n?n[1]:t.visualModel})}],template:'<textarea app-undo-redo class="kong-ui__textarea" ng-model="$ctrl.visualModel" rows="5" cols="20"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdImageButtons",{controller:function(){this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--image"ng-repeat="(k, v) in ::$ctrl.config"ng-click="$ctrl.setModel(k)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === k}"><span ng-style="::{\'background-image\':\'url('+angular.module("kong.builder.app").__config.root+"/modules/img/'+v+')'}\"></span></button></div>",bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdImageSelection",{controller:function(){},template:'<div class="kong-ui__imageSelection"><div class="kong-ui__imageSelection__image"ng-click="$ctrl.model=v"ng-repeat="(k, v) in ::$ctrl.config"ng-class="{\'kong-ui__imageSelection__image--active\':$ctrl.model == v}"><img ng-src="{{\''+angular.module("kong.builder.app").__config.img+'\'+k}}" width="50px" height="50px"/></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdLabelSelection",{controller:function(){this.list=angular.merge({},this.config.list)},template:'<select ng-model="$ctrl.model" class="kong-ui__select"><option ng-bind="$ctrl.config.label"></option><option ng-repeat="(key, value) in ::$ctrl.list" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdLink",{controller:["$scope",function(e){}],template:'<div class="kong-ui__link"><input app-undo-redo class="kong-ui__link__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model.url" type="text" ng-model-options="{debounce:250}"/><span title="Open in a new tab" class="kong-ui__link__newtab" ng-class="{\'kong-ui__link__newtab--active\': $ctrl.model.new_tab}" ng-click="$ctrl.model.new_tab=!$ctrl.model.new_tab"><i class="lmr lmr-share"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdMultiSelect",{controller:["$scope","$KongService","$KongHotKeys",function(e,t,n){var o=this,i=void 0;this.list=angular.merge({},this.config.list),this.formList=function(){i=this.model.split(",");for(var e in this.list)this.list[e].active=-1!=i.indexOf(e)},this.formList(),e.$watch("$ctrl.model",function(){o.formList()}),this.formModel=function(){i.length=0;for(var e in this.list)this.list[e].active&&i.push(e);this.generateModel()},this.checkAll=function(){i.length=0;for(var e in this.list)i.push(e),this.list[e].active=!0;this.generateModel()},this.uncheckAll=function(){i.length=0;for(var e in this.list)this.list[e].active=!1;this.generateModel()},this.generateModel=function(){this.model=i.join(",")},this.show=!1,this.open=function(){this.show||(t.icons_expand=!0,this.show=!0,n.escKeyPressManager.add(function(){return t.icons_expand=!1,o.show=!1,!0}))},this.close=function(){n.escKeyPressManager.execute()},this.isCheckedAll=function(){for(var e in this.list)if(!this.list[e].active)return!1;return!0}}],template:'<div class="kong-ui__multiSelect"><div class="kong-ui__multiSelect__popup" kong-esc-to-close on-esc="$ctrl.close()" ng-if="$ctrl.show"><div class="kong-ui__multiSelect__header"><button ng-click="$ctrl.uncheckAll()" ng-if="$ctrl.isCheckedAll()" class="kong-ui__multiSelect__unCheckAllBtn">Uncheck All</button><button ng-click="$ctrl.checkAll()" class="kong-ui__multiSelect__checkAllBtn">Check All</button><button ng-click="$ctrl.close()" class="kong-ui__multiSelect__closeBtn" title="Close"><i class="lmr lmr-cross"></i></button></div><div class="kong-ui__multiSelect__list"><div class="kong-ui__multiSelect__list__item" ng-repeat="(k, v) in ::$ctrl.list"><label ng-click="$ctrl.formModel()"><span ng-bind="::v.name"></span><input type="checkbox" ng-model="v.active"/></label></div></div></div><div class="kong-ui__multiSelect__openListBtn" ng-click="$ctrl.open()"><span ng-bind="::$ctrl.config.message"></span><i class="lmr lmr-text-align-justify"></i></div><div class="kong-ui__multiSelect__selected"><button ng-repeat="(k, v) in ::$ctrl.list" ng-click="v.active=false; $ctrl.formModel()" ng-show="v.active"><span ng-bind="::v.name"></span><i class="lmr lmr-cross"></i></button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdNumber",{controller:function(){this.model||(this.model=0),this.updateNumber=function(e){this.model=e}},template:'<div class="kong-ui__number"><input app-undo-redo class="kong-ui__number__input kong-ui__input-number" dragnumber on-update-number="$ctrl.updateNumber(number)" config="$ctrl.config" type="text" ng-trim="true" ng-model="$ctrl.model"/><span ng-bind="::$ctrl.config.unit"></span></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdRadio",{controller:function(){var e=new Date;this.uniqueID="radio-uq-"+e.getMilliseconds()},template:'<div ng-repeat="(k, v) in ::$ctrl.config" style="margin-bottom:5px"><label><input type="radio" ng-model="$ctrl.model" name="{{::$ctrl.uniqueID}}" value="{{::v}}"/> {{::k}}</label></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};[{type:"text",default:{desktop:0},hasConfig:!0},{type:"slider",default:{desktop:0},hasConfig:!0},{type:"area",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"area2",default:{desktop:"0px 0px 0px 0px"},hasConfig:!0},{type:"unit",default:{desktop:"0px"},hasConfig:!0},{type:"text-align",default:{desktop:""},hasConfig:!1},{type:"align",default:{desktop:""},hasConfig:!1},{type:"spacing",default:{desktop:{margin:"0px 0px 0px 0px",border:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}},hasConfig:!0},{type:"selection",default:{desktop:""},hasConfig:!0},{type:"v-align",default:{desktop:""},hasConfig:!1},{type:"text-buttons",default:{desktop:""},hasConfig:!0},{type:"image-buttons",default:{desktop:""},hasConfig:!0},{type:"icon-buttons",default:{desktop:""},hasConfig:!0}].forEach(function(e){for(var n=e.type.split("-"),o=0;o<n.length;o++){var i=n[o];n[o]=i.charAt(0).toUpperCase()+i.substring(1)}var l=n.join(""),r={model:"="};e.hasConfig&&(r.config="<"),angular.module("kong.builder.app").component("kongEdRes"+l,{controller:["$KongService",function(n){this.devices=["desktop","tablet","mobile"],this.service=n,void 0!==this.model&&"object"==t(this.model)||(this.model=angular.merge({},e.default)),this.setDevice=function(e){this.service.previewDevice=e},this.updateTablet=function(){this.model.hasOwnProperty("tablet")?delete this.model.tablet:this.model.tablet="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.updateMobile=function(){this.model.hasOwnProperty("mobile")?delete this.model.mobile:this.model.hasOwnProperty("tablet")?this.model.mobile="object"===t(this.model.tablet)?angular.merge({},this.model.tablet):this.model.tablet:this.model.mobile="object"===t(this.model.desktop)?angular.merge({},this.model.desktop):this.model.desktop},this.onDesktop=function(){return"desktop"==this.service.previewDevice||"tablet-l"==this.service.previewDevice||"tablet"==this.service.previewDevice&&!this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&!this.model.hasOwnProperty("tablet")},this.onTablet=function(){return"tablet"==this.service.previewDevice&&this.model.hasOwnProperty("tablet")||"mobile"==this.service.previewDevice&&!this.model.hasOwnProperty("mobile")&&this.model.hasOwnProperty("tablet")},this.onMobile=function(){return"mobile"==this.service.previewDevice&&this.model.hasOwnProperty("mobile")}}],template:'<div class="kong-ui__resDevice" ng-class="\'kong-ui__resDevice--\'+$ctrl.service.previewDevice"><div class="kong-ui__resDevice__devices"><label ng-repeat="device in ::$ctrl.devices" ng-click="$ctrl.setDevice(device)"><span class="lmr lmr-{{::device}}"></span></label></div><div class="kong-ui__resDevice__editor"><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'tablet\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'tablet\')}" ng-click="$ctrl.updateTablet()"></label><label class="kong-ui__resDevice__toggle" ng-if="$ctrl.service.previewDevice == \'mobile\'" ng-class="{\'active\':$ctrl.model.hasOwnProperty(\'mobile\')}" ng-click="$ctrl.updateMobile()"></label><kong-ed-'+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.desktop" ng-if="$ctrl.onDesktop()"></kong-ed-'+e.type+"><kong-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.tablet" ng-if="$ctrl.onTablet()"></kong-ed-'+e.type+"><kong-ed-"+e.type+" "+(e.hasConfig?'config="$ctrl.config"':"")+' model="$ctrl.model.mobile" ng-if="$ctrl.onMobile()"></kong-ed-'+e.type+"></div></div>",bindings:r})})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdRichEditor",{controller:["$scope",function(e){this.options={theme:"modern",paste_as_text:!0,menubar:!1,content_css:["//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i"],content_style:"body{font-family:'Open sans',sans-serif!important; font-weight:300!important; font-size:12px!important;}",setup:function(t){t.shortcuts.add("meta+s","Trigger save",function(){e.$emit("promptSave")}),t.on("init",function(){t.formatter.register("serif_font",{inline:"span",classes:"kong-serif"})}),t.addButton("serifFont",{text:"Serif",tooltip:"Serif Font",icon:!1,onclick:function(){t.execCommand("mceToggleFormat",!1,"serif_font")},onpostrender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("serif_font",function(t){e.active(t)})})}})},plugins:["colorpicker hr lists paste textcolor link fullscreen paste"]},"object"==t(this.config)?this.options=angular.merge(this.options,this.config):this.options=angular.merge(this.options,{force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",toolbar1:"bold italic underline strikethrough link unlink fullscreen | forecolor backcolor | serifFont"})}],template:'<textarea ui-tinymce="$ctrl.options" ng-model="$ctrl.model" style="opacity:0"></textarea>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSelection",{controller:function(){},template:'<select ng-model="$ctrl.model" class="kong-ui__select"><option ng-repeat="(key, value) in ::$ctrl.config" value="{{::key}}" ng-bind="::value"></option></select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSelectionLoader",{controller:["$http",function(e){var t=this;t.items=[],t.update=function(){t.state="loading",e({cache:!1,method:"GET",url:t.config.rest_url?angular.module("kong.builder.app").__config.rest_url+t.config.url:t.config.url}).then(function(e){void 0!==e.data&&(t.items=e.data,t.state="loaded",sessionStorage.setItem(t.config.url,JSON.stringify(e.data)))},function(){t.state="fail"})};var n=sessionStorage.getItem(t.config.url);if(n)try{t.items=JSON.parse(n),t.state="loaded"}catch(e){t.update()}else t.update()}],template:'<div class="kong-ui__loader" ng-class="\'kong-ui__loader--\'+$ctrl.state"><div class="kong-ui__loader__preload"><span></span><span></span><span></span></div><div class="kong-ui__loader__failer">Error! Cannot get data from Server.</div></div><div ng-if="$ctrl.state==\'loaded\'"><kong-selection model="$ctrl.model" list="$ctrl.items" name="$ctrl.config.name"></kong-selection><div class="kong-ui--marginTop7 kong-ui--alignRight" ng-if="::$ctrl.config.add_new_url"><a class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small kong-ui--marginRight3" target="_blank" href="{{$ctrl.config.add_new_url}}">Add New</a><button class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--small" ng-click="$ctrl.update()">Update</button></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSlider",{controller:function(){var e=this;isNaN(this.model)&&(this.model=0),this.onBlur=function(){isNaN(e.model)?e.model=e.config.min:e.model>e.config.max?e.model=e.config.max:e.model<e.config.min&&(e.model=e.config.min)},this.update=function(e){this.model=e}},template:'<div class="kong-ui__slider__wrap"><kong-slider config="$ctrl.config" model="$ctrl.model" on-update="$ctrl.update(v)"></kong-slider><input type="number" app-undo-redo ng-model="$ctrl.model" ng-model-options="{ debounce: 250 }" ng-blur="$ctrl.onBlur()"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdSpacing",{controller:["$scope",function(e){var t=this;this.link=!1,this.toggleLink=function(){this.link=!this.link},this.reset=function(){void 0===this.model.margin&&(this.model.margin="0px 0px 0px 0px"),void 0===this.model.border&&(this.model.border="0px 0px 0px 0px"),void 0===this.model.padding&&(this.model.padding="0px 0px 0px 0px")},e.$watch("$ctrl.model",function(){t.reset()})}],template:'<div class="kong-ui__spacing"><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.margin" identity="Margin" link="$ctrl.link" config="$ctrl.config.margin" drag-config="{min:-300, max:300, step:1}"></kong-ed-spacing-layer><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.border" identity="Border" link="$ctrl.link" config="$ctrl.config.border" drag-config="{min:0, max:50, step:1}"></kong-ed-spacing-layer><kong-ed-spacing-layer parent="$ctrl.model" model="$ctrl.model.padding" identity="Padding" link="$ctrl.link" config="$ctrl.config.padding" drag-config="{min:0, max:500, step:1}"></kong-ed-spacing-layer><div class="kong-ui__spacing__link" ng-click="$ctrl.toggleLink()"><i class="fa fa-{{$ctrl.link?\'link\':\'chain-broken\'}}" aria-hidden="true"></i></div></div>',bindings:{config:"<",model:"="}}),angular.module("kong.builder.app").component("kongEdSpacingLayer",{controller:["$timeout","$scope",function(e,t){var n=this;n.keyPress={isMeta:!1,isShift:!1},this.$onInit=function(){this.reset()},this.reset=function(){e(function(){if(n.model){var e=n.model.split(" ");n.top=e[0],n.right=e[1],n.bottom=e[2],n.left=e[3]}})},t.$watchGroup(["$ctrl.parent","$ctrl.model"],function(){n.reset()}),this.updateKeyPress=function(e,t){this.keyPress.isMeta=e,this.keyPress.isShift=t},this.formModel=function(t){e(function(){if(n.link){var e=n.bottom;n.config[3]&&(n.left=e),n.config[0]&&(n.top=e),n.config[1]&&(n.right=e)}if(n.keyPress.isMeta&&n.keyPress.isShift)n.config[0]&&(n.top=n[t]),n.config[1]&&(n.right=n[t]),n.config[2]&&(n.bottom=n[t]),n.config[3]&&(n.left=n[t]);else if(n.keyPress.isMeta)switch(t){case"top":n.bottom=n.top;break;case"bottom":n.top=n.bottom;break;case"left":n.right=n.left;break;case"right":n.left=n.right}n.model=[n.top,n.right,n.bottom,n.left].join(" ")})}}],template:'<div class="kong-ui__spacing__layer kong-ui__spacing__layer--{{$ctrl.identity}}"><h6 class="kong-ui__spacing__identity" ng-bind="$ctrl.identity"></h6><kong-sp-spacing-input ng-if="$ctrl.config[0]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.top" change="$ctrl.formModel(\'top\')" position="top" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[1]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.right" change="$ctrl.formModel(\'right\')" position="right" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[2]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" model="$ctrl.bottom" change="$ctrl.formModel(\'bottom\')" position="bottom" config="$ctrl.dragConfig"></kong-sp-spacing-input><kong-sp-spacing-input ng-if="$ctrl.config[3]" on-update-keypress="$ctrl.updateKeyPress(meta,shift)" ng-show="!$ctrl.link" model="$ctrl.left" change="$ctrl.formModel(\'left\')" position="left" config="$ctrl.dragConfig"></kong-sp-spacing-input></div>',bindings:{model:"=",parent:"=",link:"<",identity:"@",config:"<",dragConfig:"<"}}),angular.module("kong.builder.app").component("kongSpSpacingInput",{controller:function(){this.updateKeyPress=function(e,t){this.onUpdateKeypress({meta:e,shift:t})}},template:'<div class="kong-ui__spacing__field kong-ui__spacing__field--{{::$ctrl.position}}"><input app-undo-redo kong-drag-unit on-update-keypress="$ctrl.updateKeyPress(meta, shift)" class="kong-ui__spacing__field__input" type="text" ng-model="$ctrl.model" ng-change="$ctrl.change()" config="$ctrl.config"><span class="kong-ui__spacing__field__model" ng-bind="$ctrl.model"></span></div>',bindings:{model:"=",change:"&",position:"@",config:"<",onUpdateKeypress:"&"}})},function(e,exports){"use strict";var t=0;angular.module("kong.builder.app").component("kongEdSwitch",{controller:function(){this.id="lbswid-"+ ++t},template:'<div class="kong-ui__switch"><input class="kong-ui__switch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="kong-ui__switch__btn" for="{{::$ctrl.id}}"><span class="kong-ui__switch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdText",{controller:function(){},template:'<div class="kong-ui__text"><input app-undo-redo class="kong-ui__text__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:250}"/><span class="kong-ui__text__clear-btn" ng-show="$ctrl.model" ng-click="$ctrl.model=\'\'"><i class="lmr lmr-cross"></i></span></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextAlign",{controller:function(){this.aligns=["left","center","right","justify"],this.active="active",this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn kong-ui__buttonGroup__btn--smallIcon"ng-repeat="align in ::$ctrl.aligns"ng-click="$ctrl.setModel(align)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === align}"><i class="lmr lmr-text-align-{{::align}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextIcon",{controller:function(){},template:'<div class="kong-ui__text kong-ui__text--hasIcon"><span class="kong-ui__text__icon"><i class="{{::$ctrl.config.icon}}"></i></span><input app-undo-redo class="kong-ui__text__input kong-ui__input-text" ng-trim="true" ng-model="$ctrl.model" type="text" ng-model-options="{debounce:500}"/></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextTransform",{controller:function(){void 0===this.model&&(this.model=""),this.sample={AA:"uppercase",Aa:"capitalize",aa:"lowercase"},this.setModel=function(e){this.model=this.model==e?"":e}},template:'<div class="kong-ui__textTransform"><div class="kong-ui__buttonGroup"><button class="kong-ui__buttonGroup__btn"ng-repeat="(k, v) in $ctrl.sample"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model == v}"ng-click="$ctrl.setModel(v)"><span class="kong-ui__textTransform__value" ng-bind="::k"></span></button></div></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdTextarea",{controller:function(){},template:'<textarea app-undo-redo class="kong-ui__textarea" ng-trim="true" ng-model="$ctrl.model" rows="5" cols="20"  ng-model-options="{ debounce: 250 }"></textarea>',bindings:{model:"="}})},function(e,exports){"use strict";var t=0;angular.module("kong.builder.app").component("kongEdTinySwitch",{controller:function(){this.id="lbtswid-"+ ++t},template:'<div class="kong-ui__tinySwitch"><input class="kong-ui__tinySwitch__checkbox" type="checkbox" ng-model="$ctrl.model" id="{{::$ctrl.id}}"/><label class="kong-ui__tinySwitch__btn" for="{{::$ctrl.id}}"><span class="kong-ui__tinySwitch__btn__toggle"></span></label></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUiSelect",{controller:function(){},template:'<ui-select ng-model="$ctrl.model" theme="selectize" style="width: 100%;" title="{{::$ctrl.config.title}}"><ui-select-match placeholder="{{::$ctrl.config.placeholder}}">{{$select.selected.key}}</ui-select-match><ui-select-choices repeat="item.value as item in $ctrl.config.options|filter: $select.search"><span ng-bind="item.key"></span></ui-select-choices></ui-select>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUnit",{controller:["$scope",function(e){var t=this;void 0===this.config&&(this.config={}),this.config.hasOwnProperty("setting")||(this.config.setting={min:0,max:1e3,step:1}),this.config.hasOwnProperty("units")||(this.config.units=["px","em","%"]);var n=function(){var e=void 0,n=void 0,o=!0,i=!1,l=void 0;try{for(var r,s=t.config.units[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var a=r.value;if(-1!=(e=t.model.lastIndexOf(a))){n=a;break}}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}if(-1!=e){var c=t.model.substring(0,e);isNaN(c)||(t.number=+c,t.unit=n)}else t.model="0"+t.config.units[0],t.number=0,t.unit=t.config.units[0]};"string"!=typeof this.model?(this.model="0"+this.config.units[0],this.number=0,this.unit=this.config.units[0]):n(),this.formModel=function(e){this.unit=e,this.model=this.number+this.unit},e.$watch("$ctrl.model",function(){n()}),this.updateNumber=function(e){this.number=e,this.model=this.number+this.unit}}],template:'<div class="kong-ui__unit"><input dragnumber class="kong-ui__unit__input"config="$ctrl.config.setting" type="number"app-undo-redo ng-model-options="{debounce: 250}"ng-model="$ctrl.number"on-update-number="$ctrl.updateNumber(number)"ng-change="$ctrl.model=$ctrl.number+$ctrl.unit"/><div class="kong-ui__unit__selector"><span class="kong-ui__unit__selector__btn"ng-repeat="unit in ::$ctrl.config.units"ng-class="{\'kong-ui__unit__selector__btn--active\': $ctrl.unit == unit}"ng-click="$ctrl.formModel(unit)" ng-bind="::unit"></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("kong.builder.app").component("kongEdUploadImage",{controller:["$scope","$http",function(e,n){var o,i,l=this;"object"!==t(this.model)&&(this.model={url:""}),this.upload=function(){o=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),o.on("select",function(){i=o.state().get("selection").first().toJSON(),void 0!==l.config&&void 0!==l.config.full&&l.config.full?n({method:"GET",cache:!0,url:angular.module("kong.builder.app").__config.global_api+"/image-sizes",params:{id:i.id,url:i.url}}).then(function(e){l.model.url=i.url,l.model.id=i.id,l.model.padding=100*i.sizes.full.height/i.sizes.full.width,l.model.width=i.sizes.full.width,l.model.height=i.sizes.full.height,-1!=e.data?l.model.sizes=e.data:delete l.model.sizes},function(e){l.model.url=i.url,l.model.id=i.id,l.model.padding=100*i.sizes.full.height/i.sizes.full.width,l.model.width=i.sizes.full.width,l.model.height=i.sizes.full.height,delete l.model.sizes}):e.$apply(function(){l.model.url=i.url})}),o.open()},this.remove=function(){this.model.url=""}}],template:'<div class="kong-ui__upload-image"><div class="kong-ui__upload-image__empty" ng-show="!$ctrl.model.url" ng-click="$ctrl.upload()"><div class="kong-ui__upload-image__empty__icon"><i class="lmr lmr-upload2"></i><span>Upload</span></div></div><div class="kong-ui__upload-image__image" ng-class="::{\'kong-ui__upload-image__image--contain\':$ctrl.config.contain}" ng-show="$ctrl.model.url" ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\'}"><span title="Remove the Image" class="kong-ui__upload-image__image__remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i></span><span title="Re-Upload Image" class="kong-ui__upload-image__image__reupload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i></span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdUploadImageV2",{controller:["$scope",function(e){var t,n,o=this;this.upload=function(){t=wp.media({title:"Upload or Choose from Media Library",button:{text:"Select Image"},multiple:!1}),t.on("select",function(){n=t.state().get("selection").first().toJSON(),void 0!==o.config&&void 0!==o.config.full&&o.config.full?$http({method:"GET",cache:!0,url:angular.module("kong.builder.app").__config.global_api+"/image-sizes",params:{id:n.id,url:n.url}}).then(function(e){o.model.url=n.url,o.model.id=n.id,o.model.padding=100*n.sizes.full.height/n.sizes.full.width,-1!=e.data?o.model.sizes=e.data:delete o.model.sizes},function(e){o.model.url=n.url,o.model.id=n.id,o.model.padding=100*n.sizes.full.height/n.sizes.full.width,delete o.model.sizes}):e.$apply(function(){o.model.url=n.url})}),t.open()},this.remove=function(){this.model.url=""},this.updatePosition=function(e){this.model.position=e}}],template:'<div class="kong-ui__upload-image-v2" ng-class="{\'kong-ui__upload-image-v2--empty\': !$ctrl.model.url}"><div class="kong-ui__upload-image-v2__container"><div class="kong-ui__upload-image-v2__empty" ng-click="$ctrl.upload()"><div class="kong-ui__upload-image-v2__empty__icon"><span class="lmr lmr-upload2"></span>Upload Image </div></div><div class="kong-ui__upload-image-v2__image"ng-style="{\'background-image\':\'url(\'+$ctrl.model.url+ \')\', \'background-position\':$ctrl.model.position}"drag-position model="$ctrl.model.position" on-update="$ctrl.updatePosition(position)"></div></div><div class="kong-ui__upload-image-v2__btns"><span title="Re-upload" class="kong-ui__upload-image-v2__btn-upload" ng-click="$ctrl.upload()"><i class="lmr lmr-upload2"></i> Upload</span><span title="Remove" class="kong-ui__upload-image-v2__btn-remove" ng-click="$ctrl.remove()"><i class="lmr lmr-trash2"></i> Remove</span></div></div>',bindings:{model:"=",config:"<"}})},function(e,exports){"use strict";angular.module("kong.builder.app").component("kongEdVAlign",{controller:function(){this.aligns={"align-left":"left","align-center-vertical":"center","align-right":"right"},this.setModel=function(e){this.model=this.model===e?"":e}},template:'<div class="kong-ui__buttonGroup"><button type="button" class="kong-ui__buttonGroup__btn"ng-repeat="(icon, value) in ::$ctrl.aligns"ng-click="$ctrl.setModel(value)"ng-class="{\'kong-ui__buttonGroup__btn--active\':$ctrl.model === value}"><i class="lmr lmr-{{::icon}}" ></i></button></div>',bindings:{model:"="}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("appUndoRedo",["$KongService","$KongHotKeys",function(e,t){return{restrict:"A",link:function(n,o){Mousetrap(o[0]).bind(["mod+z"],function(o){return o.preventDefault(),t.active&&n.$apply(function(){e.commandManager.undo()}),!1}).bind(["mod+shift+z"],function(o){return o.preventDefault(),t.active&&n.$apply(function(){e.commandManager.redo()}),!1})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongAutoFocus",function(){return{restrict:"A",link:function(e,t,n){t.focus()}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("dragnumber",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{onUpdateNumber:"&",ngModel:"<",config:"<"},link:function(n,o,i){function l(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-a;var t=u<0?Math.floor(-u/g):-Math.floor(u/g);t=Math.abs(t)>Math.abs(u)?-u:t;var o=parseInt(p)+t*n.config.step;o>n.config.max&&(o=n.config.max),o<n.config.min&&(o=n.config.min),n.onUpdateNumber({number:o})},10)}function r(){e.off("mousemove",l),e.off("mouseup",r),f.remove()}void 0==n.ngModel&&(n.ngModel=0);var s,a=0,c=0,d=0,u=0,p=0,g=300/((n.config.max-n.config.min)/n.config.step);o.css({cursor:"ns-resize"});var f=angular.element("<div></div>");f.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),o.on("mousedown",function(t){p=n.ngModel,a=t.pageX,c=t.pageY,e.on("mousemove",l),e.on("mouseup",r),angular.element("body").append(f)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("dragPosition",["$document","$timeout",function(e,t){return{restrict:"A",scope:{model:"<",onUpdate:"&"},link:function(n,o,i){function l(e){t.cancel(c),g=e.pageY-u,p=e.pageX-d,a=g<0?0:g>f?100:100*g/f,s=p<0?0:p>_?100:100*p/_,c=t(function(){n.onUpdate({position:s.toFixed(2)+"% "+a.toFixed(2)+"%"})},10)}function r(){e.off("mousemove",l),e.off("mouseup",r)}var s,a,c=void 0,d=0,u=0,p=0,g=0,f=o.height(),_=o.width();n.model||n.onUpdate({position:"50% 50%"});var m=angular.element('<span class="drag-point"></span>');o.append(m),n.$watch("model",function(){var e=n.model.split(" ");p=e[0],g=e[1],g=parseFloat(g.substring(0,g.length-1))*f/100,p=parseFloat(p.substring(0,p.length-1))*_/100,m.css({top:g+"px",left:p+"px"})}),m.on("mousedown",function(t){t.preventDefault(),d=t.pageX-p,u=t.pageY-g,e.on("mousemove",l),e.on("mouseup",r)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongDragUnit",["$document","$timeout",function(e,t){return{require:"ngModel",scope:{ngChange:"&",ngModel:"=",config:"<",onUpdateKeypress:"&"},link:function(n,o,i){function l(e){t.cancel(s),s=t(function(){u=e.pageY-c,d=e.pageX-a;var o=u<0?Math.floor(-u/f):-Math.floor(u/f);o=Math.abs(o)>Math.abs(u)?-u:o,n.ngModel=parseInt(p)+o*n.config.step,n.ngModel>n.config.max&&(n.ngModel=n.config.max),n.ngModel<n.config.min&&(n.ngModel=n.config.min),n.ngModel+=g,n.onUpdateKeypress({meta:e.metaKey,shift:e.shiftKey}),void 0!==n.ngChange&&t(n.ngChange,0)},10)}function r(){e.off("mousemove",l),e.off("mouseup",r),_.remove(),n.onUpdateKeypress({meta:!1,shift:!1})}void 0===n.ngModel&&(n.ngModel="0px");var s=void 0,a=0,c=0,d=0,u=0,p=0,g="px",f=300/((n.config.max-n.config.min)/n.config.step);o.css({cursor:"ns-resize"}),o.on({keydown:function(e){if(32===e.which)return!1},change:function(){this.value=this.value.replace(/\s/g,"")}});var _=angular.element("<div></div>");_.css({zIndex:"9999999",position:"fixed",backgroundColor:"transparent",top:0,left:0,bottom:0,right:0,cursor:"ns-resize"}),o.on("mousedown",function(t){/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.test(n.ngModel)||(n.ngModel="0px");var o=/^((\+?|-?)(\d+|\d+\.\d+))(px|em|\%|vh|vw)$/g.exec(n.ngModel);g=o[o.length-1],p=o[1],a=t.pageX,c=t.pageY,e.on("mousemove",l),e.on("mouseup",r),angular.element("body").append(_)})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("embedFontSource",function(){return{restrict:"E",scope:{directiveModel:"<",selector:"@"},link:function(e,t,n){e.$watch("directiveModel",function(){if("google"==e.directiveModel.source){t.html("");var n=jQuery("<link rel='stylesheet'/>"),o=jQuery("<style type='text/css'></style>");if(t.append(n),t.append(o),e.directiveModel.google){var i=e.directiveModel.google.variant.match(/[0-9]+/g),l=e.directiveModel.google.variant.match(/[a-z]+/g),r=null!=i?i:"normal",s="normal";"regular"==l?(r="normal",s="normal"):"italic"==l&&(s="italic"),n.attr("href","https://fonts.googleapis.com/css?family="+e.directiveModel.google.family+":"+e.directiveModel.google.variant+"&subset="+e.directiveModel.google.subset),o.html(e.selector+"{font-family:"+e.directiveModel.google.family+";font-style:"+s+";font-weight:"+r+";}")}}else if("uploaded"==e.directiveModel.source){var a="";if(angular.module("kong.builder.app").__config.uploaded_fonts.hasOwnProperty(e.directiveModel.uploaded)){var c=angular.module("kong.builder.app").__config.uploaded_fonts[e.directiveModel.uploaded];if(c.enable){var d=c.family,u="";c.fallback&&(u=", "+c.fallback),d||(d="font_uploaded_"+e.directiveModel.uploaded),a='<style type="text/css">'+e.selector+" {font-family: '"+d+"'"+u+";}</style>"}}t.html(a)}else if("typekit"==e.directiveModel.source){var o="";e:for(var p in angular.module("kong.builder.app").__config.typekit_fonts)if(angular.module("kong.builder.app").__config.typekit_fonts[p].active){var g=!0,f=!1,_=void 0;try{for(var m,v=angular.module("kong.builder.app").__config.typekit_fonts[p].fonts[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value;if(h.id==e.directiveModel.typekit){var k="";h.fallback&&(k=", "+h.fallback),o='<style type="text/css">'+e.selector+" {font-family: '"+h.family+"'"+k+";}</style>";break e}}}catch(e){f=!0,_=e}finally{try{!g&&v.return&&v.return()}finally{if(f)throw _}}}t.html(o)}else t.html("")},!0)}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,o){var i=e(o.fileModel),l=i.assign;n.bind("change",function(){t.$apply(function(){l(t,n[0].files[0])})})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("googleFonts",["$http",function(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,n,o){n.append('<div class="kong-ui__loader__preload"><span></span><span></span><span></span></div>'),e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBgzCr9pt5xS09me72S91tTaCmLtAzWkOE",{cache:!0}).then(function(e){var o=!1;t.$watch("ngModel",function(){function i(e,t){r&&r.empty(),f="";for(var o in e){var i=e[o]==t?" selected = 'selected' ":"";f+='<option value="'+e[o]+'"'+i+">"+e[o]+"</option>"}s?(s.select2("destroy"),s.append(f),s.select2()):(r.append(f),n.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-variants'>Variants</p>").append(r)),s=jQuery(r).select2())}function l(e,t){a&&a.empty(),_="";for(var o in e){var i=e[o]==t?" selected = 'selected' ":"";_+='<option value="'+e[o]+'"'+i+">"+e[o]+"</option>"}c?(c.select2("destroy"),c.append(_),c.select2()):(a.append(_),n.append(jQuery("<p class='kong-ui-gf-label kong-ui-gf-subsets'>Subsets</p>").append(a)),c=jQuery(a).select2())}if(o)return void(o=!1);var r,s,a,c,d,u=new Date,p=angular.element('<select id="kong-google-fonts-'+u.getTime()+'" style="width: 100%"></select>'),g="",f="",_="";t.ngModel||(t.ngModel={family:"Open Sans",variant:"regular",subset:"latin"});for(var m in e.data.items){var v=e.data.items[m],h="";v.family==t.ngModel.family&&(h=" selected='selected'",d=v),g+='<option value="'+m+'"'+h+">"+v.family+"</option>"}n.html(""),n.append(p.append(g)),p.select2(),r=angular.element('<select id="google-fonts-variants-'+u.getTime()+'"></select>'),i(d.variants,t.ngModel.variant),a=angular.element('<select id="google-fonts-subsets-'+u.getTime()+'"></select>'),l(d.subsets,t.ngModel.subset),p.on("change",function(){o=!0;var n=e.data.items[jQuery(this).val()];t.$apply(function(){t.ngModel.family=n.family,t.ngModel.category=n.category,t.ngModel.variant=n.variants[0],t.ngModel.subset=n.subsets[0],i(n.variants,n.variants[0]),l(n.subsets,n.subsets[0])})}),s.on("change",function(){o=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.variant=e.val()})}),c.on("change",function(){o=!0;var e=jQuery(this);t.$apply(function(){t.ngModel.subset=e.val()})})},!0)},function(e){n.addClass("kong-ui__loader--fail"),n.html('<div class="kong-ui__loader__failer">Error! Cannot get data.</div>')})}}}])},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongSelection",function(){return{restrict:"E",scope:{list:"<",name:"<",model:"="},link:function(e,t,n){var o=new Date,i=angular.element('<select id="kong-selection-'+o.getTime()+'" style="width: 100%;"></select>');t.html(i),i.select2();var l=!1;i.on("change",function(){if(l)return void(l=!1);e.$apply(function(){e.model=jQuery(i).val()})}),e.$watch("list",function(){if(Array.isArray(e.list)){i.html(""),i.append('<option value="">Select a '+e.name+"</option>");var t=!0,n=!1,o=void 0;try{for(var l,r=e.list[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var s=l.value,a=e.model==s.id?' selected="selected"':"";i.append('<option value="'+s.id+'"'+a+">"+s.name+"</option>")}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}}}),e.$watch("model",function(){var t=!1,n=!0,o=!1,r=void 0;try{for(var s,a=e.list[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){if(s.value.id==e.model){t=!0;break}}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}t||(e.model=""),l=!0,i.val(e.model).trigger("change")})}}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("kongSlider",function(){return{restrict:"AE",scope:{model:"<",onUpdate:"&",config:"<"},link:function(e,t,n){var o=void 0,i=!1,l=t.find(".kong-ui__slider");l.slider({orientation:"horizontal",range:"max",min:e.config.min,max:e.config.max,step:e.config.step,values:[e.model],slide:function(t,n){e.$apply(function(){e.onUpdate({v:n.value}),i=!0;var t=(n.value-e.config.min)*l.width()/(e.config.max-e.config.min);o.width(t)})},change:function(t,n){var i=(n.value-e.config.min)*l.width()/(e.config.max-e.config.min);o.width(i)},create:function(e,n){o=t.find(".ui-slider-range")}}),e.$watch("model",function(){if(i)return void(i=!1);void 0!==e.model&&l.slider("values",0,e.model)})},template:'<div class="kong-ui__slider"></div>'}})},function(e,exports){"use strict";angular.module("kong.builder.app").directive("uploadedFonts",function(){return{restrict:"A",scope:{ngModel:"="},link:function(e,t,n){var o=new Date,i=angular.element('<select id="kong-uploaded-fonts-'+o.getTime()+'" style="width:100%"></select>');if(i.append('<option value="">Select a font</option>'),angular.module("kong.builder.app").__config.uploaded_fonts)for(var l in angular.module("kong.builder.app").__config.uploaded_fonts){var r=angular.module("kong.builder.app").__config.uploaded_fonts[l];if(r.enable){var s="";l==e.ngModel&&(s=" selected"),i.append('<option value="'+l+'"'+s+">"+r.name+"</option>")}}t.html(i),i.select2();var a=!1;i.on("change",function(){if(a)return void(a=!1);var t=jQuery(this).val();e.$apply(function(){e.ngModel=t})}),e.$watch("ngModel",function(){a=!0,i.val(e.ngModel).trigger("change")})}}})},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.filter("canberepeated",function(){return function(t,n){if(!t)return t;if(!n)return t;var o=(""+n).toLowerCase(),i={};return e.forEach(t,function(e,t){-1!==(""+e).toLowerCase().indexOf(o)&&(i[t]=e)}),i}}),t.filter("dropcap",["$sce",function(e){return function(t){var n="";return t.length&&(t=t.split(""),t[0]="<span class='kong-dropcap__letter'>"+t[0]+"</span>",n=t.join("")),e.trustAsHtml(n)}}]),t.filter("trustashtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),t.filter("trustAsResourceUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),t.filter("shorten",[function(){return function(e,t){return e.length>=t?e.substring(0,t-3)+"...":e}}]),t.filter("slash",function(){return function(e){return e?e.replace("-","/"):""}}),t.filter("plus",function(){return function(e){return e?e.replace(" ","+"):""}})}(window.angular)},function(e,exports){"use strict";!function(e){e.module("kongPopup",["kongService","kongHotKeys"]).factory("$KongPopup",["$timeout","$rootScope","$KongService","$KongHotKeys",function(t,n,o,i){return{showFsPopup:function(t){if(!document.querySelector(".kong-bs__fsPopup")){var n=e.element('<div class="kong-bs__fsPopup"><h6 class="kong-bs__fsPopup__title">'+t.title+'</h6><div class="kong-bs__fsPopup__body">'+t.message+'</div><div class="kong-bs__fsPopup__footer"></div></div><div class="kong-bs__fsPopup__backdrop"></div>'),o=n.find(".kong-bs__fsPopup__footer");e.element("body").append(n);var l=function(){n.remove(),"function"==typeof t.onClose&&t.onClose(n)},r=void 0;if(void 0===t.esc&&(t.esc=!0),t.esc?(r=function(){i.escKeyPressManager.execute()},i.escKeyPressManager.add(function(){return l(),!0})):r=function(){l()},Array.isArray(t.buttons))t.buttons.forEach(function(t){var n=e.element('<button class="kong-ui__btn"></button>');t.hasOwnProperty("text")?n.html(t.text):n.html("Dismiss"),t.hasOwnProperty("class")?n.addClass(t.class):n.addClass("kong-ui__btn--primary"),n.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),r()}),o.append(n)});else{var s=e.element('<button class="kong-ui__btn kong-ui__btn--primary">Dismiss</button>');o.append(s),s.on("click",function(e){e.preventDefault(),r()})}"function"==typeof t.onInit&&t.onInit(n)}}}}])}(window.angular)},function(e,exports,t){"use strict";t(78),t(79),t(80),t(81),t(82),t(83)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app",["ngSanitize","kongHotKeys","kongService","kongPopup","ui.ace","colorpicker.module","ui.router"]);t.__config=kong_app_data,t.controller("kong_builder_app_controller",function(){}),t.config(["$stateProvider",function(e){var t=window.kong_theme_option.get_models();for(var n in t)if(e.state({name:n,url:"/"+n,params:{escPress:!1,selectPress:!1}}),t[n].hasOwnProperty("childs")&&Object.keys(t[n].childs).length)for(var o in t[n].childs)e.state({name:o,url:"/"+n+"/"+o,params:{escPress:!1,selectPress:!1}});e.state({name:"root",url:"/",params:{escPress:!1}})}]),t.component("kongThemeOption",{controller:["$KongService","$scope",function(e,t){if(Modernizr.flexbox&&Modernizr.flexwrap)this.$onInit=function(){this.service=e};else{var n=document.querySelector(".kong-bs__preloader");n.className=n.className+" kong-bs__preloader--hide"}}],template:function(){return Modernizr.flexbox&&Modernizr.flexwrap?'<div class="kong-bs" ng-class="{\'kong-bs--collapsed\':$ctrl.service.sidebar_collapse}"><kong-bs-sidebar></kong-bs-sidebar><kong-bs-preview></kong-bs-preview></div><kong-help-panel></kong-help-panel>':'<div class="kong-bs__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for better experience.</p></div>'}}),t.component("kongBsSidebar",{require:{parent:"^kongThemeOption"},controller:["$KongService","$scope","$rootScope","$element","$timeout","$state","$KongHotKeys",function(e,t,n,o,i,l,r){this.$onInit=function(){var s=this;s.service=e,s.panels_lv2={},s.link=["root"],s.directPanel=!1,s.stack=[],s.is_changing=!1,n.$on("backState",function(){s.link.length>1&&l.go(s.link[s.link.length-2],{escPress:!0})});var a=function(e,n,l,a,c){s.is_changing=!0,t.$emit("out_"+a.name),t.$emit("in_"+n.name),l.hasOwnProperty("escPress")&&l.escPress||l.hasOwnProperty("selectPress")&&l.selectPress||r.escKeyPressManager.executeAll();var d=["^","/"],u=a.url.split("/"),p=n.url.split("/"),g=-1==d.indexOf(a.url)?u.length:1,f=-1==d.indexOf(n.url)?p.length:1,_=0,m=0;if(s.link=["root"],f>1)for(var v=1;v<p.length;v++)s.link.push(p[v]);2==f&&s.service.panels.hasOwnProperty(p[1])&&!s.service.panels[p[1]].hasOwnProperty("childs")&&(f=3),2==g&&s.service.panels.hasOwnProperty(u[1])&&!s.service.panels[u[1]].hasOwnProperty("childs")&&(g=3),s.directPanel=!0,(1==f||u[1]&&p[1]&&u[1]!=p[1])&&(o.find("list-lv2-panel .kong-bs__panel").addClass("showoff"),_=500),3==g&&(o.find("edit-panel .kong-bs__panel").addClass("showoff"),_=500),(g<f||u[1]&&p[1]&&u[1]!=p[1]||3==g&&3==f)&&(m=600),i(function(){(1==f||u[1]&&p[1]&&u[1]!=p[1])&&(s.service.lv2Model=null,s.panels_lv2={}),3==g&&(s.service.editModel=null),s.service.currentPanel="",i(function(){for(var e in s.service.panels){if(e==n.name){s.service.panels[e].hasOwnProperty("childs")?(s.service.lv2Model=s.service.panels[e],s.panels_lv2=s.service.lv2Model.childs||{}):(s.service.editModel=s.service.panels[e],s.service.currentPanel=e);break}if(s.service.panels[e].hasOwnProperty("childs")&&Object.keys(s.service.panels[e].childs).length)for(var t in s.service.panels[e].childs)if(t==n.name){s.service.lv2Model=s.service.panels[e],s.panels_lv2=s.service.lv2Model.childs||{},s.service.editModel=s.service.panels[e].childs[t],s.service.currentPanel=t;break}}i(function(){s.stack.length?(s.stack[0](),s.stack.shift()):s.is_changing=!1},m)})},_)};n.$on("$stateChangeStart",function(e,t,n,o,i){s.is_changing?s.stack.push(function(){a(0,t,n,o)}):a(0,t,n,o)}),i(function(){s.directPanel||l.go("root")},1)}}],template:'<div class="kong-bs__sidebar"><sidebar-header></sidebar-header><sidebar-body></sidebar-body><sidebar-footer></sidebar-footer></div><code-editor-bar></code-editor-bar><template-panel></template-panel>'}),t.component("sidebarHeader",{require:{parent:"^kongBsSidebar"},controller:["$KongService","$http","$timeout","$scope","$rootScope","$compile","$KongHotKeys","$KongPopup",function(n,o,i,l,r,s,a,c){this.$onInit=function(){var s=this;s.service=n,s.state="disabled",s.frame=jQuery("#kong-bs-iframe");var d=void 0;s.getState=function(){return"disabled"==s.state&&void 0!==d&&s.service.getDataForComparingToSave(s.service.options)!==d&&(s.state="ready",t.__config.enable_debug||(window.onbeforeunload=function(e){var t="Are you sure to quit without Saving?";return e.returnValue=t,t})),s.state},r.$on("onDataLoaded",function(e,t){t?s.state="ready":(s.state="disabled",i(function(){d=s.service.getDataForComparingToSave(s.service.options)}))}),r.$on("expired_session",function(){window.onbeforeunload=void 0,c.showFsPopup({title:"Session Expired",message:"Your Session expired. Please log in to continue use the app.",onClose:function(){if("disabled"!=s.state&&"undefined"!=typeof Storage){var o=e.merge({},s.service.options);if(Object.keys(n.reload_model_histories).length)for(var i in n.reload_model_histories)o[i]=n.reload_model_histories[i];sessionStorage.kong_customize_data=JSON.stringify(o)}document.location.replace(t.__config.login_url)},buttons:[{text:"Login"}]})}),r.$on("promptSave",function(){s.save()}),s.save=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if("ready"==s.state){var r=e.merge({},s.service.options);s.state="saving",s.service.add_styles();var a=s.service.generate_styles();o({url:t.__config.api+"/frontend-options",method:"POST",data:{options:s.service.getDataForComparingToSave(r),styles:JSON.stringify(a)}}).then(function(e){e.data?s.has_reload?(n.reload_model_histories={},i(function(){s.has_save?(s.has_save=!1,s.state="ready",s.save(l)):(s.state="disabled",d=s.service.getDataForComparingToSave(r),s.reload(),t.__config.enable_debug||(window.onbeforeunload=void 0),"function"==typeof l&&l())},500)):(s.state="saved",i(function(){d=s.service.getDataForComparingToSave(r),s.state="disabled",t.__config.enable_debug||(window.onbeforeunload=void 0),"function"==typeof l&&l()},500)):(s.state="ready",c.showFsPopup({title:"Try it Later",message:"Error! Cannot save data."}))},function(e){s.state="ready",c.showFsPopup({title:"Try it Later",message:"Error! Cannot save data."})})}},s.openCustomCodePanel=function(){l.$emit("openCustomCodePanel")},s.reload=function(){var e=n.getIframeDoc().location.href;-1!=e.indexOf("#")&&(e=e.substring(0,e.indexOf("#"))),-1==e.indexOf("?")&&(e+="?"),-1==e.indexOf("kong-preview-enable")&&(-1!=e.indexOf("&")&&(e+="&"),e+="kong-preview-enable=1"),i(function(){l.$emit("replaceFrameUrl",e)},500)},r.$on("onLoaded",function(){s.has_save?(s.has_save=!1,s.save()):s.has_reload=!1}),s.has_save=!1,s.has_reload=!1;var u=void 0;r.$on("requireReload",function(){clearTimeout(u),u=setTimeout(function(){s.has_reload=!0,"saving"==s.state||s.service.is_reloading?s.has_save=!0:i(function(){s.save()})},100)}),s.links=t.__config.redirect_links,this.redirect_link=void 0,this.redirect=function(e,t){e.metaKey||e.ctrlKey||"ready"!=this.state||(e.preventDefault(),t.link=e.currentTarget.getAttribute("href"),this.redirect_link=t)},this.closeMenu=function(){a.escKeyPressManager.execute()},this.openMenu=function(){this.redirect_link||(this.showMenu=!0,a.escKeyPressManager.add(function(){return s.redirect_link&&(s.redirect_link=void 0),s.showMenu=!1,!0}))},this.saveThenRedirect=function(){this.showMenu=!1,this.save(function(){s.redirectAnyway()})},this.redirectAnyway=function(){s.redirect_link.newTab?window.open(s.redirect_link.link,"_blank"):window.location.href=s.redirect_link.link,s.redirect_link=void 0,s.showMenu=!1},this.openHelpPanel=function(){this.closeMenu(),i(function(){r.$emit("openHelpPanel")},450)}}}],template:'<div class="kong-bs__header"><button class="kong-bs__header__links" ng-class="{\'kong-bs__header__links--active\':$ctrl.showMenu}" ng-click="$ctrl.openMenu()"><i class="lmr lmr-plus"></i></button><button class="kong-bs__header__customCode" ng-click="$ctrl.openCustomCodePanel()"><i class="lmr lmr-code"></i></button><button class="kong-bs__header__undoBtn" blink-click ng-disabled="!$ctrl.service.commandManager.canUndo()" ng-click="$ctrl.service.commandManager.undo()"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><button class="kong-bs__header__redoBtn" blink-click ng-disabled="!$ctrl.service.commandManager.canRedo()" ng-click="$ctrl.service.commandManager.redo()"><i class="lmr lmr-undo2" aria-hidden="true"></i></button><div class="kong-bs__header__save"><button class="kong-bs__header__save__btn kong-ui__btn kong-ui__btn--primary" ng-class="[\'kong-bs__header__save__btn--\'+$ctrl.getState()]" ng-click="$ctrl.save()"><span>Saved</span><span>Save</span><span></span><span><i class="fa fa-check" aria-hidden="true"></i></span></button></div></div><div class="kong-bs__header__menu" ng-class="{\'kong-bs__header__menu--show\':$ctrl.showMenu}"><div class="kong-bs__header__menu__restrict" ng-class="{\'kong-bs__header__menu__restrict--show\':$ctrl.redirect_link}"><div class="kong-bs__header__menu__restrict__wrap"><p>Changes have been detected in data. Consider to save the data before redirecting.</p><div><button class="kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.saveThenRedirect()">Save & Redirect</button></div><div><a class="kong-bs__header__menu__restrict__continue" ng-click="$ctrl.redirectAnyway()">No, Redirect without saving</a></div></div></div><div class="kong-bs__header__menu__item" ng-repeat="link in ::$ctrl.links"><a id="{{::link.id}}" href="{{::link.link}}" target="{{::(link.newTab?\'_blank\':\'_self\')}}" ng-click="$ctrl.redirect($event,link)" ng-bind="::link.text"></a></div><div class="kong-bs__header__menu__item"><a ng-click="$ctrl.openHelpPanel()">Help</a></div></div><div class="kong-bs__header__menu__backdrop" ng-click="$ctrl.closeMenu()"></div>'}),t.component("sidebarBody",{require:{parent:"^kongBsSidebar"},controller:["$KongService",function(e){this.service=e}],template:'<div class="kong-bs__body" ng-class="{\'kong-bs__body--visible\':$ctrl.service.expand_box}"><list-lv1-panel></list-lv1-panel><list-lv2-panel ng-if="$ctrl.service.lv2Model"></list-lv2-panel><edit-panel ng-if="$ctrl.service.editModel"></edit-panel></div>'}),t.component("listLv1Panel",{require:{parent:"^kongBsSidebar"},controller:["$KongService","$timeout","$state","$KongHotKeys",function(t,n,o,i){var l=this;l.service=t,this.showReset=!1,l.selectModel=function(e){o.go(e,{selectPress:!0})},this.openResetPanel=function(){this.showReset=!0,i.escKeyPressManager.add(function(){return l.showReset=!1,!0})},this.close=function(){i.escKeyPressManager.execute()},this.reset=function(){var t=[];e.forEach(l.service.panels,function(n,o){n.hasOwnProperty("childs")?e.forEach(n.childs,function(e,n){e.hasOwnProperty("no_reset")||(t=t.concat(l.service.sectionModels[n]))}):n.hasOwnProperty("no_reset")||(t=t.concat(l.service.sectionModels[o]))}),l.service.reset(t,"all"),l.close()}}],template:'<reset-panel on-reset="$ctrl.reset()" on-close="$ctrl.close()" show-model="$ctrl.showReset" message="Reset All Options to Default"></reset-panel><div class="kong-bs__body__header"><h3 class="kong-bs__body__header__name">Live Customizer</h3><button class="kong-bs__body__header__resetBtn" ng-click="$ctrl.openResetPanel()"><span class="lmr lmr-undo2"></span></button></div><div class="kong-bs__body__container"><div class="kong-bs__panelList"><div class="kong-bs__panelList__item" ng-repeat="(k, v) in ::$ctrl.service.panels" ng-click="$ctrl.selectModel(k)"><h3 class="kong-bs__panelList__item__name" ng-bind="::(v.name?v.name:\'Unnamed\')"></h3><span class="kong-bs__panelList__item__arrow lmr lmr-chevron-right"></span></div></div></div>'}),t.component("resetPanel",{controller:function(){},template:'<div class="kong-bs__resetPanel" ng-class="{\'kong-bs__resetPanel--show\':$ctrl.showModel}"><p class="kong-bs__resetPanel__message" ng-bind=\'::$ctrl.message\'></p><div class="list-bs__resetPanel__buttons"><button class="kong-ui__btn kong-ui__btn--primary kong-ui__btn--small kong-ui--marginRight3" ng-click="$ctrl.onReset()">Reset</button><button class="kong-ui__btn kong-ui__btn--plain kong-ui__btn--small" ng-click="$ctrl.onClose()">Cancel</button></div></div><div class="kong-bs__resetPanel__backdrop"></div>',bindings:{onReset:"&",onClose:"&",message:"@",showModel:"<"}}),t.component("listLv2Panel",{require:{parent:"^kongBsSidebar"},controller:["$KongService","$state","$KongHotKeys",function(t,n,o){var i=this;i.service=t,i.selectModel=function(e){n.go(e,{selectPress:!0})},this.showReset=!1,this.openResetPanel=function(){this.showReset=!0,o.escKeyPressManager.add(function(){return i.showReset=!1,!0})},this.close=function(){o.escKeyPressManager.execute()},this.reset=function(){var t=[],n=[];e.forEach(i.parent.panels_lv2,function(e,o){t=t.concat(i.service.sectionModels[o]),n.push(o)}),i.service.reset(t,n),i.close()}}],template:'<div class="kong-bs__panel"><reset-panel on-reset="$ctrl.reset()" on-close="$ctrl.close()" show-model="$ctrl.showReset" message="Reset These Sections to Default"></reset-panel><div class="kong-bs__body__header"><panel-back remove-model="$ctrl.service.lv2Model"></panel-back><h3 class="kong-bs__body__header__name" ng-bind="::$ctrl.service.lv2Model.name"></h3><button class="kong-bs__body__header__resetBtn" ng-click="$ctrl.openResetPanel()"><span class="lmr lmr-undo2"></span></button></div><div class="kong-bs__body__container"><div class="kong-bs__panelList"><div class="kong-bs__panelList__item" ng-repeat="(k, v) in ::$ctrl.parent.panels_lv2" ng-if="::(!v.side || v.side == \'frontend\')" ng-click="$ctrl.selectModel(k)"><h3 class="kong-bs__panelList__item__name" ng-bind="::(v.name?v.name:\'Unnamed\')"></h3><span class="kong-bs__panelList__item__arrow lmr lmr-chevron-right"></span></div></div></div></div>'}),t.component("editPanel",{require:{parent:"^kongBsSidebar"},controller:["$KongService","$timeout","$KongHotKeys","$scope",function(e,t,n,o){var i=this;i.show=!1,i.service=e,i.showReset=!1,this.openResetPanel=function(){i.showReset=!0,n.escKeyPressManager.add(function(){return i.showReset=!1,!0})},this.close=function(){n.escKeyPressManager.execute()},i.reset=function(){var e=i.service.sectionModels[i.service.currentPanel];i.service.reset(e,[i.service.currentPanel]),i.close()},t(function(){i.show=!0},600)}],template:'<div class="kong-bs__panel"><reset-panel on-reset="$ctrl.reset()" on-close="$ctrl.close()" show-model="$ctrl.showReset" message="Reset This Section to Default"></reset-panel><div class="kong-bs__body__header"><panel-back remove-model="$ctrl.service.editModel"></panel-back><h3 class="kong-bs__body__header__name" ng-bind="::$ctrl.service.editModel.name"></h3><button class="kong-bs__body__header__resetBtn" ng-click="$ctrl.openResetPanel()"><span class="lmr lmr-undo2"></span></button></div><div class="kong-bs__body__container kong-bs__editor__body"><div class="kong-bs__body__wrap"><div class="kong-bs__editor" ng-if="$ctrl.show"><edit-list panel="$ctrl.service.currentPanel"></edit-list></div><span class="kong-bs__componentLoader"></span></div></div></div>'}),t.component("templatePanel",{controller:["$KongService","$http","$timeout","$scope","$rootScope","$KongPopup","$KongHotKeys",function(n,o,i,l,r,s,a){var c=this;c.service=n,c.panel="root",c.currentTemplate=-1,c.checkAll=!1,c.origin={},c.show=!1,this.open=function(){c.show||(c.show=!0,a.escKeyPressManager.add(function(){return i(function(){c.panelHidden=!0,i(function(){c.show=!1,c.panelHidden=!1,c.currentIndex=-1,c.action=""},550)}),!0}))},r.$on("openTemplatePanel",c.open),this.close=function(){a.escKeyPressManager.execute()},o({method:"GET",url:t.__config.api+"/templates"}).then(function(e){c.service.templates=e.data}),c.isEmpty=function(){return!Array.isArray(c.service.templates)||0==c.service.templates.length},c.getTempNameLength=function(){return this.tempName?this.tempName.trim().length:0},c.switchCheckAll=function(){c.checkAll?c.service.loop_through_template(function(e){e.checked=!1}):c.service.loop_through_template(function(e){e.checked=!0}),c.checkAll=!c.checkAll},this.currentIndex=-1,this.apply=function(t){i(function(){var o=-1==c.currentIndex,i=c.service.templates[t];o&&(c.origin=e.merge({},c.service.options)),c.currentIndex=t,n.setTemplate(i.content)})},c.toOrigin=function(){-1!=c.currentIndex&&i(function(){c.currentIndex=-1,n.setTemplate(c.origin),c.origin={}})},this.openImport=function(){-1!=this.currentIndex&&this.toOrigin(),c.action="import",a.escKeyPressManager.add(function(){var e=!0,t=!1,n=void 0;try{for(var o,i=c.service.templates[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.checked=!1}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return c.importedFile=null,c.action="",!0})},this.openExport=function(){-1!=this.currentIndex&&this.toOrigin(),c.action="export",a.escKeyPressManager.add(function(){var e=!0,t=!1,n=void 0;try{for(var o,i=c.service.templates[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.checked=!1}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return c.action="",!0})},this.openRemove=function(){-1!=this.currentIndex&&this.toOrigin(),c.action="remove",a.escKeyPressManager.add(function(){if("removing"==c.status)return!1;var e=!0,t=!1,n=void 0;try{for(var o,i=c.service.templates[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.checked=!1}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return c.action="",!0})},this.hasCheckedTemplate=function(){var e=!0,t=!1,n=void 0;try{for(var o,i=c.service.templates[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){if(o.value.checked)return!0}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return!1},this.cancelPanel=function(){a.escKeyPressManager.execute()},this.import=function(){if(this.status="loading",void 0!==c.importedFile){var n=new FormData;n.append("templateFile",c.importedFile),o({method:"POST",url:t.__config.api+"/templates/import",data:n,transformRequest:e.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data&&(c.service.templates=e.data.reverse().concat(c.service.templates),c.status="success",i(function(){c.status="",c.importedFile=null},1e3))},function(){c.status="",s.showFsPopup({title:"Try it Later",message:"Error! Cannot save data."})})}},this.export=function(){this.status="loading";var e=[];c.service.loop_through_template(function(t){t.checked&&e.push(t.id)}),e.length&&o({method:"GET",url:t.__config.api+"/templates/export/"+e.join(","),cache:!0}).then(function(e){c.status="success";var t="data:application/json;charset=utf-8,"+JSON.stringify(e.data).replace(/#/g,"_kong_sharp_"),n=encodeURI(t),o=new Date,l="templates_"+o.getFullYear()+"_"+(o.getMonth()+1)+"_"+o.getDate()+"_"+o.getHours()+"_"+o.getMinutes()+".json",r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",l),document.body.appendChild(r),i(function(){r.click(),r.remove(),c.status=""},1e3)},function(){c.status="",s.showFsPopup({title:"Try it Later",message:"Error! Cannot export data."})})},this.remove=function(){c.status="removing";var e=[];c.service.loop_through_template(function(t){t.checked&&!t.deleting&&(t.deleting=t.checked,e.push(t.id))}),e.length&&o({method:"DELETE",url:t.__config.api+"/templates/"+e.join(",")}).then(function(e){e.data&&(c.service.templates=c.service.templates.filter(function(e){return!e.checked}),c.status="",0==c.service.templates.length&&"remove"==c.action&&a.escKeyPressManager.execute())},function(){c.status="",s.showFsPopup({title:"Try it Later",message:"Error! Cannot remove data."})})}}],template:'<div class="kong-bs__templatePanel" ng-if="$ctrl.show" ng-class="{\'showOff\':$ctrl.panelHidden}"><div class="kong-bs__templatePanel__header"><h3 class="kong-bs__templatePanel__header__name">Templates</h3><button class="kong-bs__templatePanel__header__backBtn" ng-click="$ctrl.close()"><span class="lmr lmr-chevron-left"></span></button></div><div class="kong-bs__templatePanel__body"><ul class="kong-bs__templateList"  ng-class="{\'kong-bs__templateList--showCheck\':$ctrl.action == \'remove\' || $ctrl.action == \'export\'}"><li class="kong-bs__templateList__item"ng-repeat="template in $ctrl.service.templates"ng-class="{\'kong-bs__templateList__item--active\':$index == $ctrl.currentIndex, \'kong-bs__templateList__item--deleting\':template.deleting}"><h6 class="kong-bs__templateList__item__name" ng-bind="::template.name" ng-click="$ctrl.apply($index)"></h6><button class="kong-bs__templateList__item__originBtn" ng-click="$ctrl.toOrigin()"><i class="lmr lmr-undo2"></i></button><label class="kong-bs__templateList__item__checkbox"><input type="checkbox" ng-model="template.checked"/></label></li></ul></div><div class="kong-bs__templatePanel__actions kong-to-tpl-actions" ng-class="\'kong-bs__templatePanel__actions--\'+$ctrl.action"><div class="kong-bs__templatePanel__action kong-bs__templatePanel__import"><h6>Import Template</h6><input type="file" value="Upload" file-model="$ctrl.importedFile"/><div class="kong-bs__templatePanel__btns"><a ng-disabled="!$ctrl.importedFile" ng-click="$ctrl.import()">Import</a><a ng-click="$ctrl.cancelPanel()">Cancel</a></div></div><div class="kong-bs__templatePanel__action kong-bs__templatePanel__export"><h6>Export Templates</h6><p>Check templates you want to export</p><div class="kong-bs__templatePanel__btns"><a ng-disabled="!$ctrl.hasCheckedTemplate()" ng-click="$ctrl.export()">Export</a><a ng-click="$ctrl.cancelPanel()">Cancel</a></div></div><div class="kong-bs__templatePanel__action kong-bs__templatePanel__remove"><h6>Remove Templates</h6><p>Check templates you want to remove</p><div class="kong-bs__templatePanel__btns"><a ng-disabled="!$ctrl.hasCheckedTemplate()" ng-click="$ctrl.remove()">Remove</a><a ng-click="$ctrl.cancelPanel()">Cancel</a></div></div></div><div class="kong-bs__templatePanel__footer" ng-class="{\'kong-bs__templatePanel__footer--hide\':$ctrl.action}"><a ng-click="$ctrl.openImport()"><span class="lmr lmr-upload2"></span> Import</a><a ng-click="$ctrl.openExport()" ng-disabled="$ctrl.service.templates.length == 0"><span class="lmr lmr-download2"></span> Export</a><a ng-click="$ctrl.openRemove()" ng-disabled="$ctrl.service.templates.length == 0"><span class="lmr lmr-trash2"></span> Remove</a></div><div class="kong-bs__templatePanel__status" ng-class="\'kong-bs__templatePanel__status--\'+$ctrl.status"><span></span><span class="lmr lmr-check"></span></div></div>'}),t.component("panelBack",{require:{parent:"^kongBsSidebar"},controller:["$KongService","$element","$timeout","$state","$KongHotKeys",function(e,t,n,o,i){this.$onInit=function(){var t=this;t.service=e,t.back=function(){o.go(t.parent.link[t.parent.link.length-2],{selectPress:!0})}}}],template:'<button class="kong-bs__panel__backBtn" ng-click="$ctrl.back()"><i class="lmr lmr-chevron-left"></i></button>',bindings:{removeModel:"="}}),t.component("sidebarFooter",{controller:["$KongService","$rootScope","$KongHotKeys",function(t,n,o){var i=this;i.devices=["mobile","tablet","tablet-l","desktop"],i.service=t,this.changeDevice=function(e){e<0||e>3||t.previewDevice!==this.devices[e]&&(t.previewDevice=this.devices[e])},this.toggleCollapse=function(){t.sidebar_collapse?o.escKeyPressManager.execute():(t.sidebar_collapse=!0,o.pause(),e.element(t.getIframeDoc().body).addClass("kong-dnd__area--hideDirectBtns"),o.escKeyPressManager.add(function(){return t.sidebar_collapse=!1,o.resume(),e.element(t.getIframeDoc().body).removeClass("kong-dnd__area--hideDirectBtns"),!0}))},this.openMenu=function(){n.$emit("openTemplateMenu")},n.$on("toggleCollapse",i.toggleCollapse)}],template:'<template-handler></template-handler><div class="kong-bs__footer"><div class="kong-bs__footer__collapse" ng-click="$ctrl.toggleCollapse()"><i class="lmr lmr-chevron-left-circle"></i></div><button class="kong-bs__footer__openTemplate" ng-click="$ctrl.openMenu()">Template</button><div class="kong-bs__footer__responsive"><a ng-repeat="device in ::$ctrl.devices"class="kong-bs__footer__responsive__device"ng-class="{\'kong-bs__footer__responsive__device--current\': $ctrl.service.previewDevice == device}"ng-click="$ctrl.changeDevice($index)"><i class="lmr lmr-{{::device}}"></i></a></div></div>'}),t.component("templateHandler",{controller:["$timeout","$KongService","$http","$KongHotKeys","$rootScope","$KongPopup",function(e,n,o,i,l,r){var s=this;this.service=n,this.template_name="",this.save_status="disabled";var a=!1;this.activePanel=void 0,this.openTemplateMenu=function(){void 0===s.activePanel?(s.activePanel="menu",i.escKeyPressManager.add(function(){return s.activePanel=void 0,!0})):i.escKeyPressManager.execute()},l.$on("openTemplateMenu",s.openTemplateMenu),this.save=function(){s.save_status="saving",a=!0;var n={};s.get_model=function(e){var t=!0,o=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;a.hasOwnProperty("content")?s.get_model(a.content):a.hasOwnProperty("bind_to")&&(n[a.bind_to]=s.service.options[a.bind_to])}}catch(e){o=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(o)throw i}}};for(var l in s.service.panels)if(s.service.panels[l].hasOwnProperty("childs"))for(var c in s.service.panels[l].childs)s.service.panels[l].childs[c].hasOwnProperty("models")&&s.get_model(s.service.panels[l].childs[c].models);else s.service.panels[l].hasOwnProperty("models")&&s.get_model(s.service.panels[l].models);o({method:"POST",url:t.__config.api+"/templates",data:{title:s.template_name,content:JSON.stringify(n)}}).then(function(t){-1!=t.data&&s.service.templates.unshift(t.data),s.save_status="saved",s.template_name="",e(function(){s.save_status="disabled",e(function(){"save"==s.activePanel&&i.escKeyPressManager.execute(),a=!1},400)},500)},function(){s.save_status="disabled",r.showFsPopup({title:"Try it Later",message:"Error! Cannot save data."})})},this.pressToSave=function(e){!a&&13===e.keyCode&&this.validForSaving()&&(this.save(),e.target.blur())},this.openSavePanel=function(){s.close(),e(function(){s.activePanel="save",i.escKeyPressManager.add(function(){return"saving"!=s.save_status&&(s.activePanel=void 0,!0)})})},this.validForSaving=function(){return this.template_name.trim()},this.openTemplate=function(){s.close(),e(function(){l.$emit("openTemplatePanel")},400)},this.close=function(){i.escKeyPressManager.execute()}}],template:'<div class="kong-bs__templateHandler" ng-class="$ctrl.activePanel"><div class="kong-bs__templateHandler__menu" ng-class="{\'kong-bs__templateHandler__menu--show\':$ctrl.activePanel == \'menu\'}"><ul><li ng-click="$ctrl.openSavePanel()">Save to a Template</li><li ng-click="$ctrl.openTemplate()">Open Templates</li></ul></div><div class="kong-bs__templateHandler__savePanel" ng-class="{\'kong-bs__templateHandler__savePanel--show\':$ctrl.activePanel == \'save\'}"><h6 class="kong-bs__templateHandler__savePanel__title">Save to a Template</h6><div class="kong-bs__templateHandler__savePanel__input"><input type="text" class="kong-ui__input-text" ng-model="$ctrl.template_name" maxlength="30" ng-trim="true" ng-keypress="$ctrl.pressToSave($event)" placeholder="Enter Template Name"/><button ng-click="$ctrl.save()" class="kong-ui__btn kong-ui__btn--primary" ng-disabled="!$ctrl.validForSaving()">Save</button></div><div class="kong-bs__templateHandler__savePanel__status" ng-class="\'kong-bs__templateHandler__savePanel__status--\'+$ctrl.save_status"><span class="kong-bs__templateHandler__loader"></span><span class="lmr lmr-check"></span></div></div><div class="kong-bs__templateHandler__backdrop" ng-click="$ctrl.close()"></div></div>'}),t.component("codeEditorBar",{controller:["$KongService","$timeout","$rootScope","$KongHotKeys",function(e,t,n,o){var i=this;this.service=e,this.mode="css",this.show=!1,this.expand=!1,this.close=function(){o.escKeyPressManager.execute()},this.open=function(){i.show||(i.show=!0,o.pause(),c(!0),o.escKeyPressManager.add(function(){return i.show=!1,i.expand=!1,o.resume(),"css"==i.mode?l.blur():r.blur(),!0}))},this.expandBox=function(){i.expand=!i.expand,c()};var l=void 0;this.cssOptions={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"css",onLoad:function(e){l=e}};var r=void 0;this.jsOptions={useWrapMode:!0,showGutter:!0,theme:"cobalt",mode:"javascript",onLoad:function(e){r=e}};var s,a=function(e){e.focus();var t=e.getSession().getValue().split("\n").length;e.gotoLine(t),e.navigateLineEnd()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(s),s=setTimeout(function(){var t="css"==i.mode?l:r;t.resize(),t.renderer.updateFull(),e&&a(t)},300)};this.switch=function(e){i.mode=e,setTimeout(function(){var e="css"==i.mode?l:r;a(e)})},n.$on("openCustomCodePanel",i.open)}],template:'<div class="kong-bs__codeEditor" ng-class="{\'kong-bs__codeEditor--show\':$ctrl.show, \'kong-bs__codeEditor--expanded\':$ctrl.expand}"><div class="kong-bs__codeEditor__header"><button class="kong-bs__codeEditor__header__closeBtn" ng-click="$ctrl.close()"><span class="lmr-arrow-left"></span></button><div class="kong-bs__codeEditor__header__tabs"><a class="kong-bs__codeEditor__header__tab" ng-class="{\'kong-bs__codeEditor__header__tab--active\':$ctrl.mode == \'css\'}" ng-click="$ctrl.switch(\'css\')">CSS</a><a class="kong-bs__codeEditor__header__tab" ng-class="{\'kong-bs__codeEditor__header__tab--active\':$ctrl.mode == \'js\'}" ng-click="$ctrl.switch(\'js\')">JavaScript</a></div><button class="kong-bs__codeEditor__header__expandBtn" ng-click="$ctrl.expandBox()"><span class="lmr" ng-class="($ctrl.expand?\'lmr-contract\':\'lmr-expand\')"></span></button></div><div class="kong-bs__codeEditor__body"><div ng-if="$ctrl.mode === \'css\'" ui-ace="$ctrl.cssOptions" ng-model="$ctrl.service.options.custom_css" ng-model-options="{debounce: 500}"></div><div ng-if="$ctrl.mode === \'js\'" ui-ace="$ctrl.jsOptions" ng-model="$ctrl.service.options.custom_js" ng-model-options="{debounce: 500}"></div></div></div>'})}(window.angular)},function(e,exports){"use strict";!function(e){function t(e){o.component("preview"+n(e),{controller:["$KongService","$scope","$rootScope",function(t,n,o){this.service=t;var i={self:[],childs:[]};this.$postLink=function(){i.self.length||t.currentPanel==e||setTimeout(function(){t.storeWatchers(n,i)},100)},o.$on("in_"+e,function(){t.returnWatchers(n,i)}),o.$on("out_"+e,function(){t.storeWatchers(n,i)}),o.$on("blink-watchers",function(o,l){("all"==l||Array.isArray(l)&&-1!=l.indexOf(e)&&e!=t.currentPanel)&&(t.returnWatchers(n,i),setTimeout(function(){t.storeWatchers(n,i)},0))})}],template:["$element","$attrs","$KongService",function(t,n,o){var i="",l="";if(Object.keys(o.preview[e].styles).length){l+='<style type="text/css">';for(var r in o.preview[e].styles){var s=o.preview[e].styles[r];l+=r+" {";for(var a in s){var c=s[a];a=a.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),l+=a+": "+c+";"}l+="}"}l+="</style>"}if(o.preview[e].condition_styles.length){var d=!0,u=!1,p=void 0;try{for(var g,f=o.preview[e].condition_styles[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){var _=g.value;i+='<style type="text/css" ng-if="'+_.condition+'">';for(var m in _.styles){i+=m+" {";for(var v in _.styles[m]){var h=_.styles[m][v];v=v.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),i+=v+": "+h+";"}i+="}"}i+="</style>"}}catch(e){u=!0,p=e}finally{try{!d&&f.return&&f.return()}finally{if(u)throw p}}}if(o.preview[e].responsive_styles.length){var k=!0,b=!1,y=void 0;try{for(var w,x=o.preview[e].responsive_styles[Symbol.iterator]();!(k=(w=x.next()).done);k=!0){var P=w.value,S="";for(var C in P.styles){S+=C+" {";for(var E in P.styles[C]){var c=P.styles[C][E];E=E.replace(/[A-Z][^A-Z]/g,function(e){return"-"+e.toLowerCase()}),S+=E+": "+c+";"}S+="}"}P.hasOwnProperty("condition")&&(i+='<div ng-if="'+P.condition+'">'),i+='<style type="text/css">',i+=S.replace(/@device/g,"desktop"),i+="</style>",i+='<style type="text/css" ng-if="$ctrl.service.options.'+P.bind_to+".hasOwnProperty('tablet')\">",i+="@media screen and (max-width: 768px) {",i+=S.replace(/@device/g,"tablet"),i+="}",i+="</style>",i+='<style type="text/css" ng-if="$ctrl.service.options.'+P.bind_to+".hasOwnProperty('mobile')\">",i+="@media screen and (max-width: 512px) {",i+=S.replace(/@device/g,"mobile"),i+="}",i+="</style>",P.hasOwnProperty("condition")&&(i+="</div>")}}catch(e){b=!0,y=e}finally{try{!k&&x.return&&x.return()}finally{if(b)throw y}}}if(i+=l,Object.keys(o.preview[e].directives).length)for(var M in o.preview[e].directives){o.preview[e].directives[M].hasOwnProperty("condition")&&(i+='<div ng-if="'+o.preview[e].directives[M].condition+'">');var O=!0,T=!1,L=void 0;try{for(var A,D=o.preview[e].directives[M].directives[Symbol.iterator]();!(O=(A=D.next()).done);O=!0){var I=A.value;if(i+="<"+I.tag+' model="$ctrl.service.options.'+M+'"',I.hasOwnProperty("attrs"))for(var K in I.attrs)i+=" "+K+'="'+I.attrs[K]+'"';i+="></"+I.tag+">"}}catch(e){T=!0,L=e}finally{try{!O&&D.return&&D.return()}finally{if(T)throw L}}o.preview[e].directives[M].hasOwnProperty("condition")&&(i+="</div>")}t.html(i)}]})}function n(e){var t="",n=e.split("_"),o=!0,i=!1,l=void 0;try{for(var r,s=n[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var a=r.value;a=a.charAt(0).toUpperCase()+a.slice(1),t+=a}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}return t}var o=e.module("kong.builder.app");o.component("kongBsPreview",{controller:["$KongService","$rootScope",function(e,t){this.service=e,this.toggleCollapse=function(){t.$emit("toggleCollapse")}}],template:'<div class="kong-bs__preview"  ng-class="{\'kong-bs__preview--reloading\':$ctrl.service.is_reloading}"><div class="kong-bs__preview__wrap kong-bs__preview__wrap--{{$ctrl.service.previewDevice}}"><iframe frame-compile src="'+o.__config.frame_url+'" frameborder="0" id="kong-bs-iframe" data-href="'+o.__config.frame_url+'"></iframe></div><div class="kong-bs__preview__preloader"><span></span></div><a class="kong-bs__preview__collapseBtn" ng-click="$ctrl.toggleCollapse()"><i class="lmr lmr-chevron-right-circle"></i></a></div>'}),o.component("previewHtml",{controller:["$scope","$state","$KongService",function(e,t,n){this.state=t,this.service=n}],template:'<div class="kong-sitePreloader"style="opacity: 1!important; visibility: visible!important; z-index: 9999999999"ng-if="$ctrl.state.current.name == \'loading_screen\' && $ctrl.service.options.loading_screen_enable"><div class="kong-sitePreloader__icon kong-sitePreloader__icon--img" ng-if="$ctrl.service.options.loading_icon_type == \'img\'"></div><div class="kong-sitePreloader__icon kong-sitePreloader__icon--html" ng-if="$ctrl.service.options.loading_icon_type != \'img\'" ng-bind-html="$ctrl.service.options.loading_html|trustashtml"></div></div>'}),o.component("previewStyle",{controller:["$scope","$KongService","$timeout","$rootScope","$state",function(e,t,n,o,i){var l=this;l.opt=t.options,l.service=t,l.iterateSiblings=function(e,t){for(;e=e.$$nextSibling;)t(e),l.iterateChildren(e,t)},l.iterateChildren=function(e,t){for(;e=e.$$childHead;)t(e),l.iterateSiblings(e,t)},l.removeScopeWatchers=function(e){e.$$watchers=[]},o.$on("removeWatchers",function(){e.$$watchers=[],l.iterateChildren(e,l.removeScopeWatchers)})}],template:["$element","$attrs","$KongService",function(e,t,n){var o="";for(var i in n.preview)if(Object.keys(n.preview[i].directives).length||Object.keys(n.preview[i].styles).length||Object.keys(n.preview[i].condition_styles).length||Object.keys(n.preview[i].responsive_styles).length){var l="<preview-"+i.replace(/_/g,"-")+"></preview-"+i.replace(/_/g,"-")+">";o+=l}o+='<style  id="preview_custom_css" type="text/css" ng-bind="$ctrl.service.options.custom_css"></style>',o+='<script  id="preview_custom_js" type="text/javascript" ng-bind="$ctrl.service.options.custom_js"><\/script>',e.html(o)}]});var i=window.kong_theme_option.get_models();for(var l in i)if(i[l].hasOwnProperty("childs"))for(var r in i[l].childs)t(r);else t(l)}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.directive("uploadedFontsEmbed",["$timeout",function(e){return{restrict:"E",scope:{model:"="},link:function(t,n,o){var i;t.$watch("model",function(){e.cancel(i),i=e(function(){var e='<style type="text/css">';for(var o in t.model){var i=t.model[o];if(i.enable){var l=i.family;l||(l="font_uploaded_"+i.id),e+="@font-face {font-family: '"+l+"';src: url('"+i.eot_link+"');src: url('"+i.eot_link+"?#iefix') format('embedded-opentype'),url('"+i.woff_link+"') format('woff'),url('"+i.woff2_link+"') format('woff2'),url('"+i.ttf_link+"') format('truetype'),url('"+i.svg_link+"#"+l+"') format('svg');font-weight: normal;font-style: normal;}"}}e+="</style>",n.html(e)},250)},!0)}}}]),t.directive("previewTypographyFontEmbed",["$timeout","$compile",function(e,t){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(e,n,o){e.$watch("model.source",function(){var o="";switch(e.model.source){case"google":o='<typography-google-font-embed model="model.google" selector="'+e.selector+'"></typography-google-font-embed>';break;case"uploaded":o='<typography-uploaded-font-embed model="model.uploaded" selector="'+e.selector+'"></typography-uploaded-font-embed>';break;case"typekit":o='<typography-typekit-font-embed model="model.typekit" selector="'+e.selector+'"></typography-typekit-font-embed>';break;default:o=""}n.html(o),t(n.contents())(e)})}}}]),t.directive("typographyGoogleFontEmbed",["$timeout",function(e){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(t,n,o){var i;t.$watch("model",function(){e.cancel(i),i=e(function(){var e="https://fonts.googleapis.com/css?family="+t.model.family.replace(" ","+")+":"+t.model.variant+"&amp;subset="+t.model.subset,o='<link rel="stylesheet" href="'+e+'" type="text/css" media="screen" />',i=t.model.variant.match(/\d+/),l=t.model.variant.match(/[a-z]+/);"regular"==l&&(i="normal",l="normal"),o+='<style type="text/css">'+t.selector+" {font-family: '"+t.model.family+"';font-weight: "+i+";font-style: "+l+";}</style>",n.html(o)},250)},!0),n.on("$destroy",function(){t.$$watchers=[]})}}}]),t.directive("typographyUploadedFontEmbed",["$timeout","$KongService",function(e,n){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(n,o,i){var l;n.$watch("model",function(){e.cancel(l),l=e(function(){var e="",i="";if(t.__config.uploaded_fonts.hasOwnProperty(n.model)){var l=t.__config.uploaded_fonts[n.model];i=l.family?l.family:"font_uploaded_"+n.model,e+='<style type="text/css">'+n.selector+" {font-family: '"+i+"';}</style>"}o.html(e)},250)}),o.on("$destroy",function(){n.$$watchers=[]})}}}]),t.directive("typographyTypekitFontEmbed",["$timeout",function(e){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(n,o,i){var l;n.$watch("model",function(){e.cancel(l),l=e(function(){var e="";e:for(var i in t.__config.typekit_fonts){var l=!0,r=!1,s=void 0;try{for(var a,c=t.__config.typekit_fonts[i].fonts[Symbol.iterator]();!(l=(a=c.next()).done);l=!0){var d=a.value;if(d.id==n.model){var u="";d.fallback&&(u=", "+d.fallback),e='<style type="text/css">'+n.selector+" {font-family: '"+d.family+"'"+u+";}</style>";break e}}}catch(e){r=!0,s=e}finally{try{!l&&c.return&&c.return()}finally{if(r)throw s}}}o.html(e)},250)}),o.on("$destroy",function(){n.$$watchers=[]})}}}]),t.directive("previewScreenQueries",["$timeout",function(e){return{scope:{model:"<",selector:"@",property:"@"},link:function(t,n,o){var i;t.$watch("model",function(){e.cancel(i),i=e(function(){var e="<style type='text/css'>",o=!0,i=!1,l=void 0;try{for(var r,s=t.model[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var a=r.value,c=0;a.screen_width>1366?c=1366:a.screen_width>768&&a.screen_width<=1366?c=769:a.screen_width>520&&a.screen_width<=768&&(c=521),e+="\n                                @media only screen and (max-width: "+a.screen_width+"px) and (min-width: "+c+"px) {\n                                    "+t.selector+"{ "+t.property+":"+a.value+";}\n                                }"}}catch(e){i=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw l}}e+="</style>",n.html(e)},50)},!0),n.on("$destroy",function(){t.$$watchers=[]})}}}]),t.directive("previewGeneralFontEmbed",["$compile",function(e){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(t,n,o){t.$watch("model.source",function(){var o="";switch(t.model.source){case"google":o='<general-google-font-embed model="model.google" selector="'+t.selector+'"></general-google-font-embed>';break;case"uploaded":o='<general-uploaded-font-embed model="model.uploaded" selector="'+t.selector+'"></general-uploaded-font-embed>';break;case"typekit":o='<general-typekit-font-embed model="model.typekit" selector="'+t.selector+'"></general-typekit-font-embed>';break;default:o=""}n.html(o),e(n.contents())(t)})}}}]),t.directive("generalGoogleFontEmbed",["$timeout",function(e){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(t,n,o){var i;t.$watch("model",function(){e.cancel(i),i=e(function(){if(t.model.family){var e="",o="https://fonts.googleapis.com/css?family="+t.model.family.replace(" ","+"),i='<style type="text/css">';t.model.variants.length&&(o+=":"+t.model.variants.join(",")),t.model.subsets.length&&(o+="&amp;subset="+t.model.subsets.join(",")),i+=t.selector+" {font-family: '"+t.model.family+"';}",i+="</style>",e+='<link rel="stylesheet" type="text/css" href="'+o+'" media="screen" />',e+=i,n.html(e)}},250)},!0)}}}]),t.directive("generalUploadedFontEmbed",["$KongService","$timeout",function(e,n){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(e,o,i){var l;e.$watch("model",function(){n.cancel(l),l=n(function(){var n="",i="";if(t.__config.uploaded_fonts.hasOwnProperty(e.model)){var l=t.__config.uploaded_fonts[e.model];i=l.family?l.family:"font_uploaded_"+e.model;var r="";l.fallback&&(r=", "+l.fallback),n+='<style type="text/css">'+e.selector+" {font-family: '"+i+"'"+r+";}</style>"}o.html(n)},250)})}}}]),t.directive("generalTypekitFontEmbed",["$KongService","$timeout",function(e,n){return{restrict:"E",scope:{model:"=",selector:"@"},link:function(e,o,i){var l;e.$watch("model",function(){n.cancel(l),l=n(function(){var n="";e:for(var i in t.__config.typekit_fonts){var l=!0,r=!1,s=void 0;try{for(var a,c=t.__config.typekit_fonts[i].fonts[Symbol.iterator]();!(l=(a=c.next()).done);l=!0){var d=a.value;if(d.id==e.model){var u="";d.fallback&&(u=", "+d.fallback),n='<style type="text/css">'+e.selector+" {font-family: '"+d.family+"'"+u+";}</style>";break e}}}catch(e){r=!0,s=e}finally{try{!l&&c.return&&c.return()}finally{if(r)throw s}}}o.html(n)},250)})}}}]),t.directive("customFontEmbed",["$timeout",function(t){return{restrict:"A",scope:{model:"="},link:function(n,o,i){var l;n.$watch("model",function(){t.cancel(l),n.model.length&&(l=t(function(){var t=e.element('<style type="text/css"></style>'),i=!0,l=!1,r=void 0;try{for(var s,a=n.model[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;if(c.enable){var d="@font-face {font-family: '"+c.family+"';src: url('"+c.eot_link+"');src: url('"+c.eot_link+"?#iefix') format('embedded-opentype'),url('"+c.woff_link+"') format('woff'),url('"+c.woff2_link+"') format('woff2'),url('"+c.ttf_link+"') format('truetype'),url('"+c.svg_link+"#caviar_dreamsitalic') format('svg');font-weight: normal;font-style: normal;}";t.append(d)}}}catch(e){l=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(l)throw r}}o.html(t)},250))})}}}]),t.directive("previewResponsiveEmbed",["$timeout",function(e){return{restrict:"E",scope:{selector:"@",property:"@",model:"=",suffix:"@",prefix:"@"},link:function(t,n,o){var i,l="";void 0===t.suffix&&(t.suffix=""),void 0===t.prefix&&(t.prefix=""),t.$watch("model",function(){e.cancel(i),i=e(function(){l='<style type="text/css">'+t.selector+"{"+t.property+":"+t.prefix+t.model.desktop+t.suffix+"}",t.model.tablet_enable&&(l+="@media screen and (max-width: 768px){"+t.selector+"{"+t.property+":"+t.prefix+t.model.tablet+t.suffix+"}}"),t.model.mobile_enable&&(l+="@media screen and (max-width: 512px){"+t.selector+"{"+t.property+":"+t.prefix+t.model.mobile+t.suffix+"}}"),l+="</style>",n.html(l)},250)},!0)}}}])}(window.angular)},function(e,exports){"use strict";!function(e){var t=e.module("kong.builder.app");t.directive("frameCompile",["$compile","$KongService","$rootScope","$state","$KongHotKeys","$KongPopup",function(n,o,i,l,r,s){return{restrict:"A",link:function(a,c,d){a.state=l;var u=!1,p=!0;a.service=o,a.$watch("state.current.name",function(){var e=o.getIframeDoc();e&&e.body&&e.body.setAttribute("data-panel",a.state.current.name)}),o.initData("frontend"),"undefined"!=typeof Storage&&void 0!==sessionStorage.kong_customize_data?(t.__config.data.options&&(o.options=e.merge(o.options,t.__config.data.options)),o.options=e.merge(o.options,JSON.parse(sessionStorage.kong_customize_data)),delete sessionStorage.kong_customize_data,u=!0):t.__config.data.options&&(o.options=e.merge(o.options,t.__config.data.options)),o.private_options=o.private_options.concat(["custom_css","custom_js"]),o.filterOptions(),e.forEach(o.panels,function(t,n){t.hasOwnProperty("childs")?e.forEach(t.childs,function(e,t){o.getModelsOfSection(e,t)}):o.getModelsOfSection(t,n)}),i.$on("reload",function(t,n){var i=[],l=!0,r=!1,s=void 0;try{for(var c,d=n[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var u=c.value;o.reload_model_histories.hasOwnProperty(u.field)||(o.reload_model_histories[u.field]=u.value);var p=o.reloadModels[u.field];p&&-1==i.indexOf(p)&&i.push(p)}}catch(e){r=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(r)throw s}}var g=!0,f=!1,_=void 0;try{for(var m,v=i[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value,k=o.getIframeElement("preview-"+h.replace(/_/g,"-"));k&&e.element(o.getIframeDoc().body).append("<div>"+k.innerHTML+"</div>")}}catch(e){f=!0,_=e}finally{try{!g&&v.return&&v.return()}finally{if(f)throw _}}a.$emit("requireReload",1)});var g=function(){var l=e.element("<preview-style></preview-style>"),d=e.element("<preview-html></preview-html>"),g=e.element(c.contents());g.find("#kong_builder_css-css").after(l),g.find("body").append(d);t.__config.enable_debug&&performance.now(),n(l)(a),n(d)(a),i.$emit("onDataLoaded",u),a.$apply(),t.__config.enable_debug&&performance.now(),setTimeout(function(){o.is_reloading=!1,i.$apply(),i.$emit("onLoaded"),p?(r.init([document,o.getIframeDoc()]),p=!1):r.init([o.getIframeDoc()]),o.commandManager.init();var e=document.querySelector(".kong-bs__preloader");e&&(e.className=e.className+" kong-bs__preloader--hide",setTimeout(function(){e.parentNode.removeChild(e)},1e3)),t.__config.data.error&&s.showFsPopup({title:"Warning",message:"We cannot compile this page since something wrong have been detected in your data.",buttons:[{text:"Ok, I understood"}],esc:!1})},500)},f=function(e){o.is_reloading=!0,i.$apply(),setTimeout(function(){a.$emit("removeWatchers"),document.getElementById("kong-bs-iframe").setAttribute("data-href",e),o.getIframeDoc().location.replace(e)},500)};i.$on("replaceFrameUrl",function(e,t){f(t)}),c.load(function(){var n=o.getIframeJQueryObject(),i=o.getIframeDoc();if(document.title="Live Customizer: "+i.title,i.body.setAttribute("data-panel",a.state.current.name),g(),o.direct_links){var r;!function(){r=0;var t=[],n=o.getIframeDoc();o.sidebar_collapse&&e.element(n.body).addClass("kong-dnd__area--hideDirectBtns");for(var i in o.direct_links)!function(e){var i=o.direct_links[e];r>0&&(t[r++]=","),t[r++]='body[data-panel="',t[r++]=e,t[r++]='"] .kong-dnd__directBtn[data-panel="',t[r++]=e,t[r++]='"]';for(var s in i){(function(t){if(!i.hasOwnProperty(t))return"continue";var r=n.querySelector(t);if(!r)return"continue";var s=i[t];Array.isArray(s)||(s=[s]),s.forEach(function(t){var i=document.createElement("button");if(i.className="kong-dnd__directBtn",i.setAttribute("data-panel",e),t.hasOwnProperty("position"))for(var s in t.position)i.style[s]=t.position[s];else i.style.top="0px",i.style.left="0px";if(t.hasOwnProperty("wrap")&&t.wrap){for(var a=n.createElement("span");r.firstChild;)a.appendChild(r.firstChild.cloneNode(!0)),r.removeChild(r.firstChild);a.appendChild(i),r.appendChild(a),a.style.position="relative"}else r.appendChild(i),"static"==window.getComputedStyle(r).getPropertyValue("position")&&(r.style.position="relative");i.onclick=function(n){n.preventDefault(),l.current.name==e?t.hasOwnProperty("highlight")&&o.highlightContainer(t.highlight):(l.go(e),t.hasOwnProperty("highlight")&&setTimeout(function(){o.highlightContainer(t.highlight)},1200))}})})(s)}}(i);var s=n.createElement("style");s.id="kong-dnd-directButton-style",t[r++]="{background-color:#FF5722;}",s.innerHTML=t.join(""),n.head.appendChild(s)}()}n(i).on("click","a",function(e){if(e.preventDefault(),n(this).parent().hasClass("kong-menu-item-has-children")){var o=n(this).closest("ul.menu").parent();if(o.hasClass("kong-toggle-menu")||o.hasClass("kong-toggle-menu-content"))return}if(!(n(this).find(".kong-dnd__directBtn").length>0)){var i=n(this).attr("href");if(i&&-1!=i.indexOf(t.__config.host)&&-1==i.indexOf("wp-admin")&&-1==i.indexOf("wp-login.php")){var l=document.getElementById("kong-bs-iframe").getAttribute("data-href"),r=0!=t.__config.host.indexOf("//")?"//"+t.__config.host:t.__config.host;l=l.substring(l.indexOf(r)),i=i.substring(i.indexOf(r)),i=i.split("#"),-1==i[0].indexOf("?")?i[0]+="?":i[0]+="&",i[0]+="kong-preview-enable=1",i=i.join("#"),l!=i&&f(i)}}}),n(i).on("submit","form",function(){return!1})})}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=e.module("kong.builder.app");e.module("kongHotKeys",["kongService"]).factory("$KongHotKeys",["$timeout","$rootScope","$KongService",function(e,o,i){return{active:!0,activeQueue:0,pause:function(){this.active?this.active=!1:this.activeQueue++},resume:function(){this.activeQueue>0?this.activeQueue--:this.active=!0},init:function(l){if(!Array.isArray(l))return!1;this.escKeyPressManager.init(l);var r=this,s=function(){return!i.sidebar_collapse&&r.active};l.forEach(function(l){var r=Mousetrap(l);l==window.document&&(r=Mousetrap),r.bindGlobal("mod+s",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,o.$emit("promptSave"),!1}),r.bind("mod+z",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,i.commandManager.undo(),!1}),r.bind("mod+shift+z",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,i.commandManager.redo(),!1});for(var a=["mobile","tablet","tablet-l","desktop"],c=1;c<a.length+1;c++)!function(t){Mousetrap(l).bind(t+"",function(){i.previewDevice!=a[t-1]&&e(function(){i.previewDevice=a[t-1]})})}(c);r.bind("\\",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,e(function(){o.$emit("toggleCollapse")})}),Mousetrap(l).bind("o p",function(e){return e.preventDefault(),"object"==t(n.__config.redirect_links[0])&&n.__config.redirect_links[0].hasOwnProperty("link")&&window.open(n.__config.redirect_links[0].link,"_blank"),!1}),Mousetrap(l).bind("o i",function(t){if(s())return t.preventDefault(),e(function(){o.$emit("openTemplatePanel")}),!1}),Mousetrap(l).bind("o k",function(t){if(s())return t.preventDefault(),e(function(){o.$emit("openCustomCodePanel")}),!1}),Mousetrap(l).bind("/",function(e){return e.preventDefault(),o.$emit("openHelpPanel"),!1})})},escKeyPressManager:{init:function(e){var t=this;Array.isArray(e)&&function(){var n=t,i=!0,l=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){s.value.addEventListener("keydown",function(e){e=e||window.event,27==e.keyCode&&(n.stack.length?n.execute():o.$emit("backState"))})}}catch(e){l=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(l)throw r}}}()},stack:[],add:function(e){"function"==typeof e&&this.stack.push(e)},execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=this;n.stack.length>0&&n.stack[n.stack.length-1]()&&e(function(){n.stack.pop(),"function"==typeof t&&t()})},executeAll:function(){var e=this;if(e.stack.length)for(var t=1;t<=e.stack.length;t++)e.execute()},pop:function(){this.stack.length>0&&this.stack.pop()}}}}])}(window.angular)},function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var n=e.module("kong.builder.app");n.component("kongHelpPanel",{controller:["$rootScope","$KongHotKeys",function(e,t){var n=this;this.show=!1,this.close=function(){t.escKeyPressManager.execute()},this.open=function(){if(!n.show){n.show=!0;var e=document.querySelector(".kong-bs__helpPanel");e.className=e.className+" kong-bs__helpPanel--show",t.pause(),t.escKeyPressManager.add(function(){return n.show=!1,t.resume(),e.className="kong-bs__helpPanel",!0})}},e.$on("openHelpPanel",n.open)}],template:function(){var e=["shortcuts","document","forum","about"],t="",n="",o="",i='checked="checked"';return e.forEach(function(e){t+='<input type="radio" name="kong-bs-help" id="kong-bs-help-'+e+'" '+i+"/>",n+='<label for="kong-bs-help-'+e+'">'+e.replace("-"," ")+"</label>",o+="<kong-help-"+e+"></kong-help-"+e+">",i&&(i="")}),'<div class="kong-bs__helpPanel">'+t+'<button class="kong-bs__helpPanel__closeBtn" ng-click="$ctrl.close()"><span class="lmr lmr-cross"></span></button><div class="kong-bs__helpPanel__tabs">'+n+'</div><div class="kong-bs__helpPanel__content">'+o+'</div></div><div class="kong-bs__helpPanel__backdrop"></div>'}}),n.component("kongHelpShortcuts",{controller:function(){},template:function(){var e={command:"&#8984;",ctrl:"&#8963;",alt:"&#8997;",shift:"&#8679;",return:"&#8617;",left:"&larr;",up:"&uarr;",right:"&rarr;",down:"&darr;",mod:function(e,t){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)?e:t}("&#8984;","&#8963;")},n={General:{Save:[e.mod+"+S"],"Closes any pop-up window or panel, like this one":["ESC"],"Open preview page":["O-P"],"Open custom code panel":["O-K"],"Open template panel":["O-I"],"Resize preview screen to mobile, tablet portrait, tablet landscape, desktop size":["1","2","3","4"],"Turn on/off Visual View":["`"],"Collapse Sidebar":["\\"],"Open Help Panel as this":["?"]},Other:{"Open the color collection":["Right Click",{text:"on colorpicker circle"}],"Equally change in pair left and right or top and bottom":[e.mod+"+Drag",{text:"on unit input"}],"Equally change value of left, right, top and bottom":[e.mod+"+"+e.shift+"+Drag",{text:"on unit input"}]}},o="";for(var i in n){var l="";for(var r in n[i])l+="<tr><td>"+function(e){var n="";return Array.isArray(e)&&e.forEach(function(e){"object"==(void 0===e?"undefined":t(e))&&e.hasOwnProperty("text")?n+=" "+e.text+" ":n+="<button>"+e+"</button>"}),n}(n[i][r])+"</td><td>"+r+"</td></tr>";o+='<div class="kong-bs__helpPanel__section"><h4>'+i+"</h4><table>"+l+"</table></div>"}return'<div class="kong-bs__helpPanel__entry kong-bs__helpPanel__shortcuts"><header>Shortcuts</header>'+o+"</div>"}}),n.component("kongHelpVideoTutorial",{controller:function(){this.list=[]},template:'<div class="kong-bs__helpPanel__entry"><header>Video Tutorial</header><p>No video tutorial yet.</p><ul class="kong-bs__helpPanel__videoList"><li ng-repeat="video in ::$ctrl.list"><a href="{{::video.link}}" ng-bind="::video.name" target="_blank"></a><span ng-bind="::video.duration"></span></li></ul></div>'}),n.component("kongHelpDocument",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>Document</header><p>Read the document for using this app at <a href="http://docs.kolumn.io/kong/v1/guide/theme-stylist/basic-usage.html" target="_blank">docs.kolumn.io/kong</a>.</p></div>'}),n.component("kongHelpForum",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>Forum</header><p>The support forum will be coming soon.</p></div>'}),n.component("kongHelpAbout",{controller:function(){},template:'<div class="kong-bs__helpPanel__entry"><header>About</header><p>Theme Stylist, a real time editor tool is designed to customize global styles and typography.</p><ul class="kong-bs__helpPanel__about"><li>Version '+n.__config.version+'</li><li>&copy; Copyright 2017 <a href="https://kolumn.io/kong" target="_blank">kolumn.io</a>. All rights reserved.</li></ul></div>'})}(window.angular)},function(e,exports,t){"use strict";t(13),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29),t(30),t(31),t(32),t(33),t(34),t(35),t(37),t(38),t(39),t(40),t(41),t(42),t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50),t(51),t(52),t(53),t(54),t(55),t(56),t(57),t(58),t(59),t(60),t(61),t(62),t(63),t(64),t(65),t(66),t(67),t(68),t(69),t(70),t(71),t(72),t(73),t(74),t(75),t(76)}]);