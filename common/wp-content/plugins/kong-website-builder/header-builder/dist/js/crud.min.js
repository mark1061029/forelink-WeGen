!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}({0:function(e,exports,t){"use strict";t(348),t(432),function(e){var t=kong_app_data.label,n=t.charAt(0).toUpperCase()+t.substr(1),o=e.module("kong.app.manager",["kongPopup"]);o.__config=kong_app_data,o.controller("kong_app_manager_controller",function(){}),o.config(["$provide","$httpProvider",function(e,t){e.factory("lbHttpInterceptor",["$q","$rootScope",function(e,t){return{request:function(t){return t.headers["X-WP-Nonce"]=o.__config.nonce,t||e.when(t)},responseError:function(n){return void 0!==n.data&&"rest_cookie_invalid_nonce"==n.data.code&&t.$emit("expired_session"),e.reject(n)}}}]),t.interceptors.push("lbHttpInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(o.__config.enable_debug)}]),o.component("appAdmin",{controller:["$http","$KongPopup","$rootScope",function(n,i,a){var s=this;Modernizr.flexbox&&Modernizr.flexwrap&&(this.model={list:[],trash:[],page:"0",show_trash:!1,loaded:!1},n({method:"GET",url:o.__config.api+"/"+t+"s"}).then(function(t){s.model.loaded=!0,e.isArray(t.data)&&(s.model.list=t.data)},function(){i.show({title:"Try it Later",message:"Error! cannot get data."})}),n({method:"GET",url:o.__config.api+"/trash-"+t+"s"}).then(function(t){e.isArray(t.data)&&(s.model.trash=t.data)})),a.$on("expired_session",function(){document.location.replace(o.__config.login_url)})}],template:function(){return Modernizr.flexbox&&Modernizr.flexwrap?'<div class="kong-ba__panel"><list-panel model="$ctrl.model"></list-panel><setting-panel list="$ctrl.model.list"></setting-panel><trash-panel model="$ctrl.model"></trash-panel></div>':'<div class="kong-ba__notSupportMessage"><p>Opp! We currently do not support This Browser. Please switch to <strong>modern</strong> Browsers such as the last-versions of <strong>Chrome</strong> or <strong>Firefox</strong> for a better experience.</p></div>'}}),o.component("listPanel",{controller:["$timeout","$http","$scope","$KongPopup",function(e,n,i,a){var s=this;s.page_link="",this.action={remove:function(e){e.deleting=!0,n({method:"POST",url:o.__config.api+"/"+t+"s/status",data:{id:e.id,status:"trash"}}).then(function(t){t.data&&s.model.trash.unshift(s.model.list.splice(s.model.list.indexOf(e),1)[0])},function(t){e.deleting=!1,a.show({title:"Try it Later",message:"Error! cannot remove item."})})},edit:function(e){window.open(o.__config.edit_url+"&post_id="+s.model.page+"&"+t+"_id="+e.id)},preview:function(e){window.open(s.page_link+"?preview-"+t+"="+e.id)},rename:function(e,t,i){e.restoring=!0,n({method:"POST",url:o.__config.api+"/rename",data:{id:e.id,name:t}}).then(function(n){e.name=t,e.restoring=!1,i()},function(t){e.restoring=!1})}},i.$watch("$ctrl.model.page",function(e){n({method:"GET",url:o.__config.api+"/page-link",params:{page_id:e},cache:!0}).then(function(e){s.page_link=e.data},function(e){})})}],template:'<div class="kong-ba__listPanel"><header-panel model="$ctrl.model"></header-panel><div class="kong-ba__list"><div class="kong-ba__list__header"><div class="kong-ba__list__name">'+n+' Name</div><div class="kong-ba__list__action"><span>Action</div></div><div class="kong-ba__list__body" ng-if="$ctrl.model.loaded"><list-item ng-repeat="item in $ctrl.model.list" model="item" action="$ctrl.action"></list-item></div><div class="kong-ba__list__empty" ng-show="$ctrl.model.loaded && $ctrl.model.list.length == 0">Empty</div><div class="kong-ba__list__preloader" ng-class="{\'kong-ba__list__preloader--hide\':$ctrl.model.loaded}"><span></span></div></div><footer-panel model="$ctrl.model"></footer-panel></div>',bindings:{model:"="}}),o.component("listItem",{controller:function(){var e=this;this.updateName=!1,this.tempName="",this.openUpdateName=function(){this.tempName=this.model.name,this.updateName=!0},this.rename=function(){this.valid()&&this.action.rename(e.model,e.tempName,function(){e.updateName=!1})},this.edit=function(){this.action.edit(this.model)},this.preview=function(){this.action.preview(this.model)},this.remove=function(){this.action.remove(this.model)},this.valid=function(){var e=this.tempName.trim();return e&&e!=this.model.name&&!this.model.restoring},this.enterToRename=function(e){13==e.keyCode&&(this.rename(),e.target.blur())}},template:'<div class="kong-ba__list__item"><div class="kong-ba__list__item__backdrop" ng-class="{\'kong-ba__list__item__backdrop--deleting\':$ctrl.model.deleting, \'kong-ba__list__item__backdrop--restoring\':$ctrl.model.restoring}" ></div><div class="kong-ba__list__item__wrap" ng-if="!$ctrl.updateName"><div class="kong-ba__list__item__name"><span ng-click="$ctrl.openUpdateName()" ng-bind="::$ctrl.model.name"></span></div><div class="kong-ba__list__item__action"><span ng-click="$ctrl.edit()">Edit</span><span ng-click="$ctrl.preview()">Preview</span><span ng-click="$ctrl.remove()">Trash</span></div></div><div class="kong-ba__list__item__wrap" ng-if="$ctrl.updateName"><input class="kong-ba__list__item__input" type="text" ng-keypress="$ctrl.enterToRename($event)" ng-model="$ctrl.tempName"  ng-trim="true" maxlength="35"/><div class="kong-ba__list__item__action"><span ng-click="$ctrl.rename()" ng-disabled="!$ctrl.valid()">Update</span><span ng-click="$ctrl.updateName=false">Cancel</span></div></div></div>',bindings:{model:"<",action:"<"}}),o.component("headerPanel",{controller:["$timeout","$http","$KongPopup",function(e,i,a){var s=this;s.item_name="",this.isValid=function(){return s.item_name.trim()&&!s.creating},this.createItem=function(){this.isValid()&&(s.creating=!0,i({method:"POST",url:o.__config.api+"/"+t+"s",data:{name:s.item_name}}).then(function(t){t.data&&(s.creating=!1,s.model.list.unshift({id:t.data,name:s.item_name.trim(),restoring:!0}),s.item_name="",e(function(){s.model.list[0].restoring=!1},400))},function(e){s.creating=!1,a.show({title:"Try it Later",message:"Error! cannot create new "+n+"."})}))},this.enterToCreate=function(e){13==e.keyCode&&(this.createItem(),e.target.blur())}}],template:'<div class="kong-ba__header kong-bs__header--aside"><div class="kong-ba__header__title"><h6>'+n+" Manager <span>v"+o.__config.version+'</span></h6></div><div class="kong-ba__creator" ng-class="{\'kong-ba__creator--creating\':$ctrl.creating}"><div class="kong-ba__creator__container"><div class="kong-ba__creator__input"><input type="text" ng-keypress="$ctrl.enterToCreate($event)" ng-trim="true" maxlength="35" placeholder="Enter '+n+' Name..." ng-model="$ctrl.item_name"/><span class="kong-ba__creator__loader"></span></div><span class="kong-ba__creator__createBtn kong-ui__btn kong-ui__btn--primary" ng-click="$ctrl.createItem()" ng-disabled="!$ctrl.isValid()">Create</span></div></div></div>',bindings:{model:"="}}),o.component("footerPanel",{controller:["$http","$KongPopup",function(t,i){var a=this;a.pages=[],a.defaultOption={id:0,name:"Home page"},t({method:"GET",url:o.__config.api+"/pages"}).then(function(t){e.isArray(t.data)&&(a.pages=t.data)}),a.openTrash=function(){a.model.show_trash=!a.model.show_trash},a.showHelp=function(){i.show({title:"What is this?",message:"Select a page, then when you click on <strong>Edit</strong> or <strong>Preview</strong> a "+n+", it will be displayed on that selected page."})}}],template:'<div class="kong-ba__footer"><div class="kong-ba__footer__startPage"><span class="kong-ba__footer__startPage__from">Edit from</span><div class="kong-ba__footer__startPage__list" list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.page" ng-list="$ctrl.pages"></div><small class="kong-ba__footer__startPage__help" ng-click="$ctrl.showHelp()">What is this?</small></div><span class="kong-ba__footer__openTrash" ng-click="$ctrl.openTrash()">Trash (<small ng-bind="$ctrl.model.trash.length"></small>)</span></div>',bindings:{model:"="}}),o.component("settingPanel",{controller:["$http","$timeout","$KongPopup",function(n,i,a){var s=this;o.__config.options?s.options=o.__config.options:s.options={primary:{enable:1,value:""},post:{enable:0,value:""}},s.previous=e.merge({},s.options),this.state="saved",s.getState=function(){return"saved"==s.state&&JSON.stringify(s.options)!==JSON.stringify(s.previous)&&(s.state="ready"),s.state},s.save=function(){"ready"==s.state&&(s.state="saving",n({method:"POST",url:o.__config.api+"/"+t+"-options",data:{options:s.options}}).then(function(t){s.state="success",t.data&&(s.previous=e.merge({},s.options)),i(function(){s.state="saved"},400)},function(e){s.state="ready",a.show({title:"Try it Later",message:"Error! cannot save data."})}))},s.labels=o.__config.labels}],template:'<div class="kong-ba__settingPanel kong-ba__aside"><div class="kong-ba__aside__header"><h6 class="kong-ba__aside__header__name">Settings</h6><span class="kong-ba__aside__header__saveBtn kong-ui__btn kong-ui__btn--primary"data-state="{{$ctrl.getState()}}" ng-click="$ctrl.save();"><span>Saved</span><span>Save</span><span class="kong-ba__aside__header__saveBtn__loader"></span><span><i class="fa fa-check" aria-hidden="true"></i></span></span></div><div class="kong-ba__aside__container"><item-selector ng-repeat="(key, label) in $ctrl.labels track by $index" name="{{::label}}" model="$ctrl.options[key]" list="$ctrl.list"></item-selector></div></div>',bindings:{list:"<"}}),o.component("itemSelector",{controller:function(){this.defaultOption={id:"",name:"Select a "+t},this.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},template:'<div class="kong-ba__selector"><label><h6 class="kong-ba__selector__title" ng-bind="::$ctrl.name"></h6><input ng-if="!$ctrl.model.always_enable" class="kong-ba__selector__enable" type="checkbox" ng-model="$ctrl.model.enable" /></label><div class="kong-ba__selector__list" ng-if="$ctrl.model.enable || $ctrl.model.always_enable"><div ng-if="!$ctrl.model.hasOwnProperty(\'post_type\') || !$ctrl.model.post_type" list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.value" ng-list="$ctrl.list"></div><div ng-if="$ctrl.model.hasOwnProperty(\'post_type\') && $ctrl.model.post_type" ng-repeat="(key, value) in $ctrl.model.value track by $index"><p>{{::$ctrl.capitalizeFirstLetter(key)}}</p><div list-selection ng-default="$ctrl.defaultOption" ng-model="$ctrl.model.value[key]" ng-list="$ctrl.list"></div></div></div></div>',bindings:{name:"@",model:"=",list:"<"}}),o.component("trashPanel",{controller:["$timeout","$http","$KongPopup",function(e,n,i){var a=this;a.show_confirm=!1,this.isActive=function(){return this.model.show_trash},this.restore=function(s){var r=this.model.trash[s];r.deleting=!1,r.restoring=!0,n({method:"POST",url:o.__config.api+"/"+t+"s/status",data:{id:r.id,status:"publish"}}).then(function(t){t.data&&(a.model.list.unshift(a.model.trash.splice(s,1)[0]),e(function(){a.model.list[0].restoring=!1},400))},function(e){r.restoring=!1,i.show({title:"Try it Later",message:"Error! cannot restore data."})})},this.remove=function(e){var s=this.model.trash[e];s.removing=!0,n({method:"DELETE",url:o.__config.api+"/"+t+"s/"+s.id}).then(function(t){-1!=t.data&&a.model.trash.splice(e,1)},function(e){s.removing=!1,i.show({title:"Try it Later",message:"Error! cannot remove data."})})}}],template:'<div class="kong-ba__trashPanel kong-ba__aside" ng-class="{\'kong-ba__trashPanel--active\': $ctrl.isActive()}"><div class="kong-ba__aside__header"><h6 class="kong-ba__aside__header__name">Trash</h6><span ng-click="$ctrl.model.show_trash=false" class="kong-ba__aside__header__closeBtn lmr lmr-cross"></span></div><div class="kong-ba__aside__container"><div class="kong-ba__trash__list"><p class="kong-ba__trash__list__empty" ng-show="$ctrl.model.trash.length == 0">The Trash is empty.</p><div class="kong-ba__trash__item"ng-class="{\'kong-ba__trash__item--removing\':item.removing, \'kong-ba__trash__item--restoring\':item.restoring}"ng-repeat="item in $ctrl.model.trash"><span class="kong-ba__trash__item__title" ng-bind="::item.name"></span><div class="kong-ba__trash__item__action" ng-show="!item.show_confirm"><span ng-click="$ctrl.restore($index)"><i class="lmr lmr-undo2"></i> Restore</span><span ng-click="item.show_confirm=true" class="lmr lmr-trash2"></span></div><div class="kong-ba__trash__item__removeConfirm" ng-show="item.show_confirm">Are your sure? <span ng-click="$ctrl.remove($index)">Yes</span> <span ng-click="item.show_confirm=false">No</span></div></div></div></div></div>',bindings:{model:"="}}),o.directive("listSelection",function(){return{restrict:"A",scope:{ngModel:"=",ngList:"<",ngDefault:"<"},link:function(t,n,o){var i=Date.now(),a=jQuery('<select id="uq-'+i+'" style="width: 100%"></select>');n.append(a),a.select2(),t.$watch("ngList",function(){var n="";e.isObject(t.ngDefault)&&(n+='<option value="'+t.ngDefault.id+'">'+t.ngDefault.name+"</option>");for(var o=0,i=t.ngList.length;o<i;o++){var s=t.ngList[o];if(s){var r=t.ngModel==s.id?'selected="selected"':"";n+='<option value="'+s.id+'" '+r+">"+s.name+"</option>"}}a.html(n),a.on("change",function(){t.$apply(function(){t.ngModel=a.val()})})},!0)}}})}(window.angular)},348:function(e,exports){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n,o){function i(e,n){return(void 0===e?"undefined":t(e))===n}function a(e,t){return!!~(""+e).indexOf(t)}function s(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):w?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function r(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,n){var o;for(var a in e)if(e[a]in t)return!1===n?e[a]:(o=t[e[a]],i(o,"function")?l(o,n||t):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function _(){var e=n.body;return e||(e=s(w?"svg":"body"),e.fake=!0),e}function p(e,t,o,i){var a,r,l,c,d="modernizr",p=s("div"),m=_();if(parseInt(o,10))for(;o--;)l=s("div"),l.id=i?i[o]:d+(o+1),p.appendChild(l);return a=s("style"),a.type="text/css",a.id="s"+d,(m.fake?m:p).appendChild(a),m.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(n.createTextNode(e)),p.id=d,m.fake&&(m.style.background="",m.style.overflow="hidden",c=y.style.overflow,y.style.overflow="hidden",y.appendChild(m)),r=t(p,e),m.fake?(m.parentNode.removeChild(m),y.style.overflow=c,y.offsetHeight):p.parentNode.removeChild(p),!!r}function m(t,n){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(d(t[i]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];i--;)a.push("("+d(t[i])+":"+n+")");return a=a.join(" or "),p("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return o}function u(e,t,n,l){function c(){_&&(delete T.style,delete T.modElem)}if(l=!i(l,"undefined")&&l,!i(n,"undefined")){var d=m(e,n);if(!i(d,"undefined"))return d}for(var _,p,u,g,f,h=["modernizr","tspan","samp"];!T.style&&h.length;)_=!0,T.modElem=s(h.shift()),T.style=T.modElem.style;for(u=e.length,p=0;u>p;p++)if(g=e[p],f=T.style[g],a(g,"-")&&(g=r(g)),T.style[g]!==o){if(l||i(n,"undefined"))return c(),"pfx"!=t||g;try{T.style[g]=n}catch(e){}if(T.style[g]!=f)return c(),"pfx"!=t||g}return c(),!1}function g(e,t,n,o,a){var s=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+x.join(s+" ")+s).split(" ");return i(t,"string")||i(t,"undefined")?u(r,t,o,a):(r=(e+" "+S.join(s+" ")+s).split(" "),c(r,t,n))}function f(e,t,n){return g(e,o,o,t,n)}var h=[],v=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){v.push({name:e,fn:t,options:n})},addAsyncTest:function(e){v.push({name:null,fn:e})}},k=function(){};k.prototype=b,k=new k;var y=n.documentElement,w="svg"===y.nodeName.toLowerCase(),P="Moz O ms Webkit",x=b._config.usePrefixes?P.split(" "):[];b._cssomPrefixes=x;var S=b._config.usePrefixes?P.toLowerCase().split(" "):[];b._domPrefixes=S;var C={elem:s("modernizr")};k._q.push(function(){delete C.elem});var T={style:C.elem.style};k._q.unshift(function(){delete T.style}),b.testAllProps=g,b.testAllProps=f,k.addTest("flexbox",f("flexBasis","1px",!0)),k.addTest("flexwrap",f("flexWrap","wrap",!0)),function(){var e,t,n,o,a,s,r;for(var l in v)if(v.hasOwnProperty(l)){if(e=[],t=v[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)s=e[a],r=s.split("."),1===r.length?k[r[0]]=o:(!k[r[0]]||k[r[0]]instanceof Boolean||(k[r[0]]=new Boolean(k[r[0]])),k[r[0]][r[1]]=o),h.push((o?"":"no-")+r.join("-"))}}(),function(e){var t=y.className,n=k._config.classPrefix||"";if(w&&(t=t.baseVal),k._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}k._config.enableClasses&&(t+=" "+n+e.join(" "+n),w?y.className.baseVal=t:y.className=t)}(h),delete b.addTest,delete b.addAsyncTest;for(var E=0;E<k._q.length;E++)k._q[E]();e.Modernizr=k}(window,document)},432:function(e,exports){"use strict";!function(e){e.module("kongPopup",[]).factory("$KongPopup",function(){return{show:function(t){var n=e.element('<div class="kong-bs__fsPopup"><h6 class="kong-bs__fsPopup__title">'+t.title+'</h6><div class="kong-bs__fsPopup__body">'+t.message+'</div><div class="kong-bs__fsPopup__footer"></div></div><div class="kong-bs__fsPopup__backdrop"></div>'),o=n.find(".kong-bs__fsPopup__footer");if(Array.isArray(t.buttons))t.buttons.forEach(function(t){var n=e.element('<button class="kong-ui__btn"></button>');t.hasOwnProperty("text")?n.html(t.text):n.html("Dismiss"),t.hasOwnProperty("class")?n.addClass(t.class):n.addClass("kong-ui__btn--primary"),n.on("click",function(e){e.preventDefault(),"function"==typeof t.callback&&t.callback(),a()}),o.append(n)});else{var i=e.element('<button class="kong-ui__btn kong-ui__btn--primary">Dismiss</button>');o.append(i),i.on("click",function(e){e.preventDefault(),a()})}e.element("body").append(n),"function"==typeof t.onInit&&t.onInit(n);var a=function(){return n.remove(),document.removeEventListener("keydown",s),"function"==typeof t.onClose&&t.onClose(n),!0},s=function(e){27==e.keyCode&&a()};document.addEventListener("keydown",s)}}})}(window.angular)}});